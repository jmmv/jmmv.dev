<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Whatever happened to sandboxfs? - Julio Merino (jmmv.dev)</title>
<meta property="og:title" content="Whatever happened to sandboxfs? - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Whatever happened to sandboxfs? - Julio Merino (jmmv.dev)"><meta name=description content="Back in 2017&ndash;2020, while I was on the Blaze team at Google, I took on a 20% project that turned into a bit of an obsession: sandboxfs. Born out of my work supporting iOS development, it was my attempt to solve a persistent pain point that frustrated both internal teams and external users alike: Bazel&rsquo;s poor sandboxing performance on macOS.
sandboxfs was a user-space file system designed to efficiently create virtual file hierarchies backed by real files&mdash;a faster alternative to the &ldquo;symlink forests&rdquo; that Bazel uses to prepare per-action sandboxes. The idea was simple: if we could lower sandbox creation overhead, we could make Bazel&rsquo;s sandboxing actually usable on macOS.
Unfortunately, things didn&rsquo;t play out as I dreamed. Today, sandboxfs is effectively abandoned, and macOS sandboxing performance remains an unsolved problem. In this post, I&rsquo;ll walk you through why I built sandboxfs, what worked, what didn&rsquo;t, and why&mdash;despite its failure&mdash;I still think the core idea holds promise.
"><meta property="og:description" content="Back in 2017&ndash;2020, while I was on the Blaze team at Google, I took on a 20% project that turned into a bit of an obsession: sandboxfs. Born out of my work supporting iOS development, it was my attempt to solve a persistent pain point that frustrated both internal teams and external users alike: Bazel&rsquo;s poor sandboxing performance on macOS.
sandboxfs was a user-space file system designed to efficiently create virtual file hierarchies backed by real files&mdash;a faster alternative to the &ldquo;symlink forests&rdquo; that Bazel uses to prepare per-action sandboxes. The idea was simple: if we could lower sandbox creation overhead, we could make Bazel&rsquo;s sandboxing actually usable on macOS.
Unfortunately, things didn&rsquo;t play out as I dreamed. Today, sandboxfs is effectively abandoned, and macOS sandboxing performance remains an unsolved problem. In this post, I&rsquo;ll walk you through why I built sandboxfs, what worked, what didn&rsquo;t, and why&mdash;despite its failure&mdash;I still think the core idea holds promise.
"><meta property="twitter:description" content="Back in 2017&ndash;2020, while I was on the Blaze team at Google, I took on a 20% project that turned into a bit of an obsession: sandboxfs. Born out of my work supporting iOS development, it was my …"><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.145.0"><meta property="og:url" content="https://jmmv.dev/2025/06/whatever-happened-to-sandboxfs.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/2025/06/whatever-happened-to-sandboxfs.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/2025-06-11-sandboxfs-cover-concept.png"><meta property="twitter:image" content="https://jmmv.dev/images/2025-06-11-sandboxfs-cover-concept.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><img src=https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi8yMDI1LzA2L3doYXRldmVyLWhhcHBlbmVkLXRvLXNhbmRib3hmcy5odG1s/stamp.gif style=display:none>
<script>window.location.replace("https://blogsystem5.substack.com/p/whatever-happened-to-sandboxfs")</script><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Whatever happened to sandboxfs?</h1><p>June 11, 2025 &#183;
About 10 minutes
&#183;
Tags:
<a href=/tags/bazel>bazel</a>, <a href=/tags/blogsystem5>blogsystem5</a>, <a href=/tags/sandboxfs>sandboxfs</a></p><p class=post-meta-p>This article was
<a href=https://blogsystem5.substack.com/p/whatever-happened-to-sandboxfs>originally published
on Substack</a>
in the <a href=https://blogsystem5.substack.com/>Blog System/5 newsletter</a>
and is replicated here for archival purposes.</p><figure class=cover-image><img src=/images/2025-06-11-sandboxfs-cover-concept.png style=max-width:100%></figure></div></div><div class="container post-body"><div class=row><div class=col-md-9><div class=row><div class=col><article><p>Back in 2017&ndash;2020, while I was on the Blaze team at Google, I took on a 20% project that turned into a bit of an obsession: <a href=https://github.com/bazelbuild/sandboxfs>sandboxfs</a>. Born out of my work supporting iOS development, it was my attempt to solve a persistent pain point that frustrated both internal teams and external users alike: Bazel&rsquo;s <a href=https://github.com/bazelbuild/bazel/issues/8230>poor sandboxing performance on macOS</a>.</p><p>sandboxfs was a user-space file system designed to efficiently create virtual file hierarchies backed by real files&mdash;a faster alternative to the &ldquo;symlink forests&rdquo; that Bazel uses to prepare per-action sandboxes. The idea was simple: if we could lower sandbox creation overhead, we could make Bazel&rsquo;s sandboxing actually usable on macOS.</p><p>Unfortunately, things didn&rsquo;t play out as I dreamed. Today, sandboxfs is effectively abandoned, and macOS sandboxing performance remains an unsolved problem. In this post, I&rsquo;ll walk you through why I built sandboxfs, what worked, what didn&rsquo;t, and why&mdash;despite its failure&mdash;I still think the core idea holds promise.</p><h1 id=sandboxing-101>Sandboxing 101</h1><p>To understand how sandboxfs was intended to help with sandboxed build performance, we need to first dive into how Bazel runs build actions. For those unfamiliar with Bazel&rsquo;s terminology, a <em>build action</em> or <em>action</em> is an individual build step, like a single compiler or linker execution.</p><p>To run actions, Bazel uses <a href=/2019/12/bazel-strategies.html>the strategies abstraction</a> to decouple action tracking in the build graph from how those actions are actually executed. The default strategy for local builds is the <code>sandboxed</code> strategy, which isolates the processes that an action runs from the rest of the system. The goal is to make these processes behave in a deterministic manner.</p><p>The sandboxed strategy achieves action isolation via two different mechanisms:</p><ul><li><p>The use of kernel-level sandboxing features to restrict what the action can do (limit network access, limit reads and writes to parts of the file system, etc.). One such mechanism is <a href=/2019/11/macos-sandbox-exec.html>sandbox-exec on macOS</a>.</p></li><li><p>The creation of an execution root (or <em>execroot</em>) in which the action runs. The execroot contains the minimum set of files required for the action to run: namely, the toolchain and the action inputs (source files, toolchain dependencies, etc.). One way to do this is via symlink forests.</p></li></ul><h1 id=symlink-forests>Symlink forests</h1><p>The default mechanism to create an execroot in Bazel is to leverage <em>symlink forests</em>: file hierarchies that use symlinks to refer to files that live elsewhere.</p><p>Creating a symlink forest is an operation that scales linearly with the number of files in it, and each symlink creation requires <em>at least</em> two system calls: one to create the symlink and another to delete it when the sandbox is torn down. Plus symlink forests typically have complex directory structures, so there are extra <code>mkdir</code> and <code>rmdir</code> operations to handle all intermediate path components. Doing thousands of these operations may only take milliseconds, but&mldr; overheads in action execution <a href=/2018/04/bazel-xcode-locations-cache.html>quickly compound</a> and turn into visible build slowdowns.</p><p>To illustrate what this means in practice, consider this target:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>cc_library</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>srcs</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;foo.c&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><p>This target makes Bazel spawn one action to compile <code>foo.c</code> into <code>foo.o</code>. Said action needs to: run the compiler; read the <code>foo.c</code> file; and access any system includes that <code>foo.c</code> may reference. Thus, the sandbox used to run this action may look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>.../sandbox/external/cc/bin/clang -&gt; /usr/bin/clang
</span></span><span class=line><span class=cl>.../sandbox/external/cc/include/stdio.h -&gt; /usr/include/stdio.h
</span></span><span class=line><span class=cl>.../sandbox/external/cc/include/stdlib.h -&gt; /usr/include/stdlib.h
</span></span><span class=line><span class=cl>.../sandbox/libfoo/foo.c -&gt; /home/jmmv/sample/libfoo/foo.c
</span></span></code></pre></div><p>Having this symlink forest in place, Bazel would run the equivalent of this command to perform the compilation:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>cd .../sandbox &amp;&amp; ./external/cc/bin/clang -nostdinc -I./external/cc/include -o libfoo/foo.o -c libfoo/foo.c
</span></span></code></pre></div><p>When Bazel runs this, it expects that <code>clang</code> will only access files in the <code>external/cc/include</code> directory it previously created inside the sandbox. But because reality may not match expectations, Bazel wraps the command by whatever technology the host OS provides to enforce sandboxing.</p><h1 id=motivation-for-sandboxfs>Motivation for sandboxfs</h1><p>Creating symlink forests on an action basis was very expensive on macOS&mldr; or so everyone said. When I arrived to the Blaze team, sandboxing had already been disabled by default on macOS builds and the rationale behind that was that &ldquo;symlinks were too slow&rdquo;.</p><p>There were some flaws with this claim:</p><ol><li><p>It was impossible to prove. I ran many microbenchmarks to exercise symlink creations and deletions in large amounts and could never observe a significant performance degradation compared to Linux.</p></li><li><p>Building Bazel with itself, with sandboxing enabled, did not show any sort of substantial performance loss. Yet Bazel has relatively large C++ and Java actions in its own build so you would have expected to see <em>something</em>.</p></li><li><p>If macOS was truly bad at something as fundamental as &ldquo;symlink management&rdquo;, you&rsquo;d imagine that <em>someone else</em> would have found the issue and asked about it online (as it often happens with <a href="https://www.youtube.com/watch?v=qbKGw8MQ0i8">misguided NTFS complaints</a>). But there were none to be found.</p></li></ol><p>Still, I devised the sandboxfs plan right after developing <a href=https://github.com/jmmv/sourcachefs>sourcachefs</a>&mdash;another short-lived stint in file systems development&mdash;and I charged ahead. I wanted sandboxfs to exist because it did solve an obvious scalability issue (issuing tens of thousands of syscalls per symlink forest creation is <em>not</em> free) and because I wanted sanboxfs to exist <a href=/2017/02/introducing-pkg_comp-2.0.html>for <code>pkg_comp</code>&rsquo;s own benefit</a>.</p><h1 id=what-does-sandboxfs-do>What does sandboxfs do?</h1><p>sandboxfs replaces symlink forests with a virtual file hierarchy that can be materialized in constant time. Here is the flow of operations:</p><ol><li><p>Bazel generates an in-memory manifest of the execroot structure and which files are backed by which other files.</p></li><li><p>Bazel sends this manifest to sandboxfs via an RPC (which means we have at least one system call to send a message through a socket and a couple of context switches).</p></li><li><p>sandboxfs updates its in-memory representation of the file system and exposes a new sandbox at its mount point.</p></li><li><p>Bazel runs the action in the new sandbox.</p></li><li><p>sandboxfs catches all I/O in the sandbox and redirects it to the relevant real backing files.</p></li></ol><p>It&rsquo;s this last point that presents the trade off behind sandboxfs, because sandboxfs doesn&rsquo;t make all costs magically go away. Instead of paying the cost of setting up the sandbox upfront via many system calls, we pay a different cost over all reads and writes that go through the virtual file system. The original hypothesis was that this would be worth it, because most (but not all) build actions are <em>not</em> I/O bound, and most build actions do <em>not</em> access all the files that are mapped into their sandbox.</p><p>Going back to the example from before, Bazel would send an RPC like this to sandboxfs:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;CreateSandbox&#34;: {
</span></span><span class=line><span class=cl>        Path: &#34;/736&#34;,
</span></span><span class=line><span class=cl>        Mappings: {
</span></span><span class=line><span class=cl>            &#34;external/cc/bin/clang&#34;: &#34;/usr/bin/clang&#34;,
</span></span><span class=line><span class=cl>            &#34;external/cc/include/stdio.h&#34;: &#34;/usr/include/stdio.h&#34;,
</span></span><span class=line><span class=cl>            &#34;external/cc/include/stdlib.h&#34;: &#34;/usr/include/stdlib.h&#34;,
</span></span><span class=line><span class=cl>            &#34;libfoo/foo.c&#34;: &#34;/home/jmmv/sample/libfoo/foo.c&#34;,
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>And this would cause the following file hierarchy to be immediately available under the mount point:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>.../sandboxfs/736/external/cc/bin/clang
</span></span><span class=line><span class=cl>.../sandboxfs/736/external/cc/include/stdio.h
</span></span><span class=line><span class=cl>.../sandboxfs/736/external/cc/include/stdlib.h
</span></span><span class=line><span class=cl>.../sandboxfs/736/libfoo/foo.c
</span></span></code></pre></div><p>Note that I did <em>not</em> write what these files point to in this snippet because sandboxfs does <em>not</em> use symlinks. sandboxfs exposes the files as if they were real files, and it does that to prevent tools from resolving symlinks and discovering sibling files they aren&rsquo;t supposed to see. From the point of view of <code>clang</code> when it runs, everything it sees under <code>.../sandboxfs/736/external/cc/include/stdio.h</code> is <em>a copy</em> of whatever is in <code>/usr/include/stdio.h</code>.</p><h1 id=what-went-well>What went well</h1><p>Overall, sandboxfs was a fun exercise and a great journey to learn more about Rust, FUSE and file systems, and macOS internals:</p><ul><li><p>I got to learn Rust. I was lucky to find a random coworker at Google that offered to review my code, and his input was an invaluable learning resource for me.</p></li><li><p>I got to learn about FUSE in quite a bit of detail. I had already played with it before, but by working on sandboxfs, I had to debug some gnarly problems.</p></li><li><p>I got to experience rewriting pre-existing Go code in Rust (because the original sandboxfs implementation was in Go). This was an enlightening exercise because, as I tried to convert the code &ldquo;verbatim&rdquo;, I discovered many subtle concurrency bugs and data races that Rust just didn&rsquo;t let me write.</p></li><li><p>The initial performance evaluation of using sandboxfs for real iOS builds <a href=https://blog.bazel.build/2018/04/13/preliminary-sandboxfs-support.html>showed promise</a>: I observed that a specific iOS app &ldquo;only&rdquo; got a 55% performance penalty when using sandboxfs instead of the 270% penalty it got from symlink forests. A good win, but insufficient to justify enabling sandboxing by default.</p></li></ul><h1 id=what-went-wrong>What went wrong</h1><p>Many things really. Let&rsquo;s start with wrong assumptions:</p><ul><li><p>Symlink forest creation may not have been the biggest problem in sandboxing performance. As I mentioned in the opening, microbenchmarking this area of macOS didn&rsquo;t show obvious slowdowns and building Bazel with itself didn&rsquo;t show major performance differences with and without sandboxing. But iOS builds suffered massively from sandboxing, and the problem was elsewhere: the Objective C and Swift compilers cache persistent state on disk, and sandboxing was preventing such state from actually being persisted.</p></li><li><p>The need for sandboxing on interactive builds was questionable. Yes, it&rsquo;d have been neat to have it, but in practice, the benefits are little: if your CI builds are powered by remote execution, which tends to happen when you use Bazel, then the implicit sandboxing of remote execution gives you almost all protections that you&rsquo;d get from using sandboxing.</p></li></ul><p>There were also implementation problems:</p><ul><li><p>The original implementation of sandboxfs was written in Go, and I hit performance issues with the way <a href=https://github.com/bazil/fuse>bazil/fuse</a> dealt with FUSE operations.</p></li><li><p>The previous was fixed by rewriting sandboxfs in Rust, but then I hit performance problems with the JSON-based RPC interface that sandboxfs had grown in a rush. Fixing this properly required a deep redesign to use path compression and to bypass JSON altogether. But I didn&rsquo;t get to this because&mldr;</p></li><li><p><a href=/2020/01/osxfuse-hardlinks-dladdr.html>Kernel bugs / limitations</a> in OSXFUSE erased the possibility of implementing a critical performance optimization.</p></li></ul><p>And then I also hit unexpected changes in the ecosystem:</p><ul><li><p>Apple <a href=https://support.apple.com/en-ca/guide/deployment/depa5fb8376f/web>deprecated kernel extensions</a>, making the use of FUSE really convoluted and its future uncertain. Apple provided alternate APIs to implement file systems in user space, but those were designed for iCloud-style services and were/are not suitable for sandboxfs.</p></li><li><p>At around the same time in 2019, <a href=https://colatkinson.site/macos/fuse/2019/09/29/osxfuse/>OSXFUSE went closed source</a>. This meant that relying on it for any future work was not well-advised. There were still code dumps for older versions, but that was not something I was able to maintain.</p></li><li><p>Because of the previous two, I would have had to expose the sandboxfs virtual file system over NFSv4 instead of FUSE. <a href=https://github.com/buildbarn/bb-clientd>Buildbarn&rsquo;s bb-clientd</a> provides a dual FUSE/NFSv4 implementation, which proves that this is technically doable, but adding an NFSv4 frontend to sandboxfs meant having to rewrite it from scratch. Plus I&rsquo;m not sure we&rsquo;d have gotten good-enough performance if we went this route.</p></li><li><p>At that point in mid-2019, given the other problems illustrated above&mldr; I had no interest nor time to rewrite sandboxfs &ldquo;correctly&rdquo; (remember, this was a 20% project at first, which unsurprisingly turned into an 120% project). It&rsquo;d have been nice to do though, because &ldquo;now I know how to do it right&rdquo;.</p></li></ul><h1 id=is-sandboxfs-needed>Is sandboxfs needed?</h1><p>I still believe that Bazel needs something like sandboxfs for efficient sandboxed builds. As I mentioned earlier, creating symlink forests does not scale for action execution, and with ever-growing toolchain sizes, the problem is getting worse over time. However, the benefits of local sandboxing are unclear if you are already using remote execution.</p><p>That said, people keep complaining about poor Bazel sandboxing performance on macOS, which means there still is a clear user need to make this better. And I&rsquo;m not convinced the various &ldquo;workarounds&rdquo; that have been tried in this area (like reusing sandboxes) are sound designs nor that they can actually deliver on their promise.</p><p>In my case&mldr; I don&rsquo;t run Bazel on Mac anymore at work. What&rsquo;s more: I do not even use a Mac for personal reasons these days, which means my ulterior motive to use sandboxfs in <code>pkg_comp</code> is gone. But! If you wanted to redesign sandboxfs from scratch, let&rsquo;s talk!</p></article></div></div><div class="container post-links"><div class=row><div class="col mr-auto text-left"><span><a href=https://jmmv.dev/2025/05/beginning-3d-printing.html>&#171; Previous</a></span></div><div class="col text-center"><span><a href=/archive.html>All posts</a></span></div><div class="col ml-auto text-right"><span><a href=https://jmmv.dev/2025/06/endbox-journey-lessons.html>Next &#187;</a></span></div></div></div><div class="container post-votes"><div class=row><div class="col-lg-4 my-2"><div class=row><div class=col><a onclick=voteThumbsUp() class="btn btn-block btn-outline-success" id=thumbs-up-btn>👍
(<span id=thumbs-up-count>0</span>)</a></div><div class=col><a onclick=voteThumbsDown() class="btn btn-block btn-outline-danger" id=thumbs-down-btn>👎
(<span id=thumbs-down-count>0</span>)</a></div></div></div><div class="col-lg-8 my-2 d-none d-sm-block"><div class=row><div class="col-md-4 text-center"><a href="https://www.reddit.com/submit?title=Whatever+happened+to+sandboxfs%3F&amp;url=https%3A%2F%2Fjmmv.dev%2F2025%2F06%2Fwhatever-happened-to-sandboxfs.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/reddit.png alt=Reddit width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://news.ycombinator.com/submitlink?t=Whatever+happened+to+sandboxfs%3F&amp;u=https%3A%2F%2Fjmmv.dev%2F2025%2F06%2Fwhatever-happened-to-sandboxfs.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/ycombinator.png alt="Hacker News" width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://twitter.com/intent/tweet?status=Whatever+happened+to+sandboxfs%3F+%E2%80%94+https%3A%2F%2Fjmmv.dev%2F2025%2F06%2Fwhatever-happened-to-sandboxfs.html+%E2%80%94+cc+%40jmmv" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/Twitter_Social_Icon_Circle_Color.png alt=Twitter width=24 height=24></a></div></div></div></div><div class="row my-4" id=postCommentRow><div class=col><div class=media><img class=mr-3 src=/octicons/pencil.svg width=32px height=32px><div class="media-body container"><form method=post id=newPost><div class=row><div class="col my-1"><textarea class=form-control rows=1 id=postCommentContent onclick=showPostComment() placeholder="Leave a comment"></textarea></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentAuthor>Your name (optional):</label>
<input type=text class=form-control id=postCommentAuthor></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentEmail>Your email (optional):</label>
<input type=text class=form-control type=email id=postCommentEmail>
<small class="form-text text-muted">Invisible to all readers; if provided, you will receive notifications when replied to (not implemented yet)</small></div></div><div class=row id=postCommentError style=display:none><div class="col mt-1 alert-danger"><p></p></div></div><div class="row newPostControls" style=display:none><button class="col-md-3 my-1 btn btn-primary" type=submit id=submitCommentButton>Post</button>
<small class="col-md-9 my-1 text-muted">Comments are subject to moderation. This feature is experimental and is powered by <a href=/software/endtracker.html>EndTRACKER</a>. If you experience any issues, please <a href=/about.html#contact>contact me off-band</a>.</small></div></form></div></div></div></div><script>function hidePostComment(){var t,e=document.getElementById("postCommentContent");e.rows=1,e.value="",t=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(t,function(e){e.style.display="none"})}function showPostComment(){var e,t=document.getElementById("postCommentContent");t.rows=5,e=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(e,function(e){e.style.display=""})}const form=document.querySelector("#newPost");form.onsubmit=function(e){e.preventDefault();let t=document.getElementById("postCommentAuthor").value,n=document.getElementById("postCommentEmail").value,s=document.getElementById("postCommentContent").value;postComment(t,n,s,hidePostComment)}</script></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon">
</a><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter">
</a><a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2025
Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.0de73782e9e0fbcb4184fb5793949b3b0d0ada16455df89320415b4dcc052f88.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script></body></html>