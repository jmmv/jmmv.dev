<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  

  <title>One time passwords - Julio Merino</title>
  <meta content="One time passwords - Julio Merino" property="og:title">

  
  <meta name="description" content="When you are away from home, you may need to access your machine through an SSH (or telnet, if you are still using it) client. The client machine will often be public and not administered by you, so you can&#39;t trust it. Who warrants you that it does not contain any key sniffer that can capture your password?
In this situation, you can still log in by using a one time password (OTP).">
  <meta name="author" content="Julio Merino">
  <meta name="generator" content="Hugo 0.36.1" />

  <meta content="http://julio.meroh.net/2004/09/one-time-passwords.html" property="og:url">

  <link rel="canonical" href="http://julio.meroh.net/2004/09/one-time-passwords.html">
  <link rel="alternate" type="application/rss+xml"
        title="Julio Merino" href="/feed.xml" />

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/chroma.css">

  
  <!--[if lt IE 9]>
    <script src="/js/html5shiv-3.7.2.min.js"></script>
    <script src="/js/respond-1.4.2.min.js"></script>
  <![endif]-->
</head>


  <body>
    <header class="site-header">

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed"
              data-toggle="collapse" data-target="#navbar"
              aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Julio Merino</a>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
          
            <li><a class="page-link" href="/about.html" >About</a></li>
          
        
          
            <li><a class="page-link" href="/essays.html" >Essays</a></li>
          
        
          
            <li><a class="page-link" href="/software.html" >Software</a></li>
          
        
          
            <li><a class="page-link" href="/work.html" >Work</a></li>
          
        
      </ul>

      <form class="navbar-form navbar-right" method="get" role="search"
            action="http://www.google.com/search">
          <div class="form-group">
            <input type="text" name="query" class="form-control"
                   placeholder="Search">
            <input type="hidden" name="sitesearch" value="http://julio.meroh.net/">
          </div>
          <button type="submit" value="Search" class="btn btn-default">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </button>
      </form>
    </div>
  </div>
</nav>

</header>


    <div class="page-header">
      <div class="container">
        <h1>One time passwords</h1>

        <p>September 13, 2004</p>

        
      </div>
    </div>

    <div class="container">
      <article>
        <p>When you are away from home, you may need to access your machine through an SSH (or telnet, if you are still using it) client. The client machine will often be public and not administered by you, so you can't trust it. Who warrants you that it does not contain any key sniffer that can capture your password?</p>  <p>In this situation, you can still log in by using a <i>one time password</i> (OTP). These passwords let you log in your machine only once, so even if somebody else is able to sniff it, it won't be of any use to them. The disadvantage is that you have to carry a list of valid OTP passwords and be sure that nobody can see them until they have been used.</p>  <p>There are many OTP systems; the one I'm using is <i>skey</i>, which comes with the default <a href="http://www.netbsd.org/">NetBSD</a> installation - on other systems, check if it is included or install it from the packages system. Furthermore, it is well integrated with SSH, so its setup is painless.</p>  <p>Start by enabling OTP passwords for you account, issuing <tt>skeyinit</tt> from the command line. It will ask you your account's password and a passphrase: the first one is used to authenticate you and the second one is used to generate the OTP sequence. Once introduced, the program will let you know the actual sequence number and an identifier for your keys. Be sure to store take note of the identifier, as you will need it to generate further keys (if you are unsure, just store the entire output of the program). Furthermore, it will also let you know your first OTP.</p>  <p>But one OTP is not enough, specially when you are away (since you can't generate more from there).  So, run the <tt>skey</tt> program, which takes two arguments: the sequence number and the key identifier you stored above.  Additionally, pass it the <tt>-n 10</tt> parameter to generate 10 OTPs (replace the number with the amount you want). Then, take note of all listed passwords in a paper and store them in your wallet.</p>  <p>Now you can safely log into your system 10 times.  If you need more passwords, you can generate them with another call to <tt>skey</tt>, replacing the sequence number with the next one.</p>  <b>Edit (18:37)</b>: In fact, you don't need to remember the identifier printed by <tt>skeyinit</tt>; simply running <tt>skeyinfo</tt> at any time will tell you your next OTP sequence and identifier. Sorry for the confusion, but I was posting from a computer that didn't have these utilities and I couldn't verify it.<p class="mobile-post"></p>

      </article>

      <div class="post-links">
        <p>
          

          

          <a href="/feed.xml">Subscribe via RSS</a>
          &middot;
          <a href="/blog">Go to posts index</a>
        </p>

        <form class="form-inline"
            action="https://feedburner.google.com/fb/a/mailverify"
            method="post"
            target="popupwindow"
            onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=jmmv', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
          <div class="form-group form-group-sm">
            <input type="text" style="width: 400px" name="email"
                    placeholder="Enter your email to subscribe to new posts"
                    class="form-control input-sm"/>
          </div>
          <button type="submit" value="Subscribe"
                  class="btn btn-default btn-sm">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
          &nbsp;&nbsp;&nbsp;Delivered by
          <input type="hidden" value="jmmv" name="uri"/>
          <input type="hidden" name="loc" value="en_US"/>
          <a href="https://feedburner.google.com" target="_blank">FeedBurner</a>
        </form>
      </div>

      <div id="disqus_thread">
        <script>
          var disqus_config = function () {
            this.page.url = "http:\/\/julio.meroh.net\/2004\/09\/one-time-passwords.html";
            this.page.identifier = "2004-09-13-one-time-passwords";
          };
          (function() { 
            var d = document, s = d.createElement('script');

            s.src = '//jmmv.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
          powered by Disqus.</a>
        </noscript>
      </div>
      
      <p>Comments from the original Blogger-hosted post:</p>
      <script src="https://apis.google.com/js/plusone.js"></script>
      <div class="g-comments"
           data-href="http://julipedia.meroh.net/2004/09/one-time-passwords.html"
           data-first_party_property="BLOGGER"
           data-view_type="FILTERED_POSTMOD">
      </div>
      
    </div>

    <div class="container">
  <footer>
    <p class="pull-right"><a href="#">Back to top</a></p>
    <p>Copyright 2018 Julio Merino</p>
  </footer>
</div>

<script src="/js/jquery-1.11.2.min.js"></script>
<script src="/css/bootstrap.min.js"></script>

<script>
$("p:contains('NOTE: ')").addClass("callout callout-info");
$("p:contains('IMPORTANT: ')").addClass("callout callout-info");
$("p:contains('WARNING: ')").addClass("callout callout-warning");
$("p:contains('DANGER: ')").addClass("callout callout-danger");
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
  m.parentNode.insertBefore(a,m)})(window,document,'script',
  '//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63557333-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
