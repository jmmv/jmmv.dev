<!doctype html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no">
  

  <meta property="og:site_name" content="jmmv.dev">

  <title>EndBASIC 0.4 release announcement - jmmv.dev</title>
  <meta property="og:title" content="EndBASIC 0.4 release announcement - jmmv.dev">

  

  <meta name="description" content="About a month ago and after a long hiatus, I published EndBASIC 0.3 and the adrenaline rush that came with it got my wheels spinning again full-steam ahead. So here I am today, ready to announce the 0.4 release. But&amp;hellip; &amp;ldquo;what could have possibly changed in just a month of someone&amp;rsquo;s free time&amp;rdquo;, you wonder? Enough, actually!
EndBASIC 0.4 is the release that fulfills my original goal of being able to run a &amp;ldquo;guess the number&amp;rdquo; game.">
  <meta property="og:description" content="About a month ago and after a long hiatus, I published EndBASIC 0.3 and the adrenaline rush that came with it got my wheels spinning again full-steam ahead. So here I am today, ready to announce the 0.4 release. But&amp;hellip; &amp;ldquo;what could have possibly changed in just a month of someone&amp;rsquo;s free time&amp;rdquo;, you wonder? Enough, actually!
EndBASIC 0.4 is the release that fulfills my original goal of being able to run a &amp;ldquo;guess the number&amp;rdquo; game.">
  <meta name="author" content="Julio Merino">
  <meta name="generator" content="Hugo 0.78.1" />

  <meta property="og:url" content="https://jmmv.dev/2020/12/endbasic-0.4.html">

  <meta property="og:type" content="blog">

  <link rel="canonical" href="https://jmmv.dev/2020/12/endbasic-0.4.html">
  <link rel="alternate" type="application/rss+xml"
        title="jmmv.dev" href="/feed.xml" />

  <link rel="stylesheet" href="/sass/main.min.f4002f0a7ee13a8f58633dfcb1b77e1469c2b0e0ce1406dfb10ff0c0d2d28563.css">
  <link rel="stylesheet" href="/css/chroma.css">

  <meta property="og:image" content="/images/favicons/favicon-1200x1200.png" />
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">

  
  <!--[if lt IE 9]>
    <script src="/js/html5shiv-3.7.2.min.js"></script>
    <script src="/js/respond-1.4.2.min.js"></script>
  <![endif]-->
</head>


  <body>
    <header class="site-header">

<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
  <a class="navbar-brand" href="/">
    <img src="/images/favicons/favicon-30x30.png" width="30" height="30" class="d-inline-block align-top" alt="">
    &nbsp;jmmv.dev
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      
        
          <li class="nav-item">
            <a class="nav-link" href="/about.html" >About</a>
          </li>
        
      
        
          <li class="nav-item">
            <a class="nav-link" href="/essays.html" >Essays</a>
          </li>
        
      
        
          <li class="nav-item">
            <a class="nav-link" href="/resume.html" >Resume</a>
          </li>
        
      
        
          <li class="nav-item">
            <a class="nav-link" href="/software.html" >Software</a>
          </li>
        
      
        
          <li class="nav-item">
            <a class="nav-link" href="/work.html" >Work</a>
          </li>
        
      
    </ul>

    <ul class="navbar-nav mr-4">
      
        
          <li class="nav-item">
            <a class="nav-link" href="/archive.html" >Archive</a>
          </li>
        
      
        
          <li class="nav-item">
            <a class="nav-link" href="/series.html" >Series</a>
          </li>
        
      
        
          <li class="nav-item">
            <a class="nav-link" href="/tags.html" >Tags</a>
          </li>
        
      
    </ul>

    <form class="form-inline" method="get" role="search"
          action="http://www.google.com/search">
      <div class="input-group">
        <input type="search" name="query" class="form-control"
                placeholder="Search" aria-label="Search">
        <div class="input-group-append">
          <button type="submit" value="Search" class="btn btn-light">
            <img src="/octicons/search.svg">
          </button>
        </div>
      </div>
      <input type="hidden" name="sitesearch" value="https://jmmv.dev/">
    </form>
  </div>
</nav>

</header>


    <div class="page-header">
      <div class="container">
        <h1>EndBASIC 0.4 release announcement</h1>

        <p>December 25, 2020 &middot;
        About 12 minutes
        &middot;
        Tags:
        <a class="text-reset" href="/tags/endbasic">endbasic</a>, <a class="text-reset" href="/tags/programming">programming</a>, <a class="text-reset" href="/tags/release">release</a>, <a class="text-reset" href="/tags/rust">rust</a></p>

        
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-9">
          <div class="row">
            <div class="col">
              
              <article><p>About a month ago and after a long hiatus, I <a href="/2020/11/endbasic-0.3.html">published EndBASIC 0.3</a> and the adrenaline rush that came with it got my wheels spinning again full-steam ahead. So here I am today, ready to announce the 0.4 release. But&hellip; &ldquo;what could have possibly changed in just a month of someone&rsquo;s free time&rdquo;, you wonder? Enough, actually!</p>
<p>EndBASIC 0.4 is the release that fulfills my original goal of being able to run a &ldquo;guess the number&rdquo; game. The &ldquo;only&rdquo; change needed after 0.3 to make this possible was the addition of random numbers, but these in turn required adding function calls to back <code>RND()</code> and also supporting floating point numbers because that&rsquo;s what this function is supposed to return.</p>
<p>All in all, there are four major features in this new release:</p>
<ul>
<li>Built-in functions, including random number generation and string manipulation.</li>
<li><code>FOR</code> loops.</li>
<li>Rudimentary double-precision floating point numbers.</li>
<li>Three built-in demo programs to get you started with something tangible out of the box.</li>
</ul>
<p>You can dive right in by <strong>visiting <a href="https://endbasic.jmmv.dev/">https://endbasic.jmmv.dev/</a> for an interactive session</strong> (doesn&rsquo;t really work on Android, sorry), <strong>following the project at <a href="https://github.com/jmmv/endbasic/">https://github.com/jmmv/endbasic/</a></strong>, or watching the demo below.</p>
<p><strong>WARNING: ðŸš¨ But don&rsquo;t leave yet! Keep reading for the backstory behind the new features.</strong></p>
<figure>
  <img src="/images/2020-12-25-endbasic-0.4-demo.gif" max-height="472">
  <figcaption>EndBASIC 0.4 interactive demo showcasing the first page of the built-in tour and a sample run of the built-in "guess the number" game.</figcaption>
</figure>
<h1 id="for-loops">FOR loops</h1>
<p><code>FOR</code> loops are an interesting creature in any programming language: they are not strictly necessary for turing-complete computations because they can be trivially rewritten as <code>WHILE</code> loops. However, <code>FOR</code> loops are very convenient, and in the eyes of beginners, I bet that BASIC&rsquo;s <code>FOR</code> loops are much easier to understand than <code>WHILE</code> loops. No matter what, there is no question that I had to add them to the language.</p>
<p>Adding <code>FOR</code> loops to the language was easy. I might have spent an hour total on this work, which involved modifying the parser to recognize the new syntax, extending the AST to represent the new loops, and updating the execution engine to process the new construct in the AST. But along the way, several design questions popped up and they surfaced interesting trade-offs.</p>
<p>Let&rsquo;s take a look at how a trivial <code>FOR</code> loop looks like and what its mechanic conversion to a <code>WHILE</code> loop is:</p>
<div class="row">
<div class="col-lg-6">
<div class="highlight"><pre class="chroma"><code class="language-basic" data-lang="basic"><span></span>
<span class="kr">FOR</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">10</span>
<span class="w">    </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">i</span>
<span class="kr">NEXT</span>
<span></span>
</code></pre></div>
</div>
<div class="col-lg-6">
<div class="highlight"><pre class="chroma"><code class="language-basic" data-lang="basic"><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span>
<span class="kr">WHILE</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="il">10</span>
<span class="w">    </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">i</span>
<span class="w">    </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">1</span>
<span class="kr">END</span><span class="w"> </span><span class="kr">WHILE</span>
</code></pre></div>
</div>
</div>
<p>In the code snippets above, we have a <code>FOR</code> loop that repeats a <code>PRINT</code> statement 10 times, and in each iteration, increments <code>i</code> by 1 so <code>i</code> ends up having all integer values in the range <code>[1..10]</code>. (Note that the end value is inclusive.) The transformation to a <code>WHILE</code> loop is trivial: we set the iterator to the initial value, test if the value is less than the end value, and increment it at the end of each iteration.</p>
<p>So far so good. But BASIC also allows a <code>STEP</code> clause in the <code>FOR</code> loop, which indicates the amount with which to increment the iterator. The default is 1 but we can set it to any other number we like:</p>
<div class="row">
<div class="col-lg-6">
<div class="highlight"><pre class="chroma"><code class="language-basic" data-lang="basic"><span></span>
<span class="kr">FOR</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="k">STEP</span><span class="w"> </span><span class="il">2</span>
<span class="w">    </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">i</span>
<span class="kr">NEXT</span>
<span></span>
</code></pre></div>
</div>
<div class="col-lg-6">
<div class="highlight"><pre class="chroma"><code class="language-basic" data-lang="basic"><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span>
<span class="kr">WHILE</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="il">10</span>
<span class="w">    </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">i</span>
<span class="w">    </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">2</span>
<span class="kr">END</span><span class="w"> </span><span class="kr">WHILE</span>
</code></pre></div>
</div>
</div>
<p>In this example we set the step to 2, and because of that, the loop&rsquo;s iterator will cover the values <code>[1,3,5,7,9]</code> before terminating.</p>
<p>Based on these examples, we now know that to represent a <code>FOR</code> loop in the AST, we have to capture the name of the iterator, the start value, the end value, and the step value. But how do we store these three numerical values in the AST? &ldquo;Oh, that&rsquo;s obvious&rdquo;, I thought. &ldquo;They are integer expressions so we record them as such!&rdquo; Not so fast, my friend. Accepting these values as expressions causes some trouble.</p>
<p>You see: I only showed you <code>FOR</code> loops counting upwards. But can these loops count downwards too? They can, of course, and they look like this:</p>
<div class="row">
<div class="col-lg-6">
<div class="highlight"><pre class="chroma"><code class="language-basic" data-lang="basic"><span></span>
<span class="kr">FOR</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">STEP</span><span class="w"> </span><span class="il">-2</span>
<span class="w">    </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">i</span>
<span class="kr">NEXT</span>
<span></span>
</code></pre></div>
</div>
<div class="col-lg-6">
<div class="highlight"><pre class="chroma"><code class="language-basic" data-lang="basic"><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<span class="kr">WHILE</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="il">1</span>
<span class="w">    </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">i</span>
<span class="w">    </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="il">2</span>
<span class="kr">END</span><span class="w"> </span><span class="kr">WHILE</span>
</code></pre></div>
</div>
</div>
<p>Note the negative step value, which is set to -2. This loop will count from 10 to 1 so the values the iterator will see are <code>[10,8,6,4,2]</code>.</p>
<p>There are two interesting facts here. The first is that the step&rsquo;s sign tells us whether the loop counts upwards or downwards. The second is that the terminating condition for &ldquo;downwards&rdquo; loops is the opposite of the one we saw before: we need to loop while the iterator is <em>larger</em> than or equal to the end value, not <em>smaller</em> or equal.</p>
<p>Which leads us to trouble in the AST. If we track the start, end, and step values as <em>expressions</em>, as I originally attempted, we have no upfront idea about what condition to test for when we are executing the code. At each iteration, we have to evaluate the step expression to see if it is positive or negative, then build a conditional expression to test the iterator value, and then evaluate it. And because we do this at each iteration, we could have a loop that moves up <em>and</em> down if its body happened to touch the variables involved in the step expression.</p>
<p>Yikes. And also strange. This sounded too complicated and fragile. And indeed, my suspicion was correct. I checked the old documentation and found that the <code>STEP</code> clause in QuickBASIC 4.5 takes an integer <em>literal</em>, not an expression. Given this limitation, the interpreter can tell, at parse time, whether the loop will count upwards or downwards, which is very useful in representing the loop in the AST.</p>
<p>I made this same simplification and ended up with an AST representation that stores the terminating condition in it, not just the end value. This allows for faster execution at runtime as we only need to evaluate expressions and not think about which expressions those are.</p>
<p>I could have also gone all the way and <em>not</em> tracked <code>FOR</code> loops in the AST at all. As shown above, these can be trivially converted to <code>WHILE</code> loops so an alternate representation in the AST could have been just that. I felt that this approach lost fidelity because you can&rsquo;t tell anymore how the source code looked like by just inspecting the AST, so I preferred to go for an explicit <code>FOR</code> representation. But both would be acceptable options.</p>
<h1 id="rudimentary-floating-point-support">Rudimentary floating point support</h1>
<p>Floating point numbers aren&rsquo;t something I was planning on adding to the language, but as I said in the opening, they were a requirement to implement <code>RND()</code>. Sure, I could have changed the signature of this function to return integers instead, but I suppose floating point numbers will come in handy in the future too. (I recall <code>SIN()</code> and <code>COS()</code> being very useful for graphics and stuff back in the day&hellip; so&hellip; we&rsquo;ll see.)</p>
<p>Adding the new double type (<code>#</code> annotation) to the language was trivial. It took me maybe 5 minutes of actual typing to get them to work after <a href="https://twitter.com/jmmv/status/1340677472946294786">getting rid of a spurious <code>#[derive(Eq)]</code></a> that I had sprinkled throughout the AST types. However, extending the unit and integration tests to cope with the addition of the new type was&hellip; painful, and lengthened this task from those 5 minutes to over an hour. But don&rsquo;t get me wrong: this was <em>not</em> a waste of time.</p>
<p>One of the things that writing these tests quickly revealed is that integers and doubles aren&rsquo;t magically compatible. Duh. If I wanted to support mixing them in expressions, I&rsquo;d have to add type promotion rules&hellip; and I really don&rsquo;t like automatic type promotion. Yes, yes, I know BASIC does it so I should implement it too, but let&rsquo;s see how far I can get with the clutch I added: two functions (<code>DTOI</code> and <code>ITOD</code>) to explicitly cast between these two types.</p>
<p>Another interesting detail that Rust and the tests revealed is what happens on overflow. The code to handle integer expressions has to worry about overflow conditions and uses Rust&rsquo;s primitives to do so. Copy/pasting that code to handle doubles failed to compile because those overflow-safe primitives don&rsquo;t exist for doubles. And the reason is simple: doubles don&rsquo;t overflow and divisions by zero don&rsquo;t fail. Obvious too, you can tell me, but my experience with floating point numbers is almost zero. So how do they behave? The tests I copy/pasted from the integer code provided the answers: magic &ldquo;numbers&rdquo;. Overflows turn into infinities and divisions by zero turn into NaNs.</p>
<p>Which is fine for now, but highlights that what I have implemented to support doubles in EndBASIC is extremely rudimentary. Yes, you can perform computations on these numbers but that&rsquo;s about it: forget about checking for corner cases as the right constants are not exposed to the language. As I&rsquo;m not an expert, I&rsquo;m certain to get this wrong, but if you are interested in lending a hand please let me know!</p>
<h1 id="function-calls">Function calls</h1>
<p>Supporting function calls is something I dreaded adding for a while because this meant touching the expression parser to support them. But it had to be done.</p>
<p>The expression parser in EndBASIC is an implementation of the <a href="https://en.wikipedia.org/wiki/Shunting-yard_algorithm">Shunting-yard algorithm by Edsger Dijkstra</a>. You can find plenty of pseudo-code variants of this algorithm online, but most deal with printing stuff out to the screen instead of building an AST, and most also fail to cover complex cases. Function calls, and especially function calls with variadic arguments, are one of those complex cases that aren&rsquo;t fully detailed.</p>
<p>It took me a little while to figure out how to add these to the parser, and along the way I uncovered a couple of existing embarrassing bugs. But with this done, it was then a matter of representing functions in the code. Note that these functions are builtin for now: they are written in Rust and cannot be defined from EndBASIC code. Yet.</p>
<p>The interesting thing in this area is that, before this work, EndBASIC already had a concept of &ldquo;builtin commands&rdquo;, which are a generic way to express callable statements like <code>PRINT</code> or <code>INPUT</code> without tying them to the parser. This is by design: I want the core of the interpreter to be free from side-effects so that it can be safely embedded in other binaries, and the statements to write to the console definitely have side-effects.</p>
<p>Adding functions meant replicating the existing logic for built-in commands. And because copy/pastes are ugly, this quickly turned into a yak-shaving problem: functions return a value while commands do not, and functions can be used in different contexts than commands. They are almost the same, but not really. Yet&hellip; could we handle them in the same way?</p>
<p>I spent a long time prototyping different ways to unify functions and commands under a single <code>Callable</code> trait&hellip; but in the end abandoned them all. No matter what I tried, the benefits in the design were eclipsed by the hacks that had to be put in place to accept one class of callable or another under different contexts (statements vs. expressions). I still feel &ldquo;dirty&rdquo; by this duality so I might come back to clean it up later.</p>
<p>But now that functions are supported in the core engine, adding new functions is trivial. And to prove that they work, I added common string manipulation functions such as <code>LEN()</code> and <code>MID()</code> on top of the single function I originally wanted to add: <code>RND()</code>. To witness:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">Ready
PRINT RND()
0.13684954101612082
Ready
PRINT DTOI(RND() * 1000.0)
385
Ready
PRINT LEN(&#34;Hello&#34;)
5
</code></pre></div><h1 id="demo-programs">Demo programs</h1>
<p>The latest goodie in this release is something I didn&rsquo;t originally think of for 0.4. In fact, my original plans were to add arrays instead, but that&rsquo;s a can of worms that I&rsquo;ll save for later.</p>
<p>As stated in the opening of this post, my goal at the beginning of EndBASIC was to support writing a &ldquo;guess the number&rdquo; game. And write it I did. But&hellip; how could I give it to you to showcase the features of the language? Sure, I could add the source program to the Git repository&hellip; but anyone installing EndBASIC via <code>cargo install</code> would not have access to the file. And anyone <a href="https://endbasic.jmmv.dev/">accessing EndBASIC through the web interface</a> (the most common case, I presume) would have no way of putting that code into the interpreter.</p>
<p>The easiest solution that came to mind was to bundle the code in the interpreter itself via Rust&rsquo;s <code>include_bytes!</code> macro. It&rsquo;s not the greatest solution because I&rsquo;m bloating the binary and the WASM pack with unnecessary code, but it doesn&rsquo;t matter much really. We are talking about a few KBs only and this is for fun right now, so who cares. But it&rsquo;s indeed ugly that these files are currently in the language core and not in the CLI crate.</p>
<p>With that in mind, I extended the <code>DIR</code> and <code>LOAD</code> commands with support for magic files that correspond to demos. These file names are all prefixed with <code>DEMO:</code> (note the colon character), which is a name that cannot be represented in most regular file systems. And with that done, I added three demos to the interpreter: the game I&rsquo;ve been talking about, a useless &ldquo;Hello World&rdquo; type of program, and an interactive tour:</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">Ready
DIR

    Modified              Size    Name
    2020-12-23 03:12      2107    DEMO:GUESS.BAS
    2020-12-22 14:20       651    DEMO:HELLO.BAS
    2020-12-24 01:52      6590    DEMO:TOUR.BAS

    3 file(s), 9348 bytes
</code></pre></div><h1 id="whats-next">What&rsquo;s next?</h1>
<p>A lot of things <em>could</em> come next. Arrays is one of them. Better screen handling is another. User-defined functions and procedures are yet another. A <code>PLAY</code> statement for music would be the pipe dream one.</p>
<p>But I think it&rsquo;s time to pause for a bit and polish what I have so far. EndBASIC is now about 12k LoC. Roughly half of that is test code, so that leaves the interpreter at 6k lines. After removing comments and docstrings, we are left with only about 5k lines for the interpreter. That&rsquo;s&hellip; much smaller than I expected to see, honestly. But the code has grown quite a few warts that make it hard to iterate on.</p>
<p>One of these warts are the tests, yes. I blogged about <a href="/2020/12/builder-pattern-for-tests.html">using the builder pattern for tests</a> a few weeks ago, and the results of that experiment with the console manipulation tests have been pretty good. I think it&rsquo;s time to go back to the other modules and adopt these ideas too to remove the annoying and abundant <code>do_ok_test</code> helpers.</p>
<p>The other wart is something that has been bothering me for a while too: I truly want to keep the language core separate from any constructs that might have side-effects. I want to ensure that the language parser and execution engine are completely decoupled from the console and any external resources. For the most part, they are already, but the <code>endbasic-core</code> crate has too many dependencies that don&rsquo;t make this fact clear. For one, the latest release has added a new dependency to generate random numbers, and that&rsquo;s something that the language itself doesn&rsquo;t need. So, I want to break apart the two components and have a tiny language parser with a separate &ldquo;standard library&rdquo; crate.</p>
<p>So, stay tuned. In the meantime, and to reiterate the opening of the post:</p>
<blockquote>
<p>Dive right in by <strong>visiting <a href="https://endbasic.jmmv.dev/">https://endbasic.jmmv.dev/</a> for an interactive session</strong> or <strong>follow the project at <a href="https://github.com/jmmv/endbasic/">https://github.com/jmmv/endbasic/</a></strong>.</p>
</blockquote>
<p>And with that, Merry Xmas if that&rsquo;s your thing. Consider this your Santa ðŸŽ…  gift!</p>
</article>
            </div>
          </div>

          <div class="container post-links post-links-action">
            <div class="row">
              <div class="col-md-12 text-center">
                <p><b>Want more posts like this one? Take a moment to subscribe!</b></p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 text-center">
                <form class="feedburner form-horizontal"
                      action="https://feedburner.google.com/fb/a/mailverify"
                      method="post"
                      target="popupwindow"
                      onsubmit="feedburnerSubmit()"> 
                  <input type="text" name="email"
                         placeholder="Type email, press enter"
                        class="form-control input-sm"/>
                  <input type="hidden" value="jmmv" name="uri"/>
                  <input type="hidden" name="loc" value="en_US"/>
                </form>
              </div>
              <div class="col-md-3 text-center">
                <p>
                  <a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv">
                    <img src="/images/badges/Twitter_logo_blue_32.png" alt="Follow @jmmv on Twitter">
                  </a>
                </p>
              </div>
              <div class="col-md-3 text-center">
                <p><a href="/feed.xml"><img
                  src="/images/badges/feed-icon-28x28.png" alt="RSS feed"></a></p>
              </div>
            </div>
          </div>

          <div class="container post-links post-links-action">
            <div class="row">
              <div class="col-md-12 text-center">
                <p><b>Enjoyed this article? Spread the word or join the ongoing discussion!</b></p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 text-center"><a href="https://www.reddit.com/submit?title=EndBASIC&#43;0.4&#43;release&#43;announcement&amp;url=https%3A%2F%2Fjmmv.dev%2F2020%2F12%2Fendbasic-0.4.html">
                  <img src="/images/badges/reddit.png"
                       alt="Reddit logo"
                       width="64" height="64">
                  <br>
                  <strong>Share on Reddit</strong>
                </a>
              </div>
              <div class="col-md-4 text-center"><a href="https://news.ycombinator.com/submitlink?t=EndBASIC&#43;0.4&#43;release&#43;announcement&amp;u=https%3A%2F%2Fjmmv.dev%2F2020%2F12%2Fendbasic-0.4.html">
                  <img src="/images/badges/ycombinator.png"
                       alt="Hacker News logo"
                       width="64" height="64">
                  <br>
                  <strong>Share on Hacker News</strong>
                </a>
              </div>
              <div class="col-md-4 text-center"><a href="https://twitter.com/intent/tweet?status=EndBASIC&#43;0.4&#43;release&#43;announcement&#43;%E2%80%94&#43;https%3A%2F%2Fjmmv.dev%2F2020%2F12%2Fendbasic-0.4.html&#43;%E2%80%94&#43;cc&#43;%40jmmv">
                  <img src="/images/badges/Twitter_Social_Icon_Circle_Color.png"
                       alt="Twitter logo"
                       width="64" height="64">
                  <br>
                  <strong>Share on Twitter</strong>
                </a>
              </div>
            </div>
          </div>

          <div class="container post-links">
            <div class="row">
              <div class="col-md mr-auto text-left">
                
                <span><a href="https://jmmv.dev/2020/12/unit-testing-a-console-app.html">&laquo; Previous post</a></span>
                
              </div>

              <div class="col-md text-center">
                <span><a href="/archive.html">All posts</a></span>
              </div>

              <div class="col-md ml-auto text-right">
                
                <span><a href="https://jmmv.dev/2020/12/google-no-clean-builds.html">Next post &raquo;</a></span>
                
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3 sidebar">
          <div class="row">
  <div class="col">
    <h2>Subscribe</h2>

    <div class="row">
      <div class="col-sm-6 text-center">
        <p>
          <a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv">
            <img src="/images/badges/Twitter_logo_blue_32.png" alt="Follow @jmmv on Twitter">
          </a>
        </p>
      </div>
      <div class="col-sm-6 text-center">
        <p><a href="/feed.xml"><img
          src="/images/badges/feed-icon-28x28.png" alt="RSS feed"></a></p>
      </div>
    </div>

    <script>
      function feedburnerSubmit() {
        window.open('https://feedburner.google.com/fb/a/mailverify?uri=jmmv', 'popupwindow', 'scrollbars=yes,width=550,height=520');
        gtag('event', 'sign_up', {'event_category': 'engagement', 'event_label': 'feedburner', 'value': 1 });
        return true;
      }
    </script>

    <form class="feedburner form-horizontal"
          action="https://feedburner.google.com/fb/a/mailverify"
          method="post"
          target="popupwindow"
          onsubmit="feedburnerSubmit()">
      <input type="text" name="email"
        placeholder="Type email, press enter"
        class="form-control input-sm"/>
      <input type="hidden" value="jmmv" name="uri"/>
      <input type="hidden" name="loc" value="en_US"/>
      <p>
        <small>Subscription by
        <a href="https://feedburner.google.com"
        target="_blank">FeedBurner</a></small>
      </p>
    </form>
  </div>
</div>

<div class="row">
  <div class="col">
    <h2>Featured posts</h2>

    <ul>
      
        <li><a href="/2020/12/google-no-clean-builds.html">How does Google avoid clean builds?</a></li>
      
        <li><a href="/2020/12/unit-testing-a-console-app.html">Unit-testing a console app (a text editor)</a></li>
      
        <li><a href="/2020/11/wsl-lost-potential.html">Windows Subsystem for Linux: The lost potential</a></li>
      
        <li><a href="/2020/10/bye-google-hi-microsoft.html">Farewell, Google; hello, Microsoft!</a></li>
      
        <li><a href="/2020/08/config-files-vs-directories.html">Configuration files and .d directories</a></li>
      
      <li><a href="/essays.html#featured">More...</a></li>
    </ul>
  </div>
</div>

<div class="row">
  <div class="col">
    <h2>Archive</h2>

    <ul>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2021">2021</a> (1)
        <ul id="archive-year-2021" class="collapse">
        
          
          <li><a href="/archive.html#2021-01">January 2021</a> (1)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2020">2020</a> (36)
        <ul id="archive-year-2020" class="collapse">
        
          
          <li><a href="/archive.html#2020-12">December 2020</a> (4)</li>
        
          
          <li><a href="/archive.html#2020-11">November 2020</a> (5)</li>
        
          
          <li><a href="/archive.html#2020-10">October 2020</a> (5)</li>
        
          
          <li><a href="/archive.html#2020-09">September 2020</a> (2)</li>
        
          
          <li><a href="/archive.html#2020-08">August 2020</a> (6)</li>
        
          
          <li><a href="/archive.html#2020-07">July 2020</a> (2)</li>
        
          
          <li><a href="/archive.html#2020-06">June 2020</a> (2)</li>
        
          
          <li><a href="/archive.html#2020-05">May 2020</a> (3)</li>
        
          
          <li><a href="/archive.html#2020-04">April 2020</a> (2)</li>
        
          
          <li><a href="/archive.html#2020-03">March 2020</a> (2)</li>
        
          
          <li><a href="/archive.html#2020-02">February 2020</a> (1)</li>
        
          
          <li><a href="/archive.html#2020-01">January 2020</a> (2)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2019">2019</a> (24)
        <ul id="archive-year-2019" class="collapse">
        
          
          <li><a href="/archive.html#2019-12">December 2019</a> (8)</li>
        
          
          <li><a href="/archive.html#2019-11">November 2019</a> (6)</li>
        
          
          <li><a href="/archive.html#2019-10">October 2019</a> (1)</li>
        
          
          <li><a href="/archive.html#2019-09">September 2019</a> (2)</li>
        
          
          <li><a href="/archive.html#2019-03">March 2019</a> (2)</li>
        
          
          <li><a href="/archive.html#2019-02">February 2019</a> (3)</li>
        
          
          <li><a href="/archive.html#2019-01">January 2019</a> (2)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2018">2018</a> (25)
        <ul id="archive-year-2018" class="collapse">
        
          
          <li><a href="/archive.html#2018-07">July 2018</a> (3)</li>
        
          
          <li><a href="/archive.html#2018-06">June 2018</a> (7)</li>
        
          
          <li><a href="/archive.html#2018-05">May 2018</a> (2)</li>
        
          
          <li><a href="/archive.html#2018-04">April 2018</a> (2)</li>
        
          
          <li><a href="/archive.html#2018-03">March 2018</a> (8)</li>
        
          
          <li><a href="/archive.html#2018-02">February 2018</a> (3)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2017">2017</a> (6)
        <ul id="archive-year-2017" class="collapse">
        
          
          <li><a href="/archive.html#2017-10">October 2017</a> (1)</li>
        
          
          <li><a href="/archive.html#2017-08">August 2017</a> (1)</li>
        
          
          <li><a href="/archive.html#2017-07">July 2017</a> (1)</li>
        
          
          <li><a href="/archive.html#2017-02">February 2017</a> (3)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2016">2016</a> (8)
        <ul id="archive-year-2016" class="collapse">
        
          
          <li><a href="/archive.html#2016-09">September 2016</a> (1)</li>
        
          
          <li><a href="/archive.html#2016-05">May 2016</a> (1)</li>
        
          
          <li><a href="/archive.html#2016-04">April 2016</a> (1)</li>
        
          
          <li><a href="/archive.html#2016-03">March 2016</a> (2)</li>
        
          
          <li><a href="/archive.html#2016-02">February 2016</a> (1)</li>
        
          
          <li><a href="/archive.html#2016-01">January 2016</a> (2)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2015">2015</a> (17)
        <ul id="archive-year-2015" class="collapse">
        
          
          <li><a href="/archive.html#2015-12">December 2015</a> (2)</li>
        
          
          <li><a href="/archive.html#2015-10">October 2015</a> (2)</li>
        
          
          <li><a href="/archive.html#2015-09">September 2015</a> (3)</li>
        
          
          <li><a href="/archive.html#2015-06">June 2015</a> (2)</li>
        
          
          <li><a href="/archive.html#2015-05">May 2015</a> (3)</li>
        
          
          <li><a href="/archive.html#2015-04">April 2015</a> (1)</li>
        
          
          <li><a href="/archive.html#2015-03">March 2015</a> (1)</li>
        
          
          <li><a href="/archive.html#2015-02">February 2015</a> (3)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2014">2014</a> (12)
        <ul id="archive-year-2014" class="collapse">
        
          
          <li><a href="/archive.html#2014-11">November 2014</a> (2)</li>
        
          
          <li><a href="/archive.html#2014-05">May 2014</a> (3)</li>
        
          
          <li><a href="/archive.html#2014-03">March 2014</a> (1)</li>
        
          
          <li><a href="/archive.html#2014-02">February 2014</a> (3)</li>
        
          
          <li><a href="/archive.html#2014-01">January 2014</a> (3)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2013">2013</a> (62)
        <ul id="archive-year-2013" class="collapse">
        
          
          <li><a href="/archive.html#2013-12">December 2013</a> (7)</li>
        
          
          <li><a href="/archive.html#2013-11">November 2013</a> (7)</li>
        
          
          <li><a href="/archive.html#2013-10">October 2013</a> (7)</li>
        
          
          <li><a href="/archive.html#2013-09">September 2013</a> (13)</li>
        
          
          <li><a href="/archive.html#2013-08">August 2013</a> (9)</li>
        
          
          <li><a href="/archive.html#2013-07">July 2013</a> (10)</li>
        
          
          <li><a href="/archive.html#2013-06">June 2013</a> (9)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2012">2012</a> (29)
        <ul id="archive-year-2012" class="collapse">
        
          
          <li><a href="/archive.html#2012-10">October 2012</a> (1)</li>
        
          
          <li><a href="/archive.html#2012-09">September 2012</a> (1)</li>
        
          
          <li><a href="/archive.html#2012-08">August 2012</a> (3)</li>
        
          
          <li><a href="/archive.html#2012-07">July 2012</a> (2)</li>
        
          
          <li><a href="/archive.html#2012-06">June 2012</a> (2)</li>
        
          
          <li><a href="/archive.html#2012-05">May 2012</a> (3)</li>
        
          
          <li><a href="/archive.html#2012-04">April 2012</a> (1)</li>
        
          
          <li><a href="/archive.html#2012-03">March 2012</a> (1)</li>
        
          
          <li><a href="/archive.html#2012-02">February 2012</a> (10)</li>
        
          
          <li><a href="/archive.html#2012-01">January 2012</a> (5)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2011">2011</a> (60)
        <ul id="archive-year-2011" class="collapse">
        
          
          <li><a href="/archive.html#2011-12">December 2011</a> (4)</li>
        
          
          <li><a href="/archive.html#2011-11">November 2011</a> (4)</li>
        
          
          <li><a href="/archive.html#2011-10">October 2011</a> (5)</li>
        
          
          <li><a href="/archive.html#2011-09">September 2011</a> (11)</li>
        
          
          <li><a href="/archive.html#2011-08">August 2011</a> (6)</li>
        
          
          <li><a href="/archive.html#2011-07">July 2011</a> (4)</li>
        
          
          <li><a href="/archive.html#2011-06">June 2011</a> (6)</li>
        
          
          <li><a href="/archive.html#2011-05">May 2011</a> (6)</li>
        
          
          <li><a href="/archive.html#2011-04">April 2011</a> (5)</li>
        
          
          <li><a href="/archive.html#2011-03">March 2011</a> (2)</li>
        
          
          <li><a href="/archive.html#2011-01">January 2011</a> (7)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2010">2010</a> (26)
        <ul id="archive-year-2010" class="collapse">
        
          
          <li><a href="/archive.html#2010-12">December 2010</a> (7)</li>
        
          
          <li><a href="/archive.html#2010-09">September 2010</a> (1)</li>
        
          
          <li><a href="/archive.html#2010-07">July 2010</a> (1)</li>
        
          
          <li><a href="/archive.html#2010-06">June 2010</a> (2)</li>
        
          
          <li><a href="/archive.html#2010-05">May 2010</a> (5)</li>
        
          
          <li><a href="/archive.html#2010-04">April 2010</a> (5)</li>
        
          
          <li><a href="/archive.html#2010-03">March 2010</a> (3)</li>
        
          
          <li><a href="/archive.html#2010-01">January 2010</a> (2)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2009">2009</a> (31)
        <ul id="archive-year-2009" class="collapse">
        
          
          <li><a href="/archive.html#2009-10">October 2009</a> (1)</li>
        
          
          <li><a href="/archive.html#2009-09">September 2009</a> (1)</li>
        
          
          <li><a href="/archive.html#2009-08">August 2009</a> (3)</li>
        
          
          <li><a href="/archive.html#2009-07">July 2009</a> (2)</li>
        
          
          <li><a href="/archive.html#2009-06">June 2009</a> (4)</li>
        
          
          <li><a href="/archive.html#2009-05">May 2009</a> (6)</li>
        
          
          <li><a href="/archive.html#2009-04">April 2009</a> (2)</li>
        
          
          <li><a href="/archive.html#2009-03">March 2009</a> (4)</li>
        
          
          <li><a href="/archive.html#2009-01">January 2009</a> (8)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2008">2008</a> (61)
        <ul id="archive-year-2008" class="collapse">
        
          
          <li><a href="/archive.html#2008-12">December 2008</a> (1)</li>
        
          
          <li><a href="/archive.html#2008-11">November 2008</a> (4)</li>
        
          
          <li><a href="/archive.html#2008-10">October 2008</a> (6)</li>
        
          
          <li><a href="/archive.html#2008-09">September 2008</a> (1)</li>
        
          
          <li><a href="/archive.html#2008-08">August 2008</a> (6)</li>
        
          
          <li><a href="/archive.html#2008-07">July 2008</a> (14)</li>
        
          
          <li><a href="/archive.html#2008-06">June 2008</a> (3)</li>
        
          
          <li><a href="/archive.html#2008-05">May 2008</a> (1)</li>
        
          
          <li><a href="/archive.html#2008-04">April 2008</a> (3)</li>
        
          
          <li><a href="/archive.html#2008-03">March 2008</a> (3)</li>
        
          
          <li><a href="/archive.html#2008-02">February 2008</a> (9)</li>
        
          
          <li><a href="/archive.html#2008-01">January 2008</a> (10)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2007">2007</a> (86)
        <ul id="archive-year-2007" class="collapse">
        
          
          <li><a href="/archive.html#2007-12">December 2007</a> (4)</li>
        
          
          <li><a href="/archive.html#2007-11">November 2007</a> (7)</li>
        
          
          <li><a href="/archive.html#2007-10">October 2007</a> (2)</li>
        
          
          <li><a href="/archive.html#2007-09">September 2007</a> (8)</li>
        
          
          <li><a href="/archive.html#2007-08">August 2007</a> (6)</li>
        
          
          <li><a href="/archive.html#2007-07">July 2007</a> (15)</li>
        
          
          <li><a href="/archive.html#2007-06">June 2007</a> (15)</li>
        
          
          <li><a href="/archive.html#2007-05">May 2007</a> (4)</li>
        
          
          <li><a href="/archive.html#2007-04">April 2007</a> (10)</li>
        
          
          <li><a href="/archive.html#2007-03">March 2007</a> (8)</li>
        
          
          <li><a href="/archive.html#2007-02">February 2007</a> (1)</li>
        
          
          <li><a href="/archive.html#2007-01">January 2007</a> (6)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2006">2006</a> (103)
        <ul id="archive-year-2006" class="collapse">
        
          
          <li><a href="/archive.html#2006-12">December 2006</a> (4)</li>
        
          
          <li><a href="/archive.html#2006-11">November 2006</a> (3)</li>
        
          
          <li><a href="/archive.html#2006-10">October 2006</a> (7)</li>
        
          
          <li><a href="/archive.html#2006-09">September 2006</a> (6)</li>
        
          
          <li><a href="/archive.html#2006-08">August 2006</a> (13)</li>
        
          
          <li><a href="/archive.html#2006-07">July 2006</a> (4)</li>
        
          
          <li><a href="/archive.html#2006-06">June 2006</a> (13)</li>
        
          
          <li><a href="/archive.html#2006-05">May 2006</a> (7)</li>
        
          
          <li><a href="/archive.html#2006-04">April 2006</a> (9)</li>
        
          
          <li><a href="/archive.html#2006-03">March 2006</a> (6)</li>
        
          
          <li><a href="/archive.html#2006-02">February 2006</a> (13)</li>
        
          
          <li><a href="/archive.html#2006-01">January 2006</a> (18)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2005">2005</a> (129)
        <ul id="archive-year-2005" class="collapse">
        
          
          <li><a href="/archive.html#2005-12">December 2005</a> (9)</li>
        
          
          <li><a href="/archive.html#2005-11">November 2005</a> (7)</li>
        
          
          <li><a href="/archive.html#2005-10">October 2005</a> (23)</li>
        
          
          <li><a href="/archive.html#2005-09">September 2005</a> (10)</li>
        
          
          <li><a href="/archive.html#2005-08">August 2005</a> (14)</li>
        
          
          <li><a href="/archive.html#2005-07">July 2005</a> (5)</li>
        
          
          <li><a href="/archive.html#2005-06">June 2005</a> (12)</li>
        
          
          <li><a href="/archive.html#2005-05">May 2005</a> (6)</li>
        
          
          <li><a href="/archive.html#2005-04">April 2005</a> (6)</li>
        
          
          <li><a href="/archive.html#2005-03">March 2005</a> (13)</li>
        
          
          <li><a href="/archive.html#2005-02">February 2005</a> (11)</li>
        
          
          <li><a href="/archive.html#2005-01">January 2005</a> (13)</li>
        
        </ul>
      </li>
    
      <li>
        
        <a data-toggle="collapse" href="#archive-year-2004">2004</a> (84)
        <ul id="archive-year-2004" class="collapse">
        
          
          <li><a href="/archive.html#2004-12">December 2004</a> (9)</li>
        
          
          <li><a href="/archive.html#2004-11">November 2004</a> (6)</li>
        
          
          <li><a href="/archive.html#2004-10">October 2004</a> (11)</li>
        
          
          <li><a href="/archive.html#2004-09">September 2004</a> (19)</li>
        
          
          <li><a href="/archive.html#2004-07">July 2004</a> (29)</li>
        
          
          <li><a href="/archive.html#2004-06">June 2004</a> (10)</li>
        
        </ul>
      </li>
    
    </ul>
  </div>
</div>

        </div>
      </div>
    </div>

    <footer class="container">
  <div class="row">
    <div class="col order-2 texr-right">
      <p class="float-right"><a href="#">Back to top</a></p>
    </div>
    <div class="col order-1 mr-auto">
      <p>Copyright 2004&ndash;2021 Julio Merino</p>
    </div>
  </div>
</footer>

<script src="/js/jquery-1.11.2.min.js"></script>
<script src="/bootstrap-4.3.1/dist/js/bootstrap.min.js"></script>

<script>
$('article :header').each(function() {
  var attr = $(this).attr('id');
  if (typeof attr !== typeof undefined && attr !== false) {
    $(this).append('<a class="anchor" href="#' + $(this).context.id + '">' +
      '<img src="/octicons/link.svg" aria-hidden="true">' +
      '</a>')
  }
})
</script>

<script>
$("blockquote").addClass("blockquote");
$("pre.chroma").addClass("pre-scrollable");

$("p:contains('NOTE: ')").addClass("callout callout-info");
$("p:contains('IMPORTANT: ')").addClass("callout callout-info");
$("p:contains('WARNING: ')").addClass("callout callout-warning");
$("p:contains('UPDATE (')").addClass("callout callout-warning");
$("p:contains('DANGER: ')").addClass("callout callout-danger");
$("p:contains('DISCLAIMER: ')").addClass("callout callout-danger");
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63557333-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-63557333-1');
</script>

  </body>
</html>
