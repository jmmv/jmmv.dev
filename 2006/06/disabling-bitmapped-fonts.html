<!DOCTYPE html>
<html>
  <head>
    

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head
      content must come *after* these tags -->

<meta name="description"
      content="A week ago or so I reinstalled NetBSD &mdash; 3.0_STABLE, not current &mdash; on my machine, finally replacing the previous unstable and out-of-control syste...">
<meta name="author" content="Julio Merino">

<meta content="http://julio.meroh.net/2006/06/disabling-bitmapped-fonts.html" property="og:url">

<link rel="canonical" href="http://julio.meroh.net/2006/06/disabling-bitmapped-fonts.html">
<link rel="alternate" type="application/rss+xml" title="Julio Merino" href="http://julio.meroh.net/feed.xml" />

<link rel="stylesheet" href="/css/main.css">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="/js/html5shiv-3.7.2.min.js"></script>
  <script src="/js/respond-1.4.2.min.js"></script>
<![endif]-->

    <title>Disabling bitmapped fonts - Julio Merino</title>
    <meta content="Disabling bitmapped fonts - Julio Merino" property="og:title">
  </head>

  <body>
    <header class="site-header">

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed"
              data-toggle="collapse" data-target="#navbar"
              aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Julio Merino</a>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
          
            
              
                <li><a class="page-link"
                href="/about/"
                >About</a></li>
              
            
          
        
          
            
              
                <li><a class="page-link"
                href="/essays/"
                >Essays</a></li>
              
            
          
        
          
            
              
                <li><a class="page-link"
                href="/software/"
                >Software</a></li>
              
            
          
        
          
            
              
                <li><a class="page-link"
                href="/work/"
                >Work</a></li>
              
            
          
        
      </ul>

      <form class="navbar-form navbar-right" method="get" role="search"
            action="http://www.google.com/search">
          <div class="form-group">
            <input type="text" name="query" class="form-control"
                   placeholder="Search">
            <input type="hidden" name="sitesearch" value="http://julio.meroh.net">
          </div>
          <button type="submit" value="Search" class="btn btn-default">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </button>
      </form>
    </div>
  </div>
</nav>

</header>


    <div class="page-header">
      <div class="container">
        <h1>Disabling bitmapped fonts</h1>

        <p>Sun, 25 Jun 2006 19:20:00 +0000</p>

        
      </div>
    </div>

    <div class="container">
      <article>
        A week ago or so I reinstalled NetBSD &mdash; 3.0_STABLE, not current &mdash; on my machine, finally replacing the previous unstable and out-of-control system.  I had to do it to get some work done more easily than on Windows and to be able to keep up with my developer duties.<br /><br />After a successful and painless installation, I built and installed Firefox and Windowmaker, both of which come handy from time to time (specially while rebuilding the entire GNOME Desktop).  However, launching Firefox under a plain Windowmaker session greeted me with extremely ugly fonts.  The GTK interface was OK, but web pages were rendered horribly in general.  It was simply unusable.<br /><br />At first I thought it had to do with the anti-aliasing configuration, but several attempts to change its details only resulted in worse fonts.  The same happened when dealing with DPI settings.  So what  was happening?  It turns out that Firefox was using bitmapped fonts instead of vector ones &mdash; and you know how ugly these look if they are not rendered in their native size.<br /><br />Firefox was asking <a href="http://www.fontconfig.org/">Fontconfig</a> (X's font configuration and access library) to provide a font from the Serif family, without caring about which it could be.  Fontconfig then provided it with a bitmapped font. (I still don't know why it preferred those over any other.)<br /><br />The nice thing is that you can tell Fontconfig how to match generic font names to the fonts you really have.  And this effectively means that you can force it to never use bitmapped fonts.  All I had to do was to create a custom <tt>local.conf</tt> file in Fontconfig's configuration directory (<tt>/etc/pkg/fontconfig</tt> in my case):<pre>&lt;?xml version="1.0"?&gt;<br />&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;<br />&lt;fontconfig&gt;<br />&lt;include&gt;conf.d/no-bitmaps.conf&lt;/include&gt;<br />&lt;/fontconfig&gt;</pre>The curious thing is that GNOME seems to take care of this on its own because Firefox uses nice fonts under it even if you do not touch Fontconfig files.<br /><br />Oh! Be aware that NetBSD has two Fontconfig installations: one from the native XFree86 installation and one from pkgsrc.  These are configured in different directories: <tt>/etc/fonts</tt> and <tt>PKG_SYSCONFDIR/fontconfig</tt> respectively.<br /><br />Don't know if this issue also happens in other operating systems if Fontconfig is not manually configured...

      </article>

      <div class="post-links">
        <p>
          

          

          <a href="/feed.xml">Subscribe
          via RSS</a>
          &middot;
          <a href="/blog/">Go to posts index</a>
        </p>

        <form class="form-inline"
            action="https://feedburner.google.com/fb/a/mailverify"
            method="post"
            target="popupwindow"
            onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=jmmv', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
          <div class="form-group form-group-sm">
            <input type="text" style="width: 400px" name="email"
                    placeholder="Enter your email to subscribe to new posts"
                    class="form-control input-sm"/>
          </div>
          <button type="submit" value="Subscribe"
                  class="btn btn-default btn-sm">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
          &nbsp;&nbsp;&nbsp;Delivered by
          <input type="hidden" value="jmmv" name="uri"/>
          <input type="hidden" name="loc" value="en_US"/>
          <a href="https://feedburner.google.com" target="_blank">FeedBurner</a>
        </form>
      </div>

      
      <div id="disqus_thread">
        <script>
          var disqus_config = function () {
            this.page.url = "http://julio.meroh.net/2006/06/disabling-bitmapped-fonts.html";
            this.page.identifier = "/2006/06/disabling-bitmapped-fonts";
          };
          (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//jmmv.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
          powered by Disqus.</a>
        </noscript>
      </div>
      
      <p>Comments from the original Blogger-hosted post:</p>
      <script src="https://apis.google.com/js/plusone.js"></script>
      <div class="g-comments"
           data-href="http://julipedia.meroh.net/2006/06/disabling-bitmapped-fonts.html"
           data-first_party_property="BLOGGER"
           data-view_type="FILTERED_POSTMOD">
      </div>
      
      
    </div>

    <div class="container">
  <footer>
    <p class="pull-right"><a href="#">Back to top</a></p>
    <p>Copyright 2016 Julio Merino</p>
  </footer>
</div>

<script src="/js/jquery-1.11.2.min.js">
</script>
<script
  src="/css/bootstrap.min.js">
</script>

<script src="/js/auto-toc-1.0.0.dist.js">
</script>

<script>
$("p:contains('NOTE: ')").addClass("callout callout-info");
$("p:contains('IMPORTANT: ')").addClass("callout callout-info");
$("p:contains('WARNING: ')").addClass("callout callout-warning");
$("p:contains('DANGER: ')").addClass("callout callout-danger");
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
  m.parentNode.insertBefore(a,m)})(window,document,'script',
  '//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63557333-1', 'auto');
  ga('send', 'pageview');
</script>


  </body>
</html>
