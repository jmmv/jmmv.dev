<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Julio Merino (jmmv.dev)</title><meta property="og:title" content="Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Julio Merino (jmmv.dev)"><meta name=description content="Fast and correct build system"><meta property="og:description" content="Fast and correct build system"><meta property="twitter:description" content="Fast and correct build system"><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.111.3"><meta property="og:url" content="https://jmmv.dev/software/bazel.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/software/bazel.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.0f452275241f2fb3c05ecd573a745cd63b14036cb2a3ee36a996adf974c4589d.css><link rel=stylesheet href=/css/chroma.css><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;Julio Merino</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/essays.html>Essays</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Software > Bazel
contributions</h1><p>Fast and correct build system</p></div></div><div class=container><div class=row><div class="col-md-3 sidebar"><h2>Key facts</h2><ul><li>Primary language: Java</li><p>Period: 2016&ndash;2020</p></ul><h2>Homepage</h2><ul><li><a href=https://bazel.build/>https://bazel.build/</a></li></ul></div><div class=col-md-9><p>Quoting the Bazel website:</p><blockquote><p>Bazel is an open-source build and test tool similar to Make, Maven, and Gradle. It uses a human-readable, high-level build language. Bazel supports projects in multiple languages and builds outputs for multiple platforms. Bazel supports large codebases across multiple repositories, and large numbers of users.</p></blockquote><p>I started working on this project in 2016 as part of a role change within Google and my primary focus was to make Bazel run well on the macOS platform, specifically to support the Google-internal iOS development community. The port already existed when I joined the team, but it was mostly a prototype that lacked stability and polish.</p><h1 id=what-did-i-contribute>What did I contribute?</h1><p>Taken stright from my resume:</p><ul><li>As the Tech Lead of a subteam of 4, I provided direction, mentorship, and established planning and execution procedures to ensure we all saw the big picture and avoided team burnout. I also redid our planning process after observing routine pain points and gathering feedback from the team and from external TLs.</li><li>Led a tactical response to the COVID-19 WFH situation to address pain points in builds on laptops with limited resources and on poor network connections.</li><li>Rewrote Bazel&rsquo;s dynamic scheduling feature, which is critical for good build performance, to make it resilient to networking blips and variable latency. See talk.</li><li>Made Bazel on Mac able to reach Google-internal&rsquo;s remote execution engine, which required porting the code to using gRPC, clearing roadblocks to establish a connection to production, and rolling out a new proxy service. This sped up clean builds by 50%.</li><li>Wrote many public blog posts on Bazel internals and presented at various conferences (including the public BazelCon) to spread awareness about our product and our work.</li><li>Sped up action sandboxing on macOS by 4x by designing and implementing a FUSE file system (sandboxfs) and integrating it into Bazel.</li><li>Acted as the point of contact during an engagement with the YouTube iOS developers to address their pain points in developer velocity, and succeeded at fixing them.</li><li>Added telemetry to our internal Bazel on Mac variant, creating a dashboard that has been used for years to understand the behavior of our user base.</li><li>Established team-wide (~50 people) practices, like a bug triage policy and a weekly knowledge-sharing event.</li></ul><h1>Related blog posts</h1><ul><li>2023-03-16:
<a href=/2023/03/addressing-bazel-ooms.html>Addressing Bazel OOMs</a></li><li>2021-03-12:
<a href=/2021/03/build-time-slis-slos.html>Defining build time SLIs and SLOs</a></li><li>2021-02-26:
<a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li>2020-12-31:
<a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li>2020-10-09:
<a href=/2020/10/bazel-jni.html>The final boss: Bazel's own JNI code</a></li><li>2020-09-18:
<a href=/2020/09/bazel-test-streaming-bug.html>Bazel output streaming, Ctrl+C, and test flakiness</a></li><li>2020-09-01:
<a href=/2020/09/bazel-ui-locking.html>Bazel UI locking and file downloads</a></li><li>2020-06-12:
<a href=/2020/06/shipping-bazel-new-dynamic-scheduler.html>Shipping Bazel's new dynamic scheduler</a></li><li>2020-05-29:
<a href=/2020/05/codesign-and-ssh.html>Running codesign over SSH with a new key</a></li><li>2020-01-24:
<a href=/2020/01/system-rewrites-and-tuning.html>Ensuring system rewrites are truly necessary</a></li><li>2020-01-17:
<a href=/2020/01/osxfuse-hardlinks-dladdr.html>The OSXFUSE, hard links, and dladdr puzzle</a></li><li>2019-12-31:
<a href=/2019/12/bazel-dynamic-execution-tree-artifacts.html>Tree artifacts and transient files</a></li><li>2019-12-31:
<a href=/2019/12/bazel-dynamic-execution-local-lockfree.html>Lifting the local lock for dynamic execution</a></li><li>2019-12-30:
<a href=/2019/12/bazel-dynamic-execution-download-times.html>Artifact downloads and dynamic execution</a></li><li>2019-12-27:
<a href=/2019/12/bazel-dynamic-execution-output-locking.html>Output conflicts and dynamic execution</a></li><li>2019-12-26:
<a href=/2019/12/bazel-dynamic-execution-strategy.html>Bazel's dynamic strategy</a></li><li>2019-12-23:
<a href=/2019/12/bazel-local-resources.html>How does Bazel track local resource usage?</a></li><li>2019-12-20:
<a href=/2019/12/bazel-dynamic-execution-introduction.html>Introduction to Bazel's dynamic execution</a></li><li>2019-12-14:
<a href=/2019/12/bazel-strategies.html>What are Bazel's strategies?</a></li><li>2019-11-15:
<a href=/2019/11/wait-for-process-group-darwin.html>Waiting for process groups, macOS edition</a></li><li>2019-11-14:
<a href=/2019/11/wait-for-process-group-linux.html>Waiting for process groups, Linux edition</a></li><li>2019-11-12:
<a href=/2019/11/wait-for-process-group.html>Waiting for process groups, introduction</a></li><li>2019-11-08:
<a href=/2019/11/bazel-process-wrapper.html>Bazel's process-wrapper helper tool</a></li><li>2019-11-01:
<a href=/2019/11/macos-sandbox-exec.html>A quick glance at macOS' sandbox-exec</a></li><li>2019-03-22:
<a href=/2019/03/optimizing-tree-deletions.html>Optimizing tree deletions in Bazel</a></li><li>2019-03-06:
<a href=/2019/03/macos-threads-qos-and-bazel.html>Darwin's QoS service classes and performance</a></li><li>2019-02-22:
<a href=/2019/02/setenv-and-global-variables.html>Using setenv equals setting global variables</a></li><li>2019-02-07:
<a href=/2019/02/encode-your-assumptions.html>Encode your assumptions</a></li><li>2019-02-05:
<a href=/2019/02/sandboxfs-0-1-0.html>Hello, sandboxfs 0.1.0</a></li><li>2019-01-29:
<a href=/2019/01/open-files-limit-macos-and-jvm.html>Open files limit, macOS, and the JVM</a></li><li>2018-04-30:
<a href=/2018/04/bazel-xcode-locations-cache.html>A few extra system calls... and you lose 1% build time</a></li><li>2018-04-13:
<a href=/2018/04/preliminary-sandboxfs-support-in-bazel.html>Preliminary sandboxfs support in Bazel</a></li><li>2018-03-27:
<a href=/2018/03/stick-to-projects-core-language-in-tests.html>Stick to your project's core language in your tests</a></li><li>2018-03-19:
<a href=/2018/03/bazel-tests-in-java-part-2.html>A case for writing Bazel's integration tests in Java, part 2</a></li><li>2018-03-16:
<a href=/2018/03/bazel-tests-in-java-part-1.html>A case for writing Bazel's integration tests in Java, part 1</a></li><li>2017-08-25:
<a href=/2017/08/introducing-sandboxfs.html>Introducing sandboxfs</a></li><li>2016-01-19:
<a href=/2016/01/joining-blaze-team.html>Joining the Blaze team</a></li><li>2015-04-14:
<a href=/2015/04/on-bazel-and-open-source.html>On Bazel and Open Source</a></li></ul></div></div></div><footer class=container><div class=row><div class="col-4 order-2 texr-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2023 Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.d30f168b11d80082408f4a983af9a626c6e57d58f7846b2174bac40d43be33e3.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src=https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi9zb2Z0d2FyZS9iYXplbC5odG1s/stamp.gif style=display:none></noscript></body></html>