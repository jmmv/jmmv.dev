<!DOCTYPE html>
<html>
  <head>
    

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head
      content must come *after* these tags -->

<meta name="description"
      content="SoC's deadline is just five days away!  I'm quite happy with the status of my project, ATF, but it will require a lot more work to be in a decent shape — i.e...">
<meta name="author" content="Julio Merino">

<meta content="http://julio.meroh.net/2007/08/soc-status-report.html" property="og:url">

<link rel="canonical" href="http://julio.meroh.net/2007/08/soc-status-report.html">
<link rel="alternate" type="application/rss+xml" title="Julio Merino" href="http://julio.meroh.net/feed.xml" />

<link rel="stylesheet" href="/css/main.css">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="/js/html5shiv-3.7.2.min.js"></script>
  <script src="/js/respond-1.4.2.min.js"></script>
<![endif]-->

    <title>SoC: Status report - Julio Merino</title>
    <meta content="SoC: Status report - Julio Merino" property="og:title">
  </head>

  <body>
    <header class="site-header">

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed"
              data-toggle="collapse" data-target="#navbar"
              aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Julio Merino</a>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
          
            
              
                <li><a class="page-link"
                href="/about/"
                >About</a></li>
              
            
          
        
          
            
          
        
          
            
          
        
          
            
              
                <li><a class="page-link"
                href="/essays/"
                >Essays</a></li>
              
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              
                <li><a class="page-link"
                href="/software/"
                >Software</a></li>
              
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              
                <li><a class="page-link"
                href="/work/"
                >Work</a></li>
              
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      </ul>

      <form class="navbar-form navbar-right" method="get" role="search"
            action="http://www.google.com/search">
          <div class="form-group">
            <input type="text" name="query" class="form-control"
                   placeholder="Search">
            <input type="hidden" name="sitesearch" value="http://julio.meroh.net">
          </div>
          <button type="submit" value="Search" class="btn btn-default">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </button>
      </form>
    </div>
  </div>
</nav>

</header>


    <div class="page-header">
      <div class="container">
        <h1>SoC: Status report</h1>

        <p><!-- From http://alanwsmith.com/jekyll-liquid-date-formatting-examples -->

August

15th,
  
2007
at
17:43 UTC
        
        </p>

        
      </div>
    </div>

    <div class="container">
      <article>
        SoC's deadline is just five days away!  I'm quite happy with the status of my project, <a href="http://netbsd-soc.sourceforge.net/projects/atf/">ATF</a>, but it will require a lot more work to be in a decent shape — i.e. ready to be imported into NetBSD — and there really is no time to get it done in five days.  Furthermore, it is still to unstable (in the sense that it changes a lot) so importing it right now could cause a lot of grief to end users.  However, after a couple of important changes, it may be ready for a 0.1 release, and that's what I'm aiming for.<br /><br />I have to confess again that some parts of the code are horrible.  That's basically because it has been gaining features in an iterative way, all which were not planned beforehand... so it has ended up being hack over hack.  But, don't worry: as long as there is good test coverage for all the expected features, this can easily be fixed.  With a decent test suite, I'll be able to later rewrite any piece of code and be pretty sure that I have not broken anything important.  (In fact, I've already been doing that for the most inner code with nice results.)<br /><br />So what has changed since the <a href="http://julipedia.blogspot.com/2007/08/soc-first-preview-of-netbsd-with-atf.html">preview</a>?<br /><ul><li>All files read by ATF as well as all data formats used for serialization of data have now a header that specifies their format (a type and a version).  This is very important to have from the very beginning so that the data formats can easily be changed in the future (which will certainly happen).</li><li>Rewrote how test programs and <tt>atf-run</tt> print their execution status.  Now, the two print a format that is machine-parseable and which is "sequential": reading the output from top to bottom, you can immediately know what the program is doing at the moment without having to wait for future data.</li><li>Added the <tt>atf-report</tt> tool, which gathers the output of <tt>atf-run</tt> and generates a user-friendly report.  At the moment it outputs plain text only, but XML (and maybe HTML) are planned.  The previous point was a pre-requisite for this one.</li><li>Merged multiple implementation files into more generic modules.</li><li>Merged the libatf and libatfprivate libraries into a single one.  The simpler the better.</li><li>Added build-time tests for all public headers, to ensure that they can be included without errors.</li><li>Implemented run-time configuration variables for test programs and configuration files.</li></ul>Wow, that's a lot of stuff :-)<br /><br />And talking with my mentor five days ago, we got to the following list of pending work to get done before the deadline:<br /><ol><li>Configuration files.  Already done as of an hour ago!</li><li>A plain text format that clearly describes the results of the test cases (similar to what <tt>src/regress/README</tt> explains).  I haven't looked at that yet, but this will be trivial with the new <tt>atf-report</tt> tool.</li><li>Would be nice: HTML output.  Rather easy.  But I'm unsure about this point: it may be better to define a XML format only and then use xsltproc to transform it.</li><li>Manual pages: A must for 0.1 (even if they are not too detailed), but not really required for the evaluation.</li><li>Code cleanups: Can be done after SoC, but I personally dislike showing ugly code.  Unfortunately there is not enough time to spend on this.  Cleaning up a module means: rewriting most of it, documenting each function/class and adding exhaustive unit tests for it.  It is painful, really, but the results are rewarding.<br /></li><li>Keep the NetBSD patches in sync with development: I'm continuously doing that!</li></ol>Let's get back to work.

      </article>

      <div class="post-links">
        <p>
          

          
          <a href="http://julipedia.meroh.net/2007/08/soc-status-report.html">Posted on
          The Julipedia</a>
          &middot;
          

          

          <a href="/feed.xml">Subscribe
          via RSS</a>
          &middot;
          <a href="/blog/">Go to posts index</a>
        </p>

        <form class="form-inline"
            action="https://feedburner.google.com/fb/a/mailverify"
            method="post"
            target="popupwindow"
            onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=jmmv', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
          <div class="form-group form-group-sm">
            <input type="text" style="width: 400px" name="email"
                    placeholder="Enter your email to subscribe to new posts"
                    class="form-control input-sm"/>
          </div>
          <button type="submit" value="Subscribe"
                  class="btn btn-default btn-sm">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
          &nbsp;&nbsp;&nbsp;Delivered by
          <input type="hidden" value="jmmv" name="uri"/>
          <input type="hidden" name="loc" value="en_US"/>
          <a href="https://feedburner.google.com" target="_blank">FeedBurner</a>
        </form>
      </div>

      
      <div id="disqus_thread">
        <script>
          var disqus_config = function () {
            this.page.url = "http://julio.meroh.net/2007/08/soc-status-report.html";
            this.page.identifier = "/2007/08/soc-status-report";
          };
          (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//jmmv.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
          powered by Disqus.</a>
        </noscript>
      </div>
      
    </div>

    <div class="container">
  <footer>
    <p class="pull-right"><a href="#">Back to top</a></p>
    <p>Copyright 2016 Julio Merino</p>
  </footer>
</div>

<script src="/js/jquery-1.11.2.min.js">
</script>
<script
  src="/css/bootstrap.min.js">
</script>

<script src="/js/auto-toc-1.0.0.dist.js">
</script>

<script>
$("p:contains('NOTE: ')").addClass("callout callout-info");
$("p:contains('IMPORTANT: ')").addClass("callout callout-info");
$("p:contains('WARNING: ')").addClass("callout callout-warning");
$("p:contains('DANGER: ')").addClass("callout callout-danger");
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
  m.parentNode.insertBefore(a,m)})(window,document,'script',
  '//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63557333-1', 'auto');
  ga('send', 'pageview');
</script>


  </body>
</html>
