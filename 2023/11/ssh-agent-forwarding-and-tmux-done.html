<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>SSH agent forwarding and tmux done right - Julio Merino (jmmv.dev)</title><meta property="og:title" content="SSH agent forwarding and tmux done right - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="SSH agent forwarding and tmux done right - Julio Merino (jmmv.dev)"><meta name=description content="The SSH agent is a little daemon that holds your private keys in memory. This is particularly handy when your keys are protected by a passphrase: you can unlock and add your keys to the agent once and, from then on, any SSH client such as ssh(1) can interact with the keys without asking you for the passphrase again.
The SSH agent becomes even handier when you primarily work on a remote workstation over SSH."><meta property="og:description" content="The SSH agent is a little daemon that holds your private keys in memory. This is particularly handy when your keys are protected by a passphrase: you can unlock and add your keys to the agent once and, from then on, any SSH client such as ssh(1) can interact with the keys without asking you for the passphrase again.
The SSH agent becomes even handier when you primarily work on a remote workstation over SSH."><meta property="twitter:description" content="The SSH agent is a little daemon that holds your private keys in memory. This is particularly handy when your keys are protected by a passphrase: you can unlock and add your keys to the agent once ‚Ä¶"><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.111.3"><meta property="og:url" content="https://jmmv.dev/2023/11/ssh-agent-forwarding-and-tmux-done.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/2023/11/ssh-agent-forwarding-and-tmux-done.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>SSH agent forwarding and tmux done right</h1><p>November 17, 2023 &#183;
About 9 minutes
&#183;
Tags:
<a href=/tags/blogsystem5>blogsystem5</a>, <a href=/tags/unix>unix</a></p><p class=post-meta-p>This article was
<a href=https://blogsystem5.substack.com/p/ssh-agent-forwarding-and-tmux-done>originally published
on Substack</a>
in the <a href=https://blogsystem5.substack.com/>Blog System/5 newsletter</a>
and is replicated here for archival purposes.</p></div></div><div class="container post-body"><div class=row><div class=col-md-9><div class=row><div class=col><article><p>The <a href=https://man.openbsd.org/ssh-agent>SSH agent</a> is a little daemon that holds your private keys in memory. This is particularly handy when your keys are protected by a passphrase: you can unlock and add your keys to the agent once and, from then on, any SSH client such as <code>ssh(1)</code> can interact with the keys without asking you for the passphrase again.</p><p>The SSH agent becomes even handier when you primarily work on a remote workstation over SSH. Under these circumstances, you will often need the remote workstation to establish SSH connections to <em>other</em> remote machines (e.g. to contact GitHub). In those situations, you can: copy your private keys to the remote workstation; generate different private keys on the remote workstation; or forward your SSH agent so that the remote workstation can leverage the keys from your client machine without them ever traveling over the network.</p><p>Anyway. This article isn&rsquo;t a tutorial on what the SSH agent <em>is</em> or how to <em>use</em> it; that&rsquo;s already <a href=https://www.ssh.com/academy/ssh/agent>well-documented elsewhere</a>. What this article does is dig deeper into how the forwarding feature works, how it becomes problematic for long-lived processes such as tmux, and what you can do about it.</p><h1 id=agent-forwarding-101>Agent forwarding 101</h1><p>When you connect to an SSH host, the <code>sshd</code> server process receives the connection, forks itself, lowers its privileges to the user requesting the connection, creates a pseudo-terminal to host the requested program (typically a shell), and spawns such program &ldquo;inside&rdquo; the pseudo-terminal.</p><p>Take a look at this process table, which shows the <code>sshd</code> processes running on the server I&rsquo;m typing this on:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ ps -ax -o user,pid,command | grep ssh[d]
</span></span><span class=line><span class=cl>root        3617 sshd: /usr/sbin/sshd [listener] 0 of 10-100 startups (sshd)
</span></span><span class=line><span class=cl>root       82202 sshd: jmmv [priv] (sshd)
</span></span><span class=line><span class=cl>jmmv       82204 sshd: jmmv@pts/1 (sshd)
</span></span></code></pre></div><p>What you can see in the output above is: the listener process with PID 3617 accepting connections on port 22; a &ldquo;privsep&rdquo; controlling process owned by root for my session with PID 82202, <a href=https://security.stackexchange.com/questions/115896/can-someone-explain-how-sshd-does-privilege-separation>responsible for doing authentication</a>; and the process serving my session on the pseudo-terminal <code>pts/1</code> and owned by myself with PID 82204.</p><p>The user-owned <code>sshd</code> instance on PID 82204 is what hosts the shell that you interact with on the client when connecting to an SSH server. This process is in charge of receiving your keystrokes from the network, sending them to the pseudo-terminal, and then ferrying back the pseudo-terminal&rsquo;s &ldquo;output&rdquo; to the terminal window where your client runs. Pseudo-terminals are fascinating by the way; go read <a href=https://man.netbsd.org/openpty.3><code>openpty(3)</code></a>.</p><p>But when you enable SSH agent forwarding with an <code>ssh -A</code> invocation, something else happens. The user-owned <code>sshd</code> server process creates a Unix domain socket on the remote machine and starts <em>serving</em> on it. Whenever an SSH process on the remote machine connects to this local socket and sends a request to it, the <code>sshd</code> process proxies the request <em>back</em> to the client machine and, in turn, the client machine&rsquo;s <code>ssh</code> process contacts the client machine&rsquo;s <code>ssh-agent</code> to perform key-related operations.</p><p>This path to the socket on the remote machine is exposed by the <code>SSH_AUTH_SOCK</code> environment variable, and all SSH commands know how to access it. Here, look:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>client$ ssh -A server
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>server$ env | grep SSH_AUTH_SOCK
</span></span><span class=line><span class=cl>SSH_AUTH_SOCK=/tmp/ssh-jewlWIz1jC/agent.82204
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>server$ ls -l &#34;${SSH_AUTH_SOCK}&#34;
</span></span><span class=line><span class=cl>srwxr-xr-x  1 jmmv  wheel  0 Nov 17 05:30 /tmp/ssh-jewlWIz1jC/agent.82204
</span></span></code></pre></div><p>Because a picture is worth a thousand words, here is the same idea in a diagram&mldr; and this picture starts hinting at the problem I want to analyze:</p><figure><img src=/images/2023-11-17-ssh-agent-1.png><figcaption>Representation of a client machine (left) connecting to an SSH server. The SSH server (large box on the right) contains an sshd process and a tmux instance. The tmux instance shows the value of <tt>SSH_AUTH_SOCK</tt>.</figcaption></figure><h1 id=problems-with-long-lived-processes>Problems with long-lived processes</h1><p>Pay close attention to what I described above: the path to the local socket created by the remote <code>sshd</code> instance is specific to the (unprivileged) <code>sshd</code> process handling the connection. The fact that the socket&rsquo;s name contains the PID gives this away, but if you want to double-check:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>server$ sudo lsof | grep &#34;${SSH_AUTH_SOCK}&#34;
</span></span><span class=line><span class=cl>sshd      82204       jmmv    7u     unix    0xfffff80f6a50fb10                0t0         /tmp/ssh-jewlWIz1jC/agent.82204
</span></span></code></pre></div><p>I did not say it explicitly, but you can guess what happens: when you disconnect from the remote session, the <code>sshd</code> instance for the connection terminates and deletes its local socket on the way out. Which is normal because that process was the one in charge of proxying SSH agent connections back to the SSH client, so with the process gone, the socket becomes useless.</p><p>Unfortunately, the fact that this is normal doesn&rsquo;t make it less problematic. The path to the forwarding socket is exposed to processes via the <code>SSH_AUTH_SOCK</code> environment variable, so every process started within the remote SSH session gets and <em>caches</em> a copy of this path in its environment. If you have long-lived process such as <code>tmux</code> that can survive <em>across</em> sessions, then all of a sudden the value of <code>SSH_AUTH_SOCK</code> that they cached at startup time ends up pointing to a non-existing file, breaking all future SSH agent interactions. Look:</p><figure><img src=/images/2023-11-17-ssh-agent-2.png><figcaption>Representation of a client machine (left) re-connecting to an SSH server after an earlier connection drops. The SSH server (large box on the right) shows how the tmux instance from the first connection "moves" to the second connection, and how the value that tmux displayed in <tt>SSH_AUTH_SOCK</tt> now points to an invalid file.</figcaption></figure><p>The specific sequence of events represented in the diagram above and that leads to the problem is this:</p><ol><li>Connect to an SSH server with SSH agent forwarding.</li><li>Start a tmux session in the SSH server.</li><li>Detach the tmux session.</li><li>Log out of the SSH server.</li><li>Reconnect to the SSH server with SSH agent forwarding.</li><li>Attach to the existing tmux session.</li><li>Run an SSH command.</li><li>See the command fail to communicate with the forwarded agent.</li></ol><p>So, what can we do about it?</p><h1 id=usual-broken-solutions>Usual broken solutions</h1><p><a href=https://blog.testdouble.com/posts/2016-11-18-reconciling-tmux-and-ssh-agent-forwarding/>Most</a> <a href=https://werat.dev/blog/happy-ssh-agent-forwarding/>&ldquo;solutions&rdquo;</a> <a href=https://without-brains.net/2020/08/05/tmux-and-ssh-agent-forwarding/>I</a> <a href=https://stackoverflow.com/questions/21378569/how-to-auto-update-ssh-agent-environment-variables-when-attaching-to-existing-tm>find</a> <a href=https://www.jwon.me/ssh-agent-forwarding-with-tmux/>online</a> to this problem are hyper-focused on propagating new values of <code>SSH_AUTH_SOCK</code> to impacted processes. These articles present how to re-inject a fresh value of this variable into tmux. Some of them go to a greater extent by showing you how to propagate the variable&rsquo;s value to the <em>shells</em> already running inside tmux sessions, because obviously the shells outlast SSH sessions too and they <em>also</em> have their own copy of <code>SSH_AUTH_SOCK</code>.</p><p>This mostly works but it has two problems:</p><ul><li><p>It&rsquo;s a pile of hacks and a whack-a-mole battle you will not win. You can patch tmux. You can patch the shell. But what else do you run inside tmux that outlives SSH sessions? Emacs? Vim? A &ldquo;transitive&rdquo; outbound SSH connection? These all have their own copies of <code>SSH_AUTH_SOCK</code>. You just can&rsquo;t monkey-patch all possible long-lived processes that cached an ephemeral path in their environment when they started.</p></li><li><p>It&rsquo;s insufficient. Some of the solutions linked to above leverage a symlink to keep the socket&rsquo;s name stable. Those solutions refresh the symlink every time you log into the remote machine and then point <code>SSH_AUTH_SOCK</code> to the symlink. This is good because it solves the problem of having to monkey-patch all possible long-lived processes. Unfortunately, this breaks as soon as the <em>latest</em> connection to the server disconnects: once that happens, the symlink will be dangling until you establish a new session to update it.</p></li></ul><p>Can we do better?</p><h1 id=better-working-solutions>Better working solutions</h1><p><em>Of course</em> we can do better, and in various different ways actually. I&rsquo;m surprised I haven&rsquo;t found any of them online with ease&mldr;</p><p>Here are some ideas:</p><ol><li><p>We can refine the symlinks approach described earlier by adding a <em>logout</em> script to accompany the login script. The goal of this pair would be to keep track of all possible valid sockets and, when a session disconnects, refresh the symlink to point to a still-valid one. This can work in the common case but breaks if SSH sessions die suddenly, which is pretty normal: think putting your laptop to sleep with an open SSH session and resuming it after commuting. So&mldr; this is better, but not awesome.</p></li><li><p>We can use <code>LD_PRELOAD</code> to hijack calls that open a socket, check if they seem to refer to an SSH agent socket, and then redirect those to any <em>other</em> alive SSH agent socket we can find on the machine. This possibly works well, but leveraging <code>LD_PRELOAD</code> is a pretty heavy thing to do because it impacts <em>all</em> processes. Furthermore, this variable is pretty sensitive so it is probably cleared by many programs at startup time&mldr; which means it can be ineffective.</p></li><li><p>We can supplant the SSH agent with our own daemon that serves a local socket on a well-known path. This daemon then redirects all SSH agent requests to a working SSH agent socket. The &ldquo;working&rdquo; socket is determined by searching <code>/tmp/</code> for <em>any</em> agent socket that the calling user has permissions to open, and using the first one that works. We can start this daemon when the user firsts connects to the remote server, and we can fix up the <code>SSH_AUTH_SOCK</code> value at login time&mdash;well before any process can cache the wrong value.</p></li></ol><p>This last solution is what I prototyped in <strong><a href=https://github.com/jmmv/ssh-agent-switcher/>ssh-agent-switcher</a></strong>. It took me about an hour of evening coding to get this to work, an extra hour to write integration tests and refine the implementation, and a final half hour to set up the GitHub project. It works for me, but don&rsquo;t expect it to be perfect.</p><p>As a side note, I wrote this program in Go&mldr; not because I wanted to, but because it is a necessity due to the context in which I&rsquo;ll probably use this. And you know what, writing Go for this was really fun due to easy APIs, quick iteration, and simple tooling&mldr; But I could only tolerate Go because I had no need to model any kind of structured data: I still find Go to be a bad choice for anything larger in scope where correctness matters.</p><p>Now the question is: is this safe? And the answer is: I think so? The ssh-agent-switcher daemon runs in the context of your user account so it can only access sockets you already have access to. The only risk comes from the creation of the daemon&rsquo;s own Unix socket: if the socket is accessible to anyone else on the remote machine, then that person would be able to access your forwarded agent and leverage the credentials that live on your client machine. I&rsquo;ve taken care to create the socket with tight permissions, but the question remains: is the default location under <code>/tmp/</code> good-enough? Creating temporary files with predictable names <a href=https://www.netmeister.org/blog/mktemp.html>is generally unsound</a> because that leaves them subject to hijacking via symlinks&mldr; but in this case, the daemon is creating a Unix domain socket, not a regular file, and I&rsquo;ve not succeeded at stealing it.</p><p>Oh, and by the way, this all explains the warning in the <a href=https://man.openbsd.org/ssh><code>sshd(1)</code> manual page</a> about the use of agent forwarding:</p><blockquote><p>Agent forwarding should be enabled with caution. Users with the ability to bypass file permissions on the remote host (for the agent&rsquo;s UNIX-domain socket) can access the local agent through the forwarded connection. An attacker cannot obtain key material from the agent, however they can perform operations on the keys that enable them to authenticate using the identities loaded into the agent. A safer alternative may be to use a jump host (see -J).</p></blockquote><p>If you do not trust the administrator of a remote machine, SSHing into it and forwarding your agent will allow the remote administrator to send requests to your local agent. Be careful out there.</p></article></div></div><div class="container post-links"><div class=row><div class="col mr-auto text-left"><span><a href=https://jmmv.dev/2023/11/why-do-i-know-shell-and-how-can-you.html>&#171; Previous</a></span></div><div class="col text-center"><span><a href=/archive.html>All posts</a></span></div><div class="col ml-auto text-right"><span></span></div></div></div><div class="container post-votes"><div class=row><div class="col-lg-4 my-2"><div class=row><div class=col><a onclick=voteThumbsUp() class="btn btn-block btn-outline-success" id=thumbs-up-btn>üëç
(<span id=thumbs-up-count>0</span>)</a></div><div class=col><a onclick=voteThumbsDown() class="btn btn-block btn-outline-danger" id=thumbs-down-btn>üëé
(<span id=thumbs-down-count>0</span>)</a></div></div></div><div class="col-lg-8 my-2 d-none d-sm-block"><div class=row><div class="col-md-4 text-center"><a href="https://www.reddit.com/submit?title=SSH+agent+forwarding+and+tmux+done+right&amp;url=https%3A%2F%2Fjmmv.dev%2F2023%2F11%2Fssh-agent-forwarding-and-tmux-done.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/reddit.png alt=Reddit width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://news.ycombinator.com/submitlink?t=SSH+agent+forwarding+and+tmux+done+right&amp;u=https%3A%2F%2Fjmmv.dev%2F2023%2F11%2Fssh-agent-forwarding-and-tmux-done.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/ycombinator.png alt="Hacker News" width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://twitter.com/intent/tweet?status=SSH+agent+forwarding+and+tmux+done+right+%E2%80%94+https%3A%2F%2Fjmmv.dev%2F2023%2F11%2Fssh-agent-forwarding-and-tmux-done.html+%E2%80%94+cc+%40jmmv" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/Twitter_Social_Icon_Circle_Color.png alt=Twitter width=24 height=24></a></div></div></div></div><div class="row my-4" id=postCommentRow><div class=col><div class=media><img class=mr-3 src=/octicons/pencil.svg width=32px height=32px><div class="media-body container"><form method=post id=newPost><div class=row><div class="col my-1"><textarea class=form-control rows=1 id=postCommentContent onclick=showPostComment() placeholder="Leave a comment"></textarea></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentAuthor>Your name (optional):</label>
<input type=text class=form-control id=postCommentAuthor></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentEmail>Your email (optional):</label>
<input type=text class=form-control type=email id=postCommentEmail>
<small class="form-text text-muted">Invisible to all readers; if provided, you will receive notifications when replied to (not implemented yet)</small></div></div><div class=row id=postCommentError style=display:none><div class="col mt-1 alert-danger"><p></p></div></div><div class="row newPostControls" style=display:none><button class="col-md-3 my-1 btn btn-primary" type=submit id=submitCommentButton>Post</button>
<small class="col-md-9 my-1 text-muted">Comments are subject to moderation. This feature is experimental and is powered by <a href=/software/endtracker.html>EndTRACKER</a>. If you experience any issues, please <a href=/about.html#contact>contact me off-band</a>.</small></div></form></div></div></div></div><script>function hidePostComment(){var t,e=document.getElementById("postCommentContent");e.rows=1,e.value="",t=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(t,function(e){e.style.display="none"})}function showPostComment(){var e,t=document.getElementById("postCommentContent");t.rows=5,e=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(e,function(e){e.style.display=""})}const form=document.querySelector("#newPost");form.onsubmit=function(e){e.preventDefault();let t=document.getElementById("postCommentAuthor").value,n=document.getElementById("postCommentEmail").value,s=document.getElementById("postCommentContent").value;postComment(t,n,s,hidePostComment)}</script></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon"></a>
<a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter"></a>
<a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2023 Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.d30f168b11d80082408f4a983af9a626c6e57d58f7846b2174bac40d43be33e3.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src="https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi8yMDIzLzExL3NzaC1hZ2VudC1mb3J3YXJkaW5nLWFuZC10bXV4LWRvbmUuaHRtbA==/stamp.gif" style=display:none></noscript></body></html>