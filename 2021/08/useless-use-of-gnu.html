<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Useless use of GNU - Julio Merino (jmmv.dev)</title><meta property="og:title" content="Useless use of GNU - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Useless use of GNU - Julio Merino (jmmv.dev)"><meta name=description content="The GNU project is the source of the Unix userland utilities used on most Linux distributions. Its compatibility with standards and other Unix systems, or lack thereof, directly impacts the overall portability of any piece of software developed from GNU/Linux installations. Unfortunately, the GNU userland does not closely adhere to standards, and its widespread usage causes little incompatibilities to creep into any software created on GNU/Linux systems. Read on for why this is a problem and the pitfalls you will encounter."><meta property="og:description" content="The GNU project is the source of the Unix userland utilities used on most Linux distributions. Its compatibility with standards and other Unix systems, or lack thereof, directly impacts the overall portability of any piece of software developed from GNU/Linux installations. Unfortunately, the GNU userland does not closely adhere to standards, and its widespread usage causes little incompatibilities to creep into any software created on GNU/Linux systems. Read on for why this is a problem and the pitfalls you will encounter."><meta property="twitter:description" content="The GNU project is the source of the Unix userland utilities used on most Linux distributions. Its compatibility with standards and other Unix systems, or lack thereof, directly impacts the overall ‚Ä¶"><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.147.8"><meta property="og:url" content="https://jmmv.dev/2021/08/useless-use-of-gnu.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/2021/08/useless-use-of-gnu.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.24b518a51730830025491ef7734bba072a9461f33c61bc812443fd003a8d4901.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Useless use of GNU</h1><p>August 25, 2021 &#183;
About 12 minutes
&#183;
Tags:
<a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a>, <a href=/tags/shell>shell</a>, <a href=/tags/unix>unix</a></p></div></div><div class="container post-body"><div class=row><div class=col-md-9><div class=row><div class=col><article><p>The <a href=https://www.gnu.org/>GNU project</a> is the source of the Unix userland utilities used on most Linux distributions. Its compatibility with standards and other Unix systems, or lack thereof, directly impacts the overall portability of any piece of software developed from GNU/Linux<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> installations.</p><p>Given that GNU/Linux has &ldquo;triumphed&rdquo; over pretty much every other Unix-like system, it is likely that you are developing from a GNU/Linux system, and it is also likely that you have no or little exposure to other Unix systems. That said, other Unix systems still exist to date, and they do not carry the GNU userland with them: macOS is the prominent example as it comes with a BSD core&mdash;and the various BSDs are still around and kicking.</p><p>Unfortunately, the GNU userland does not closely adhere to standards; even its own design guidelines <a href=https://www.gnu.org/prep/standards/html_node/Non_002dGNU-Standards.html>encourage disregarding them</a>. More so, if we look at the manual pages or Info documents of most GNU tools, we won&rsquo;t see any mention as to which standards they conform to. For example, the <a href=https://www.gnu.org/software/coreutils/manual/coreutils.html#Standards-conformance>GNU Coreutils manual</a> contains 91 instances of the POSIX word, but skimming through the text revels that these are there to call out little incompatibilities or implementation choices.</p><p>Compare this to an arbitrary manual page from a BSD system, such as <code>ls(1)</code> from FreeBSD 13:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>STANDARDS
</span></span><span class=line><span class=cl>     With the exception of options -g, -n and -o, the ls utility conforms to
</span></span><span class=line><span class=cl>     IEEE Std 1003.1-2001 (&#34;POSIX.1&#34;) and IEEE Std 1003.1-2008 (&#34;POSIX.1&#34;).
</span></span><span class=line><span class=cl>     The options -B, -D, -G, -I, -T, -U, -W, -Z, -b, -h, -w, -y and -, are
</span></span><span class=line><span class=cl>     non-standard extensions.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     The ACL support is compatible with IEEE Std 1003.2c (&#34;POSIX.2c&#34;) Draft 17
</span></span><span class=line><span class=cl>     (withdrawn).
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUGS
</span></span><span class=line><span class=cl>     [...]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     IEEE Std 1003.2 (&#34;POSIX.2&#34;) mandates opposite sort orders for files with
</span></span><span class=line><span class=cl>     the same timestamp when sorting with the -t option.
</span></span></code></pre></div><p>In the FreeBSD case, you are always aware of which behaviors are standard and which are not because the vast majority of its manual pages carry notes like these. This is important because you can then make an informed decision on whether you want to write software that is or isn&rsquo;t standards-compliant. Or, at the very least, having this kind of information &ldquo;in your face&rdquo; all the time may make you aware that portability is still a real struggle in 2021.</p><p>Which brings us to the real problem with the GNU userland: GNU tools contain many incompatible <strong>extensions</strong> over other more-traditional Unix systems. We can classify these in two groups:</p><ul><li><p><strong>Usability extensions</strong>: These are extensions that are meant to improve the <em>interactive</em> experience of the system. These can actually be very useful, such as <code>ls --color</code>, and are perfectly fine extensions&mdash;as long as they are restricted to interactive usage alone.</p></li><li><p><strong>Gratuitous incompatibilities</strong>: These are little differences here and there, like the <code>==</code> operator in <code>test(1)</code>, that creep up in scripts and documentation and that have the (unintended?) consequence of making programs GNU-specific for no good reason.</p></li></ul><blockquote><p>It is the latter kind, the gratuitous incompatibilities, that are truly problematic because they are a source of vendor lock-in, intentionally or not<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>. And because of GNU/Linux&rsquo;s predominance, you are likely to be using these extensions already without knowing that they can&mdash;and will&mdash;cause trouble down the road.</p></blockquote><p>In this post, I present the GNU-specific gratuitous incompatibilities that plague programs&mdash;shell scripts specifically&mdash;and that are <em>easy</em> to avoid. The goal of this post is to help you identify these pitfalls and write more portable software. So, if at all possible, I&rsquo;d encourage you to use the standard counterparts, unless you need to use the more advanced GNU-specific features that have no simple replacements. The topics that I&rsquo;ll cover are:</p><nav id=TableOfContents><ul><li><a href=#command-line-differences>Command-line differences</a><ul><li><a href=#flags-after-arguments>Flags after arguments</a></li><li><a href=#long-flag-names>Long flag names</a></li></ul></li><li><a href=#bashisms>Bashisms</a><ul><li><a href=#the--operator>The == operator</a></li><li><a href=#the--and--extension>The [[ and ]] extension</a></li><li><a href=#the-function-keyword>The function keyword</a></li><li><a href=#set--o-pipefail>set -o pipefail</a></li><li><a href=#echo--e>echo -e</a></li></ul></li><li><a href=#find-without-a-directory>find without a directory</a></li><li><a href=#awk-gensub>awk gensub()</a></li><li><a href=#make-shell--expansion>make $(shell &mldr;) expansion</a></li></ul></nav><p>Most of the content here comes from my past experiences in porting lots of software (<a href=https://www.gnome.org/>Gnome 2.x</a> primarily) first created on GNU/Linux systems over to NetBSD. The title of this post, by the way, is in honor of the <a href=http://porkmail.org/era/unix/award.html>Useless use of cat</a> meme, which documents unnecessary uses of the <code>cat</code> utility in favor of functionality that exists in other tools.</p><h1 id=command-line-differences>Command-line differences</h1><p>One thing that GNU does well is handle command line arguments in a uniform way across all of its tools. Unfortunately, this is done via common libraries that contain gratuitous incompatible behaviors&mdash;which means that such incompatibilities spread throughout the whole system. Let&rsquo;s peek at a few.</p><h2 id=flags-after-arguments>Flags after arguments</h2><p>GNU tools use the <code>getopt</code> function to process options. This function is standard, but GNU added a major divergent behavior: the GNU implementation in libc accepts option arguments anywhere in the command line, not just before the first non-option argument.</p><p>This means that <code>ls foo -l</code> is a valid command invocation in GNU/Linux but is not valid anywhere else. The standards-compliant counterpart is trivial to achieve: move the flags to appear earlier, like in <code>ls -l foo</code>.</p><p>If you are writing your own tool that calls into <code>getopt(3)</code>, you should detect whether you are using the GNU variant or not&mdash;and, if so, pass the <code>+</code> character as the first character of the options string. This will make the tool behave consistently across systems.</p><p>For further reference, see &ldquo;<a href=https://chris.vittal.dev/posts/gnu-getopt-sucks/>The Problem With GNU getopt; Or, On Standards</a>&rdquo;.</p><h2 id=long-flag-names>Long flag names</h2><p>In the previous section, I said that GNU tools use the <code>getopt</code> function to process options. This isn&rsquo;t quite true though, as most of the GNU tools actually use <code>getopt_long</code> (a GNU addition) to support both short and long option names. The <code>getopt_long(3)</code> manual page of FreeBSD 13 says:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>HISTORY
</span></span><span class=line><span class=cl>     The getopt_long() and getopt_long_only() functions first appeared in the
</span></span><span class=line><span class=cl>     GNU libiberty library.  The first BSD implementation of getopt_long()
</span></span><span class=line><span class=cl>     appeared in NetBSD 1.5, the first BSD implementation of
</span></span><span class=line><span class=cl>     getopt_long_only() in OpenBSD 3.3.  FreeBSD first included getopt_long()
</span></span><span class=line><span class=cl>     in FreeBSD 5.0, getopt_long_only() in FreeBSD 5.2.
</span></span></code></pre></div><p>Personally, I find long option names nice for usability and self-documenting command invocations. The problem with these options is that GNU tools expose standard-defined options both via their short, standard name, but also via long, GNU-specific names.</p><p>The reason this is a problem is because a call like <code>grep --ignore-case foo</code> is unnecessarily GNU-specific. The standards-equivalent call would be <code>grep -i foo</code>, and it&rsquo;d do the exact same thing.</p><p>Note that I&rsquo;m specifically talking here about standard options that are <em>also</em> exposed via a long name. For those options that enable GNU-specific behavior, such as <code>ls --color</code>, you can feel free to use the long name: the functionality doesn&rsquo;t exist elsewhere so you can&rsquo;t write the call in a portable way anyway. And, in fact, I&rsquo;d suggest to use the long names in these cases because it&rsquo;s more obvious, to the reader, that a GNU extension was explicitly used.</p><h1 id=bashisms>Bashisms</h1><p>I was originally going to title this post &ldquo;Useless use of Bash&rdquo; but, in compiling content for the post, I found myself with more details than I expected to cover GNU as a whole.</p><p>Bash is now the de-facto shell interpreter on Unix platforms&mdash;which is fine because it&rsquo;s a nice, user-friendly interactive shell. That said, Bash isn&rsquo;t available everywhere by default: the BSDs don&rsquo;t provide it out of the box; <a href=/2019/11/macos-bash-baggage.html>macOS is moving away due to licensing reasons</a>; and <a href=https://lwn.net/Articles/343924/>Debian moved to dash for performance and standards conformance reasons</a>. In other words: <code>/bin/sh</code> may not be Bash in mainstream platforms, and writing scripts that start with <code>#! /bin/sh</code> and that use Bash-specific features is bound to be problematic.</p><p>Unfortunately, Bash is so widespread that its gratuitous incompatibilities with the standards mean that a lot of shell scripts that could/should be portable are not. If you choose to make use of Bash&rsquo;s advanced features, such as arrays and hashmaps, then you should mark your scripts as Bash-dependent by writing <code>#! /bin/bash</code> on top of them. But if you do not truly intend for your scripts to be Bash-specific, it&rsquo;s best to avoid the little incompatibilities&mdash;also referred to as <a href=https://mywiki.wooledge.org/Bashism>Bashisms</a>.</p><p>And by the way, if you truly want to write complex shell scripts&mldr; review these <a href=http://www.etalabs.net/sh_tricks.html>sh tricks</a> beforehand for some extra horrors. Maybe you&rsquo;ll reconsider your choices.</p><h2 id=the--operator>The == operator</h2><p>The <code>test</code> command, also known as <code>[</code> (yes, <a href=/2020/03/test-bracket.html>really</a>), uses the <code>=</code> operator for equality comparisons such as in <code>[ a = b ]</code>. The GNU version of this command <em>also</em> accepts <code>==</code> for equality comparisons. This is an unnecessary extension that has caused countless portability problems, especially in <code>configure</code> scripts, and that has no reason for existence. Given how trivial it is to avoid this problem, just refrain from using <code>==</code> in calls to <code>[</code>.</p><p>Note that, while I&rsquo;m filing this item under the Bash section, this issue applies to both the <code>test</code> builtin in Bash and the <code>test</code> command supplied by GNU Coreutils. Both include the same extension.</p><h2 id=the--and--extension>The [[ and ]] extension</h2><p>The <code>test</code> and <code>[</code> commands have numerous limitations in how they handle arguments. Bash provides its own alternative, spelled out as <code>[[</code>, that is guaranteed to be in-process and that offers many goodies such as the ability to use <code>&lt;</code> and <code>></code> for comparisons.</p><p>This (being guaranteed to be built-in) is good in some cases, but using <code>[[</code> is overkill in many others. For example: if you write <code>[[ a == b ]]</code> or <code>[[ 3 &lt; 4 ]]</code>, you are making your script unnecessarily unportable; you could have equally written <code>[ a = b ]</code> and <code>[ 3 -lt 4 ]</code> to obtain the same results while being portable.</p><p>That said, if you <em>do</em> have reasons to rely on <code>[[</code> and <code>]]</code> in your script at any point, I&rsquo;d encourage you to be consistent throughout the code and use that syntax alone.</p><h2 id=the-function-keyword>The function keyword</h2><p>Bash lets you define functions using two different syntaxes: <code>myfunc() { ... }</code> and <code>function myfunc() { ... }</code>. These two do the same, but the <code>function</code> keyword is not standard. As a result, simply introducing it in your scripts makes them Bash-specific for no good reason. Avoid using the keyword altogether.</p><h2 id=set--o-pipefail>set -o pipefail</h2><p>The shell&rsquo;s <a href=/2018/03/shell-readability-strict-mode.html>&ldquo;strict mode&rdquo;</a> is typically defined as <code>set -euo pipefail</code> and allows us to write more reliable shell scripts. Unfortunately, of those three options in the call, <code>-o pipefail</code> is not standard.</p><p>There is no good replacement for this option in the standard. Most scripts don&rsquo;t need it anyway and only specify it because they cargo-culted the &ldquo;strict mode&rdquo; definition. But there are a few cases where scripts do rely on the behavior of <code>-o pipefail</code> for proper operation.</p><h2 id=echo--e>echo -e</h2><p>The <code>echo</code> command (which is also both a built-in Bash command and a standalone tool supplied by GNU Coreutils) accepts the <code>-e</code> argument to enable the interpretation of escape sequences. This lets you do things like <code>echo -e 'foo\n\nbar'</code>. However, and as you may expect, this flag is not standard.</p><p><code>echo</code> is ill-defined and dangerous, so instead of fighting it and trying to make it do the right thing across systems, consider using <code>printf</code> instead (yes, it is a command-line utility too!). <code>printf 'foo\n\nbar\n'</code> would do the same as above, portably and correctly.</p><h1 id=find-without-a-directory>find without a directory</h1><p>The <code>find</code> command requires one or more directories to be specified before any filters, but the GNU version assumes the current directory if none are given. This means that a command like <code>find -name '*.txt'</code> works on GNU but fails on other systems. It&rsquo;s trivial to fix such an invocation and make it portable by writing <code>find . -name '*.txt'</code>, so just get in the habit of adding that missing dot!</p><h1 id=awk-gensub>awk gensub()</h1><p><code>awk</code> contains various functions to perform string replacements. If you <a href=https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html>look at the GNU variant</a> of this tool, you will find three: <code>sub</code>, <code>gsub</code>, and <code>gensub</code>. Of these, <code>gensub</code> is the most powerful and, as you can imagine if you have made it this far, it is also the non-standard one.</p><p>Given that <code>gensub</code> does provide additional features of <code>sub</code> and <code>gsub</code>, there is no trivial replacement for it. However, if your code does <em>not require</em> the extra features offered by <code>gensub</code>, calling <code>gensub</code> would be a useless use of GNU.</p><h1 id=make-shell--expansion>make $(shell &mldr;) expansion</h1><p><code>make</code> is also a common source of compatibility problems. Relying on GNU Make is a fine thing to do given that the minimum common denominator for <code>Makefile</code>s is extremely limited feature-wise, but if your needs are very simple, there is something to watch out for from a compatibility perspective.</p><p>In GNU Make, you can use <code>$(shell ...)</code> (where <code>...</code> is an arbitrary shell command) to execute an external command and incorporate its output into the script. This command is processed directly by GNU Make, which allows manipulating its output from within Make (e.g. in conditionals).</p><p>However, using this syntax in contexts <em>where only the shell cares about the expanded value</em> is unnecessary. Say you have the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-make data-lang=make><span class=line><span class=cl><span class=nv>LDFLAGS</span> <span class=o>=</span> -O2 <span class=k>$(</span>shell pkg-config --libs zlib<span class=k>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>foo</span><span class=o>:</span> <span class=n>foo</span>.<span class=n>c</span>
</span></span><span class=line><span class=cl>        cc <span class=k>$(</span>LDFLAGS<span class=k>)</span> -o foo foo.c
</span></span></code></pre></div><p>Note how the expansion of the <code>pkg-config</code> tool is only needed to invoke an external command: <code>make</code> itself doesn&rsquo;t care about what that execution expands to. As a result, we can rewrite the above like this, delaying <code>pkg-config</code>&rsquo;s execution until the shell runs, and thus avoid a useless use of GNU:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-make data-lang=make><span class=line><span class=cl><span class=nv>LDFLAGS</span> <span class=o>=</span> -O2 <span class=nv>$$</span><span class=o>(</span>pkg-config --libs zlib<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>foo</span><span class=o>:</span> <span class=n>foo</span>.<span class=n>c</span>
</span></span><span class=line><span class=cl>        cc <span class=k>$(</span>LDFLAGS<span class=k>)</span> -o foo foo.c
</span></span></code></pre></div><hr><p>And that&rsquo;s about it for now. I&rsquo;m sure I missed other obvious incompatibilities that could be documented here. If you have any in mind, please let me know and I&rsquo;ll extend the post so that future readers have more information.</p><p>Until then&mldr; continue writing code, but be aware that if you are working from a Linux system (which, by the way, includes WSL), the GNU userland will easily lock you in whenever you least expect it!</p><p>Thanks go to <a href=https://twitter.com/wezm>Wesley Moore</a>, <a href=https://twitter.com/perrymetzger>Perry E. Metzger</a> and <a href=https://twitter.com/thorpej>Jason Thorpe</a> for reviewing a draft of this post and providing improvements.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.gnu.org/gnu/why-gnu-linux.html>Some people insist</a> that Linux distributions be called GNU/Linux, not just Linux. The reason is that, strictly speaking, Linux is <em>just</em> a kernel and, when you are using a Linux system, you are primarily interacting with the GNU userland. While I sympathize with that idea, I&rsquo;m not the one to adopt the GNU/Linux name, in part because most Linux distributions today ship with software developed by many more vendors than just GNU. In this post, however, I use the GNU/Linux term because saying Linux alone would be <em>unfair</em> to Linux.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>If the <a href=https://en.wikipedia.org/wiki/Embrace,_extend,_and_extinguish>Embrace, Extend, and Extinguish</a> catch phrase comes to mind&mldr; well&mldr; it seems fitting.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article></div></div><div class="container post-links"><div class=row><div class="col mr-auto text-left"><span><a href=https://jmmv.dev/2021/08/using-all-memory-as-a-cache.html>&#171; Previous</a></span></div><div class="col text-center"><span><a href=/archive.html>All posts</a></span></div><div class="col ml-auto text-right"><span><a href=https://jmmv.dev/2021/11/endbasic-0.8.html>Next &#187;</a></span></div></div></div><div class="container post-votes"><div class=row><div class="col-lg-4 my-2"><div class=row><div class=col><a onclick=voteThumbsUp() class="btn btn-block btn-outline-success" id=thumbs-up-btn>üëç
(<span id=thumbs-up-count>0</span>)</a></div><div class=col><a onclick=voteThumbsDown() class="btn btn-block btn-outline-danger" id=thumbs-down-btn>üëé
(<span id=thumbs-down-count>0</span>)</a></div></div></div><div class="col-lg-8 my-2 d-none d-sm-block"><div class=row><div class="col-md-4 text-center"><a href="https://www.reddit.com/submit?title=Useless+use+of+GNU&amp;url=https%3A%2F%2Fjmmv.dev%2F2021%2F08%2Fuseless-use-of-gnu.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/reddit.png alt=Reddit width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://news.ycombinator.com/submitlink?t=Useless+use+of+GNU&amp;u=https%3A%2F%2Fjmmv.dev%2F2021%2F08%2Fuseless-use-of-gnu.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/ycombinator.png alt="Hacker News" width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://twitter.com/intent/tweet?status=Useless+use+of+GNU+%E2%80%94+https%3A%2F%2Fjmmv.dev%2F2021%2F08%2Fuseless-use-of-gnu.html+%E2%80%94+cc+%40jmmv" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/Twitter_Social_Icon_Circle_Color.png alt=Twitter width=24 height=24></a></div></div></div></div><div class="row my-4" id=postCommentRow><div class=col><div class=media><img class=mr-3 src=/octicons/pencil.svg width=32px height=32px><div class="media-body container"><form method=post id=newPost><div class=row><div class="col my-1"><textarea class=form-control rows=1 id=postCommentContent onclick=showPostComment() placeholder="Leave a comment"></textarea></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentAuthor>Your name (optional):</label>
<input type=text class=form-control id=postCommentAuthor></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentEmail>Your email (optional):</label>
<input type=text class=form-control type=email id=postCommentEmail>
<small class="form-text text-muted">Invisible to all readers; if provided, you will receive notifications when replied to (not implemented yet)</small></div></div><div class=row id=postCommentError style=display:none><div class="col mt-1 alert-danger"><p></p></div></div><div class="row newPostControls" style=display:none><button class="col-md-3 my-1 btn btn-primary" type=submit id=submitCommentButton>Post</button>
<small class="col-md-9 my-1 text-muted">Comments are subject to moderation. This feature is experimental and is powered by <a href=/software/endtracker.html>EndTRACKER</a>. If you experience any issues, please <a href=/about.html#contact>contact me off-band</a>.</small></div></form></div></div></div></div><script>function hidePostComment(){var t,e=document.getElementById("postCommentContent");e.rows=1,e.value="",t=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(t,function(e){e.style.display="none"})}function showPostComment(){var e,t=document.getElementById("postCommentContent");t.rows=5,e=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(e,function(e){e.style.display=""})}const form=document.querySelector("#newPost");form.onsubmit=function(e){e.preventDefault();let t=document.getElementById("postCommentAuthor").value,n=document.getElementById("postCommentEmail").value,s=document.getElementById("postCommentContent").value;postComment(t,n,s,hidePostComment)}</script></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon">
</a><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter">
</a><a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.jmmv.dev/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2026
Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.0de73782e9e0fbcb4184fb5793949b3b0d0ada16455df89320415b4dcc052f88.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src=https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi8yMDIxLzA4L3VzZWxlc3MtdXNlLW9mLWdudS5odG1s/stamp.gif style=display:none></noscript></body></html>