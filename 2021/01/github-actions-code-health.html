<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Enforcing code health via GitHub Actions - Julio Merino (jmmv.dev)</title><meta property="og:title" content="Enforcing code health via GitHub Actions - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Enforcing code health via GitHub Actions - Julio Merino (jmmv.dev)"><meta name=description content="It is no secret that, in software development, the edit+build+test cycle must be as short as possible. The delay between saving a file and seeing the results has to be minimal and in the order of a few seconds, or else developers lose focus and productivity suffers.
It&amp;rsquo;s equally important to ensure that the code is held to certain quality standards. Compiler warnings, for example, are part of any compilation and catch a set of common problems."><meta property="og:description" content="It is no secret that, in software development, the edit+build+test cycle must be as short as possible. The delay between saving a file and seeing the results has to be minimal and in the order of a few seconds, or else developers lose focus and productivity suffers.
It&amp;rsquo;s equally important to ensure that the code is held to certain quality standards. Compiler warnings, for example, are part of any compilation and catch a set of common problems."><meta property="twitter:description" content="It is no secret that, in software development, the edit+build+test cycle must be as short as possible. The delay between saving a file and seeing the results has to be minimal and in the order of a …"><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.111.3"><meta property="og:url" content="https://jmmv.dev/2021/01/github-actions-code-health.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/2021/01/github-actions-code-health.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.161663676cac4bf21abc8967ec3267c26026aa58e9f392c5f3427e0ef089fe6b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;Julio Merino</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/essays.html>Essays</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Enforcing code health via GitHub Actions</h1><p>January 8, 2021 &#183;
About 9 minutes
&#183;
Tags:
<a href=/tags/automation>automation</a>, <a href=/tags/ci>ci</a>, <a href=/tags/rust>rust</a></p></div></div><div class="container post-body"><div class=row><div class=col-md-9><div class=row><div class=col><article><p>It is no secret that, in software development, the edit+build+test cycle must be as short as possible. The delay between saving a file and seeing the results has to be minimal and in the order of a few seconds, or else developers lose focus and productivity suffers.</p><p>It&rsquo;s equally important to ensure that the code is held to certain quality standards. Compiler warnings, for example, are part of any compilation and catch a set of common problems. But there are a lot more health checks that can be performed, such as ensuring that the code matches predefined coding guidelines, running a more aggressive linter to catch bugs that compiler warnings don&rsquo;t notice, or even using ASAN or TSAN to validate the code&rsquo;s memory and thread safety.</p><p>The problem is: while compiler warnings come for free as part of the edit+build+test cycle, all of these other checks are expensive&mdash;and sometimes <em>very</em> expensive. To make matters worse, running these extra checks might require installing heavyweight tools that are not desirable on every developer&rsquo;s machine.</p><p>So when do we run these extra checks? Ideally we would run them as part of every build because, if we get to the test stage with code that is not up to our standards, we may be wasting time validating &ldquo;unclean&rdquo; code. Unfortunately, if we make these checks part of the build itself, just like compiler warnings are, we lengthen the build times and slow the development cycle. Bad idea.</p><p>We can loosen our strictness and say that the code must only pass health checks at commit time, not at build time. Which is actually a good idea: even though health checks that catch runtime bugs may be very useful at every build, others, such as those that validate the coding style, are a distraction when trying to quickly iterate on a change.</p><p>Postponing the health checks from build time to commit time is thus a big improvement. And if we are talking about a centralized version control system, we&rsquo;d be done because these checks would run on the server before accepting a commit. But that&rsquo;s not how the world operates today: distributed version control systems like Git are the norm, and in these, commits happen locally. In fact, these systems encourage frequent, small commits. Sometimes they even replay commits en masse in an automated manner (<code>git rebase</code>). Thus if we add our health checks to a commit-time hook (<code>pre-commit</code> in Git parlance), we are almost back to square one: some routine operations become slow and we still need costly tools on every developer&rsquo;s machine.</p><p>If we are left without the options of running these health checks at build time <em>and</em> at commit time, what then? We can offload these checks to a different machine and we can require these to run only at branch merge time. In popular terms: run the health checks when a Pull Request (PR) is created on GitHub and require that they pass before the PR can be merged. The unfortunate tradeoff here is that it might take a long while for a developer to go from local branch to PR creation, and thus it might take a long while for them to discover lingering problems in their code. This is an issue that can be solved with training though: get those developers to push their changes to a remote branch at regular intervals so that these checks run periodically. Or, really: make them work on smaller PRs.</p><p>In this post, I will outline how to leverage the &ldquo;new&rdquo; cool hotness, GitHub Actions, to run code health checks whenever someone creates a PR. To make the case study specific, I&rsquo;ll talk about running Rust sanity checks via <code>cargo clippy</code> and <code>cargo publish --dry-run</code>, both of which are very expensive operations, and I will refer to EndBASIC&rsquo;s configuration for real-world examples.</p><p>In a sense, this is the second edition of my <a href=/2015/05/offloading-maintenance-tasks-to-travis.html>&ldquo;Offloading maintenance tasks to Travis CI&rdquo; post from 2015</a> updated to the modern times. And I&rsquo;m posting this now in preparation for another article that will build on this one&mdash;so make sure to come back in a few days 😉</p><h1 id=goal>Goal</h1><p>Our goal is to:</p><ol><li>Create a GitHub Actions workflow that runs costly code validation operations.</li><li>Require this workflow to pass for all incoming changes to the <code>main</code> branch of our Git repository.</li><li>Prevent the <code>main</code> branch from being tampered with via commits that didn&rsquo;t go through these checks.</li></ol><p>Let&rsquo;s look at the steps involved in reaching these goals.</p><h1 id=first-create-health-validation-scripts>First: create health validation scripts</h1><p>The first step in creating the GitHub Actions workflow is to write one or more scripts to execute the checks we want to run. For our example, we will create two separate scripts: one to validate the code style, and another to validate the code release readiness. We will use two separate scripts because these two steps require disjoint builds (debug vs. release), which means that we can and should run them in parallel via different remote jobs.</p><p>Let&rsquo;s create the script to validate the code style and save it as <code>.github/workflows/lint.sh</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#! /bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>set</span> -eux
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>rustup component add clippy
</span></span><span class=line><span class=cl>rustup component add rustfmt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Run all of our project through the Clippy linter.</span>
</span></span><span class=line><span class=cl>cargo clippy --all-features --all-targets -- -D
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ensure all of our project&#39;s formatting maches our rustfmt configuration.</span>
</span></span><span class=line><span class=cl>cargo fmt -- --check
</span></span></code></pre></div><p>And then let&rsquo;s create the script to validate the code release readiness and save it as <code>.github/workflows/package.sh</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#! /bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>set</span> -eux
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Validate that our code is always in a publishable state.</span>
</span></span><span class=line><span class=cl>cargo publish --dry-run
</span></span></code></pre></div><p>Don&rsquo;t forget to make these two scripts executable!</p><p>At this point, you should be able to manually run these scripts on your machine from the top-level directory of your project and get them to succeed. This won&rsquo;t prove that they&rsquo;ll work fine on the environments used by GitHub Actions, but it&rsquo;ll get you closer to that goal.</p><h1 id=second-create-the-github-actions-workflow>Second: Create the GitHub Actions workflow</h1><p>With our health validation scripts in place, we can proceed to define the GitHub Actions workflow. This workflow will contain two separate jobs, one for each of the scripts we defined, so that they can run in parallel.</p><p>Our configuration, which you can store as <code>.github/workflows/health.yml</code> (and which <a href=https://github.com/endbasic/endbasic/blob/038d8d773fc0e992d484e85a32e2cd5c379a62a8/.github/workflows/health.yml>I took straight from EndBASIC</a>), might look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Health checks</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>push, pull_request]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>lint</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions-rs/toolchain@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>profile</span><span class=p>:</span><span class=w> </span><span class=l>minimal</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>toolchain</span><span class=p>:</span><span class=w> </span><span class=l>stable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>components</span><span class=p>:</span><span class=w> </span><span class=l>clippy, rustfmt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>./.github/workflows/lint.sh</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>package</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>./.github/workflows/package.sh</span><span class=w>
</span></span></span></code></pre></div><p>There are two key details to note from this code snippet:</p><ul><li><p>The first is that, while your project might support more than just Linux, you most likely don&rsquo;t need to run the health checks on every platform you support. The outcome of validating the coding style, for example, is going to be the same no matter whether you run the test on Linux or on Windows. Therefore, pick the platform with the fastest runtime and restrict your health check jobs to run on it.</p></li><li><p>The second is that you want to run the Rust code validation checks using the latest available build. You can see that I overrode the preinstalled Rust toolchain in the GitHub Actions executors with the latest stable build by using the <code>actions-rs/toolchain@v1</code> action. This is because Clippy in particular keeps gaining new checks, and if you don&rsquo;t keep up to date with them, your interactive builds might fail later on while the CI ones will not. (Whether keeping up with Clippy is a good idea or not is up for debate, but I&rsquo;m doing that in my project so this is a good compromise.)</p></li></ul><h1 id=third-test-and-submit-your-changes>Third: Test and submit your changes</h1><p>Getting scripts to successfully run on remote machines, whose environments don&rsquo;t necessarily match your local machine, can be exasperating. It&rsquo;s common to push a commit with your shiny new configuration and then see the workflow immediately fail remotely. And thus it&rsquo;s common to end up with a chain of commits with messages like &ldquo;One more try&rdquo; and &ldquo;Oh FFS, one more!&rdquo; to see if the workflow will run.</p><p>This is normal. But you don&rsquo;t want these intermediate commits to end up in the project&rsquo;s history.</p><p>To prevent that from happening, and to avoid embarrassment, do all of this preparatory work in a separate branch, say <code>health</code>, and push that branch to the project&rsquo;s repository in whichever nasty state you need. Do as many intermediate commits as necessary to make things work. When the GitHub Actions workflow finally passes, run a <code>git rebase -i main</code> to squash all commits into just one and fix the commit message. Only at that point merge the <code>health</code> branch into <code>main</code>.</p><h1 id=fourth-keep-the-main-branch-clean>Fourth: Keep the main branch clean</h1><p>At this point, our GitHub Actions code health workflow is up and running. But if we aren&rsquo;t careful, it is still easy to push changes to the <code>main</code> branch that haven&rsquo;t gone through validation. If we do that, either intentionally or by mistake, the next person that submits a PR will encounter failures that are not due to their changes and be very frustrated. Which is a very bad situation to be in: you truly need <code>HEAD</code> to be green at all times.</p><p>Thus the last step in our ordeal is to protect the <code>main</code> branch (and any other authoritative branches that we maintain) so that they cannot be tampered with. And the reason we have to do this last is because we need the workflow to be in place.</p><p>For this step:</p><ol><li>Go to the repository&rsquo;s settings on GitHub.</li><li>Click on <strong>Branches</strong>.</li><li>Click on <strong>Add rule</strong> under <strong>Branch protection rules</strong>.</li><li>Enter the name of your <code>main</code> branch.</li><li>Select the <strong>Require status checks to pass before merging</strong> and then tick the workflow jobs we created.</li><li>(Optional but recommended:) Tick <strong>Include administrators</strong> so that nobody can make mistakes and tick <strong>Require branches to be up to date before merging</strong> to ensure the tests are fresh.</li></ol><p>With that, you should be up and running.</p><p>You can see a <a href=https://github.com/endbasic/endbasic/runs/1636894726>sample failure</a> to get a sense of the kinds of things this new workflow would catch and how things would look like.</p><hr><p>And that&rsquo;s all folks. In the next post, I&rsquo;ll cover a teeny tiny trick that the Google stack supports to prevent premature PR merges and how we can replicate it under a scenario like this. See you soon. And happy 2021!</p></article></div></div><div class="container post-links"><div class=row><div class="col mr-auto text-left"><span><a href=https://jmmv.dev/2020/12/google-no-clean-builds.html>&#171; Previous</a></span></div><div class="col text-center"><span><a href=/archive.html>All posts</a></span></div><div class="col ml-auto text-right"><span><a href=https://jmmv.dev/2021/01/do-not-submit.html>Next &#187;</a></span></div></div></div><div class="container post-votes"><div class=row><div class="col-lg-4 my-2"><div class=row><div class=col><a onclick=voteThumbsUp() class="btn btn-block btn-outline-success" id=thumbs-up-btn>👍
(<span id=thumbs-up-count>0</span>)</a></div><div class=col><a onclick=voteThumbsDown() class="btn btn-block btn-outline-danger" id=thumbs-down-btn>👎
(<span id=thumbs-down-count>0</span>)</a></div></div></div><div class="col-lg-8 my-2 d-none d-sm-block"><div class=row><div class="col-md-4 text-center"><a href="https://www.reddit.com/submit?title=Enforcing+code+health+via+GitHub+Actions&amp;url=https%3A%2F%2Fjmmv.dev%2F2021%2F01%2Fgithub-actions-code-health.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/reddit.png alt=Reddit width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://news.ycombinator.com/submitlink?t=Enforcing+code+health+via+GitHub+Actions&amp;u=https%3A%2F%2Fjmmv.dev%2F2021%2F01%2Fgithub-actions-code-health.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/ycombinator.png alt="Hacker News" width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://twitter.com/intent/tweet?status=Enforcing+code+health+via+GitHub+Actions+%E2%80%94+https%3A%2F%2Fjmmv.dev%2F2021%2F01%2Fgithub-actions-code-health.html+%E2%80%94+cc+%40jmmv" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/Twitter_Social_Icon_Circle_Color.png alt=Twitter width=24 height=24></a></div></div></div></div><div class="row my-4" id=postCommentRow><div class=col><div class=media><img class=mr-3 src=/octicons/pencil.svg width=32px height=32px><div class="media-body container"><form method=post id=newPost><div class=row><div class="col my-1"><textarea class=form-control rows=1 id=postCommentContent onclick=showPostComment() placeholder="Leave a comment"></textarea></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentAuthor>Your name (optional):</label>
<input type=text class=form-control id=postCommentAuthor></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentEmail>Your email (optional):</label>
<input type=text class=form-control type=email id=postCommentEmail>
<small class="form-text text-muted">Invisible to all readers; if provided, you will receive notifications when replied to (not implemented yet)</small></div></div><div class=row id=postCommentError style=display:none><div class="col mt-1 alert-danger"><p></p></div></div><div class="row newPostControls" style=display:none><button class="col-md-3 my-1 btn btn-primary" type=submit id=submitCommentButton>Post</button>
<small class="col-md-9 my-1 text-muted">Comments are subject to moderation. This feature is experimental and is powered by <a href=/software/endtracker.html>EndTRACKER</a>. If you experience any issues, please <a href=/about.html#contact>contact me off-band</a>.</small></div></form></div></div></div></div><script>function hidePostComment(){var t,e=document.getElementById("postCommentContent");e.rows=1,e.value="",t=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(t,function(e){e.style.display="none"})}function showPostComment(){var e,t=document.getElementById("postCommentContent");t.rows=5,e=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(e,function(e){e.style.display=""})}const form=document.querySelector("#newPost");form.onsubmit=function(e){e.preventDefault();let t=document.getElementById("postCommentAuthor").value,n=document.getElementById("postCommentEmail").value,s=document.getElementById("postCommentContent").value;postComment(t,n,s,hidePostComment)}</script></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon"></a>
<a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter"></a>
<a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container><div class=row><div class="col-4 order-2 texr-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2023 Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.d30f168b11d80082408f4a983af9a626c6e57d58f7846b2174bac40d43be33e3.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src="https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi8yMDIxLzAxL2dpdGh1Yi1hY3Rpb25zLWNvZGUtaGVhbHRoLmh0bWw=/stamp.gif" style=display:none></noscript></body></html>