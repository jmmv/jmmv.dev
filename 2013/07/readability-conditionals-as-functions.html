<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  

  <title>Readability: Conditionals as functions - Julio Merino</title>
  <meta content="Readability: Conditionals as functions - Julio Merino" property="og:title">

  
  <meta name="description" content="Conceptually, there are two kinds of conditional statements: ones that compute —or affect the computation of— a value and others that guard the execution of optional code (e.g. functionality enabled by a command-line flag). In this article we will focus on the former kind.
One way to think of those conditionals is as if they were to represent functions, just written inline. In other words: while it should be possible to move the conditional statement to a separate function, it has not been done because the algorithm is simple enough to not warrant it.">
  <meta name="author" content="Julio Merino">
  <meta name="generator" content="Hugo 0.36.1" />

  <meta content="http://julio.meroh.net/2013/07/readability-conditionals-as-functions.html" property="og:url">

  <link rel="canonical" href="http://julio.meroh.net/2013/07/readability-conditionals-as-functions.html">
  <link rel="alternate" type="application/rss+xml"
        title="Julio Merino" href="/feed.xml" />

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/chroma.css">

  
  <!--[if lt IE 9]>
    <script src="/js/html5shiv-3.7.2.min.js"></script>
    <script src="/js/respond-1.4.2.min.js"></script>
  <![endif]-->
</head>


  <body>
    <header class="site-header">

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed"
              data-toggle="collapse" data-target="#navbar"
              aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Julio Merino</a>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
          
            <li><a class="page-link" href="/about.html" >About</a></li>
          
        
          
            <li><a class="page-link" href="/essays.html" >Essays</a></li>
          
        
          
            <li><a class="page-link" href="/software.html" >Software</a></li>
          
        
          
            <li><a class="page-link" href="/work.html" >Work</a></li>
          
        
      </ul>

      <form class="navbar-form navbar-right" method="get" role="search"
            action="http://www.google.com/search">
          <div class="form-group">
            <input type="text" name="query" class="form-control"
                   placeholder="Search">
            <input type="hidden" name="sitesearch" value="http://julio.meroh.net/">
          </div>
          <button type="submit" value="Search" class="btn btn-default">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </button>
      </form>
    </div>
  </div>
</nav>

</header>


    <div class="page-header">
      <div class="container">
        <h1>Readability: Conditionals as functions</h1>

        <p>July 22, 2013</p>

        
      </div>
    </div>

    <div class="container">
      <article>
        <p>Conceptually, there are two kinds of conditional statements: ones that compute —or affect the computation of— a value and others that guard the execution of optional code (e.g. functionality enabled by a command-line flag).  In this article we will focus on the former kind.</p> <p>One way to think of those conditionals is as if they were to represent functions, just written inline.  In other words: while it should be possible to move the conditional statement to a separate function, it has not been done because the algorithm is simple enough to not warrant it.</p> <p>How can you translate this mentality into code?</p> <p>The first guideline is to <em>make every code path deal with the same input state</em>. This sounds obvious because, upon entry to any branch, the program state is the same.  However, the program state is a really broad concept, and therefore the data the conditional branches reference should be clearly delimited and well-defined.</p> <p>The second guideline is to <em>make every code path have similar "effects" on some particular output state</em>.  This can be setting a particular variable to a value, modifying a specific vector in different ways, etc.</p> <p>In more practical terms, such a conditional inspects a set of input variables and uses them to compute an output value and/or to perform an action.  This small set of input variables should be restricted and well-defined, and ideally consulted in a similar manner by all branches.</p> <p>Let's dive into an example:</p> <pre>color = BLUE<br />if item.color is not None:<br />    color = item.color</pre> <p>This little example violates the functional programming guideline of only assigning a value to a variable once.  Leaving that aside, the point I want to make in this article is the following: if you were to move this to an auxiliary function so that the code looked like this:</p> <pre>color = get_color_with_default(item, BLUE)</pre> <p>Then, your function &mdash;especially if thought of in mathematical terms&mdash; would be something along these lines:</p> <pre>def get_color_with_default(item, default_color):<br />    if item.color is not None:<br />        return item.color<br />    else:<br />        return default_color</pre> <p>This implementation is clear: there are two code paths, the only state accessible are the two input parameters and the only thing this does is return a value.  Therefore, we could rewrite our original code as:</p> <pre>color = None<br />if item.color is not None:<br />    color = item.color<br />else:<br />    color = BLUE<br />assert color is not None</pre> <p>You will notice that this code has the exact same structure as the auxiliary function we defined, but the code is all placed inline.</p> <p>In the general case, think about it this way: whenever you are writing a conditional statement, what would happen if you were to move the code into a separate function?  <i>What would be the inputs and the outputs of such function?</i>  If you have trouble defining these in a concise and generic manner, your conditional statement is not cohesive and is potentially hard to understand.  Reorganize your code.</p>

      </article>

      <div class="post-links">
        <p>
          

          

          <a href="/feed.xml">Subscribe via RSS</a>
          &middot;
          <a href="/blog">Go to posts index</a>
        </p>

        <form class="form-inline"
            action="https://feedburner.google.com/fb/a/mailverify"
            method="post"
            target="popupwindow"
            onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=jmmv', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
          <div class="form-group form-group-sm">
            <input type="text" style="width: 400px" name="email"
                    placeholder="Enter your email to subscribe to new posts"
                    class="form-control input-sm"/>
          </div>
          <button type="submit" value="Subscribe"
                  class="btn btn-default btn-sm">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </button>
          &nbsp;&nbsp;&nbsp;Delivered by
          <input type="hidden" value="jmmv" name="uri"/>
          <input type="hidden" name="loc" value="en_US"/>
          <a href="https://feedburner.google.com" target="_blank">FeedBurner</a>
        </form>
      </div>

      <div id="disqus_thread">
        <script>
          var disqus_config = function () {
            this.page.url = "http:\/\/julio.meroh.net\/2013\/07\/readability-conditionals-as-functions.html";
            this.page.identifier = "2013-07-22-readability-conditionals-as-functions";
          };
          (function() { 
            var d = document, s = d.createElement('script');

            s.src = '//jmmv.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
          powered by Disqus.</a>
        </noscript>
      </div>
      
      <p>Comments from the original Blogger-hosted post:</p>
      <script src="https://apis.google.com/js/plusone.js"></script>
      <div class="g-comments"
           data-href="http://julipedia.meroh.net/2013/07/readability-conditionals-as-functions.html"
           data-first_party_property="BLOGGER"
           data-view_type="FILTERED_POSTMOD">
      </div>
      
    </div>

    <div class="container">
  <footer>
    <p class="pull-right"><a href="#">Back to top</a></p>
    <p>Copyright 2018 Julio Merino</p>
  </footer>
</div>

<script src="/js/jquery-1.11.2.min.js"></script>
<script src="/css/bootstrap.min.js"></script>

<script>
$("p:contains('NOTE: ')").addClass("callout callout-info");
$("p:contains('IMPORTANT: ')").addClass("callout callout-info");
$("p:contains('WARNING: ')").addClass("callout callout-warning");
$("p:contains('DANGER: ')").addClass("callout callout-danger");
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
  m.parentNode.insertBefore(a,m)})(window,document,'script',
  '//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63557333-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
