<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Cli-Design - Julio Merino (jmmv.dev)</title>
<meta property="og:title" content="Cli-Design - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Cli-Design - Julio Merino (jmmv.dev)"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.145.0"><meta property="og:url" content="https://jmmv.dev/tags/cli-design/index.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/tags/cli-design/index.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Posts: Cli-Design</h1><p>Showing 12 posts</p></div></div><div class=container><div class=row><div class=col-md-9><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/09/cli-design-series-wrap-up.html>CLI design: Series wrap-up</a></h2><p><p>The time to conclude the CLI design series has come. I hope you have enjoyed the topic and that got some useful tips and tricks for your future developments!</p><p>Here is the summary of all the topics that were covered:</p><ul><li><a href=/2013/08/cli-design-series-introduction.html>Series introduction</a></li><li><a href=/2013/08/cli-design-cli-is-presentation-layer.html>The CLI is the presentation layer</a></li><li><a href=/2013/08/cli-design-error-reporting.html>Error reporting</a></li><li><a href=/2013/08/cli-design-requesting-and-offering-help.html>Requesting and offering help</a></li><li><a href=/2013/08/cli-design-putting-flags-to-good-use.html>Putting flags to good use</a></li><li><a href=/2013/08/cli-design-do-not-reinvent-option.html>Do not reinvent option parsing</a></li><li><a href=/2013/09/cli-design-subcommand-based-interfaces.html>Subcommand-based interfaces</a></li><li><a href=/2013/09/cli-design-single-command-interfaces.html>Single-command interfaces</a></li><li><a href=/2013/09/cli-design-handling-output-messages.html>Handling output messages</a></li><li><a href=/2013/09/cli-design-screen-wrapping.html>Screen wrapping</a></li><li><a href=/2013/09/cli-design-consider-interactive-prompts.html>Consider interactive prompts twice</a></li></ul><p>Stay tuned for the next series!</p></p><p class=text-muted>September 19, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/09/cli-design-series-wrap-up.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/09/cli-design-consider-interactive-prompts.html>CLI design: Consider interactive prompts twice</a></h2><p><p>While it is a rare thing to find, CLI-based applications can be interactive just like any other kind of application can. If you choose to interactively query the user for details in your program or script, you should be aware of the two scenarios that can result from this choice (which, interestingly, are <a href=/2013/09/cli-design-handling-output-messages.html>the same scenarios that we already saw regarding output verbosity</a>).</p><p>The first scenario is about &ldquo;fast&rdquo; applications: if the program is expected to complete in a short amount of time—where short is defined as an amount of time in which the user will not context-switch—it is alright to pop up interactive prompts at any point during the execution of the application. The user will be there watching the command prompt, and he will be ready to answer such questions. Nothing wrong here.</p></p><p class=text-muted>September 16, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/09/cli-design-consider-interactive-prompts.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/09/cli-design-screen-wrapping.html>CLI design: Screen wrapping</a></h2><p><p>In a world of terminal emulators within graphical environments, there is no longer a &ldquo;standard&rdquo; window size. 80x24 is still the default, sure, but it&rsquo;s trivial for users to resize the terminal. Why does this matter?</p><p>Consider the most obvious case: the help message of your program. It is incredibly common to see <a href="http://git.savannah.gnu.org/gitweb/?p=coreutils.git;a=blob;f=src/cp.c;h=e235b326d4d45b82aadaccef6a2f95da7137c1aa;hb=46f7e05291a22a1f15f839827ed257782138fae0#l149">carefully-formatted embedded strings into the program&rsquo;s code</a> designed to fit within a 80x24 window (which is especially true for the width of the text). Other than being a nightmare to maintain such a piece of code, what happens when the user resizes the terminal? If he increases the number of columns, the output of the application won&rsquo;t make use of such extra space and will continue to use the same number of lines — a situation that may be undesirable in a widescreen setting. If he decreases the number of columns, the output of the application will get wrapped at weird boundaries.</p></p><p class=text-muted>September 12, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/09/cli-design-screen-wrapping.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/09/cli-design-handling-output-messages.html>CLI design: Handling output messages</a></h2><p><p>Your CLI-based program has to communicate with the user. The most obvious case is to display error or warning messages, but in some cases it is also to report progress status. There are a few details to be considered in this area.</p><h1 id=quietness-vs-verbosity-by-default>Quietness vs. verbosity by default</h1><p>You&rsquo;ve probably heard the &ldquo;No news is good news&rdquo; principle. This is a major guideline behind the design of most standard Unix tools: when no problems arise, the tool just does what it was asked for and does not print anything on the screen. Only when something goes wrong an error or warning message is printed. Examples include <code>cp</code>, <code>mv</code>, <code>git add</code>, etc.</p></p><p class=text-muted>September 9, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/09/cli-design-handling-output-messages.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/09/cli-design-single-command-interfaces.html>CLI design: Single-command interfaces</a></h2><p><p>In the <a href=/2013/09/cli-design-subcommand-based-interfaces.html>previous post</a>, I provided common guidelines on how to implement a subcommand-based interface. It is now the time to look into the interface of those applications that implement a single command or function, which are actually quite abundant. Without going too far, you will encounter <code>cp</code>, <code>ls</code> and <code>sudo</code>, all of which are just a tiny sample of tools that fit this model.</p><h1 id=general-syntax>General syntax</h1><p>The general syntax of a single-command interface is simple:</p></p><p class=text-muted>September 5, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/09/cli-design-single-command-interfaces.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/09/cli-design-subcommand-based-interfaces.html>CLI design: Subcommand-based interfaces</a></h2><p><p>Subcommand-based interfaces are common: the majority of the CLI tools that provide more than one operation within them expose their features in this manner. Examples of such interfaces include <code>svn</code>, <code>git</code>, <code>ifconfig</code>, <code>yum</code>, <code>apt-get</code> and many, many more.</p><p>Designing the interface of these applications is quite straightforward once you have the concepts clear, but there are quite a few common pitfalls that you need to be aware of to prevent falling into them. In this post, I will guide you through what the general design of such interfaces is and I will cover a bunch of the common problems. Let&rsquo;s get started.</p></p><p class=text-muted>September 2, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/09/cli-design-subcommand-based-interfaces.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/08/cli-design-do-not-reinvent-option.html>CLI design: Do not reinvent option parsing</a></h2><p><p>In the <a href=/2013/08/cli-design-putting-flags-to-good-use.html>previous post</a>, we saw what good and bad use cases for flags in the interface of a command-line application are. We talked about the theory, so it is now the time to talk about the implementation details.</p><p>The point I want to make in this post is simple: <em>do <strong>not</strong> reinvent option parsing</em>. Use the libraries provided by the platform you are targeting to implement the interface of your application: even if there is some little detail of the library that you don&rsquo;t agree with, consistency with the platform is lightyears better than a custom implementation that fails to handle some corner cases and/or behaves in an unexpected manner.</p></p><p class=text-muted>August 29, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/08/cli-design-do-not-reinvent-option.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/08/cli-design-putting-flags-to-good-use.html>CLI design: Putting flags to good use</a></h2><p><p>As the Wikipedia puts it in its <a href=http://en.wikipedia.org/wiki/Command-line_interface>Command-line interface page</a>:</p><blockquote><p>A <strong>command-line option</strong> or simply <strong>option</strong> (also known as a <strong>flag</strong> or <strong>switch</strong>) modifies the operation of a command; the effect is determined by the command&rsquo;s program.</p></blockquote><p>Yet, many developers abuse flags to do many unrelated things and therefore end up providing a non-standard and confusing user interface. Let&rsquo;s take a look at some specific use cases, both bad and good.</p></p><p class=text-muted>August 26, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/08/cli-design-putting-flags-to-good-use.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/08/cli-design-requesting-and-offering-help.html>CLI design: Requesting and offering help</a></h2><p><p>Any CLI application must offer help to describe its command line syntax: the flags it supports, the subcommands it implements, the meaning of the positional arguments, etc. Failure to do results in an application that is completely unusable: unlike GUI applications, the interface of CLI tools is not discoverable without instructions.</p><p>It is, therefore, important to realize that help does not only exist to aid the user in recovering from errors. Help also exists to teach users how the application works, what the expectations are and, more importantly, to showcase the features of the program.</p></p><p class=text-muted>August 22, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/08/cli-design-requesting-and-offering-help.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/08/cli-design-error-reporting.html>CLI design: Error reporting</a></h2><p><p>Error reporting is a tricky business. Get it right and your users will be able to correct their actions quickly. Get it wrong and you will be the cause of your user&rsquo;s frustration — because, face it: A) users <em>will</em> make mistakes and B) your application will encounter erroneous conditions due to bugs or unpredicted scenarios.</p><h1 id=understand-usage-errors-and-application-errors>Understand usage errors and application errors</h1><p>From the programmer&rsquo;s point of view, there are many types of errors that an application can detect; but, from the point of view of the user, errors can be classified in two broad categories: usage errors and application errors. Let&rsquo;s take a look at what these are before diving into how to handle them.</p></p><p class=text-muted>August 19, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/08/cli-design-error-reporting.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/08/cli-design-cli-is-presentation-layer.html>CLI design: The CLI is the presentation layer</a></h2><p><p>Treat the code that implements a CLI utility to the highest standards.</p><p>Let&rsquo;s step back for a moment. In any graphical application, there always is a chunk of code to deal with the interface of the tool and there is another chunk of code to do the &ldquo;real work&rdquo; behind the interface, possibly split into multiple logical layers. This basic split of presentation vs. logic is essential for the maintainability of the code. <em>The same is equally true for CLI tools</em>: the code that interacts with the console <em>is</em> the presentation layer, and anything else is part of the backend.</p></p><p class=text-muted>August 15, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/08/cli-design-cli-is-presentation-layer.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2013/08/cli-design-series-introduction.html>CLI design: Series introduction</a></h2><p><p>Ready for a new series?</p><p>Having just gone over a bunch of items regarding <a href=/2013/08/readability-series-wrap-up.html>code readability</a>, it is time to shift gears and get into the topic of the design of Command Line Interfaces (or CLIs for short).</p><p>The main focus of this series will be to cover best practices involved in creating applications whose interface is command-line oriented. Among other things, I will detail how the CLI should accept optional and required arguments, how a tool should expose more than one action and how interactive help should be handled.</p></p><p class=text-muted>August 12, 2013
&#183;
Tags:
<a href=/tags/cli-design>cli-design</a><br><a class=text-reset href=/2013/08/cli-design-series-introduction.html>Continue reading (about
2 minutes)</a></p></div></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon">
</a><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter">
</a><a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2025
Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.0de73782e9e0fbcb4184fb5793949b3b0d0ada16455df89320415b4dcc052f88.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src="https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi90YWdzL2NsaS1kZXNpZ24vaW5kZXguaHRtbA==/stamp.gif" style=display:none></noscript></body></html>