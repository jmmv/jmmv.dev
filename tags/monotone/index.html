<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Monotone - Julio Merino (jmmv.dev)</title>
<meta property="og:title" content="Monotone - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Monotone - Julio Merino (jmmv.dev)"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.145.0"><meta property="og:url" content="https://jmmv.dev/tags/monotone/index.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/tags/monotone/index.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Posts: Monotone</h1><p>Showing 14 posts</p></div></div><div class=container><div class=row><div class=col-md-9><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2012/02/switching-projects-to-git.html>Switching projects to Git</a></h2><p>The purpose of this post is to tell you the story of the Version Control System (VCS) choices I have made while maintaining my open source projects ATF, Kyua and Lutok. It also details where my thoughts are headed to these days.<br><br>This is not a description of centralized vs. distributed VCSs, and it does not intend to be one. This does not intend to compare Monotone to Git either, although you'll probably feel like it while reading the text.&nbsp;Note that I have fully known the advantages of DVCSs over centralized systems for many years, but for some reason or another I have been "forced" to use centralized systems on and off. The Subversion hiccup explained below is... well... regrettable, but it's all part of the story!<br><br>Hope you enjoy the read.<br><b><br></b><br><b>Looking back at Monotone (and ATF)</b><br><br>I still remember the moment&nbsp;<a href=/2004/11/impressions-on-monotone.html>I discovered Monotone in 2004</a>: simply put, it blew my mind. It was clear to me that Distributed Version Control Systems (DVCSs) were going to be the future, and I eagerly adopted Monotone for my own projects. A year later, Git appeared and it took all the praise for DVCSs: developers all around started migrating en masse to Git, leaving behind other (D)VCSs. Many of these developers then went on to make Git usable (it certainly wasn't at first) and&nbsp;well-documented.&nbsp;(Note: I really dislike Git's origins... but I won't get into details; it has been many years since that happened.)<br><br>One of the projects in which I chose to use <a href=http://monotone.ca/>Monotone</a> was <a href=http://www.netbsd.org/~jmmv/atf/>ATF</a>. That might have been a good choice at the time despite being very biased, but it has caused problems over time. These have been:<br><ul><li>Difficulty to get Monotone installed: While most Linux distributions come with a Monotone binary package these days, it was not the case years ago. But even nowadays if all Linux distributions have binary packages, the main consumers of ATF are NetBSD users, and their only choice is to build their own binaries. This generates discomfort because there is a lot of FUD surrounding C++ and Boost.</li><li>High entry barrier to potential contributors: It is a fact that Monotone is not popular, which means that nobody is familiar with it. Monotone's CLI is very similar to CVS, and I'd say the knowledge transition for basic usage is trivial, but the process of cloning a remote project was really convoluted until "recently". The lack of binary packages, combined with complex instructions on just how to <i>fetch</i> the sources of a project only help in scaring people away.</li><li>Missing features: Despite years have passed, Monotone still lacks some important features that impact its usability. For example, to my knowledge, it's still not possible to do work-directory merges and, while the interactive merges offered by the tool seem like a cool idea, they are not really practical as you get no chance to validate the merge. It is also not possible, for example, to reference the parent commit of any given commit without looking at the parent's ID. (Yeah, yeah, in a DAG there may be more than one parent, but that's not the common case.) Or know what a push/pull operation is going to change on both sides of the connection. And key management and trust has been broken since day one and is still not fixed. Etc, etc, etc.</li><li>No hosting: None of the major project hosting sites support Monotone. While there are some playground hosting sites, they are toys. I have also maintained my own servers sometimes, but it's certainly inconvenient and annoying.</li><li>No tools support: Pretty much no major development tools support Monotone as a VCS backend. Consider Ohloh, your favorite bug tracking system or your editor/IDE. (I attempted to install Trac with some alpha plugin to add Monotone support and it was a huge mess.)</li><li>No more active development: This is the drop that spills the cup. The developers of Monotone that created the foundations of the project left years ago. While the rest of the developers did a good job in coming up with a 1.0 release by March 2011, nothing else has happened since then. To me, it looks like a dead project at this point :-(</li></ul>Despite all this, I have been maintaining ATF in its Monotone repository, but I have felt the pain points above for years.<br><br>Furthermore, the few times some end user has approached ATF to offer some contribution, he has had tons of trouble getting a fresh checkout of the repository and given up. So staying with Monotone hurts the project more than it helps.<br><br><b>The adoption of Subversion (in Kyua)</b><br><br>To fix this mess, when I created the <a href=http://code.google.com/p/kyua/>Kyua</a> project two years ago, I decided to use Subversion instead of a DVCS. I knew upfront that it was a clear regression from a functionality point of view, but I was going to live with it. The rationale for this decision was to make the entry barrier to Kyua much lower by using off-the-shelf project hosting. And, because NetBSD developers use CVS (<i>shrugh</i>), choosing Subversion was a reasonable choice because of the workflow similarities to CVS and thus, supposedly, the low entry barrier.<br><br>Sincerely, the choice of Subversion has not fixed anything, and it has introduced its own trouble. Let's see why:<br><ul><li>ATF continues to be hosted in a Monotone repository, and Kyua depends on ATF. You can spot the problem, can't you? It's a nightmare to check out all the dependencies of Kyua, using different tools, just to get the thing working.</li><li>As of today, Git is as popular, if not more, than Subversion. All the major operating systems have binary packages for Git and/or bundle Git in their base installation (hello, OS X!). Installing Git on NetBSD is arguably easier (at least faster!) than Subversion. Developers are used to Git. Or let me fix that: developers <i>love</i> Git.</li><li>Subversion gets on the way more than it helps; it really does once you have experienced what other VCSs have to offer. I currently maintain independent checkouts of the repository (appropriately named 1, 2 and 3) so that I can develop different patches on each before committing the changes. This gets old really quickly. Not to mention when I have to fly for hours, as being stuck without an internet connection and plain-old Subversion... is suboptimal. Disconnected operation is key.</li></ul><div>The fact that Subversion is slowing down development, and the fact that it really does not help in getting new contributors more than Git would, make me feel it is time to say Subversion goodbye.</div><div><br></div><div><b>The migration to Git</b></div><div><b><br></b></div><div>At this point, I am seriously considering switching all of ATF, Lutok and Kyua to Git. No Mercurial, no Bazaar, no Fossil, no anything else. Git.<br><br>I am still not decided, and at this point all I am doing is toying around the migration process of the existing Monotone and Subversion repositories to Git while preserving as much of the history as possible. (It's not that hard, but there are a couple of details I want to sort out first.)</div><div><br></div><div>But why Git?</div><div><ul><li>First and foremost, because it is the most popular DVCS. I really want to have the advantages of disconnected development back. (I have tried git-svn and svk and they don't make the cut.)</li><li>At work, I have been using Git for a while to cope with the "deficiencies" of the centralized VCS of choice. We use the squashing functionality intensively, and I find this invaluable to constantly and shamelessly commit incomplete/broken pieces of code that no-one will ever see. Not everything deserves being in the recorded history!</li><li>Related to the above, I've grown accustomed to keeping unnamed, private branches in my local copy of the repository. These branches needn't match the public repository. In Monotone, you had this functionality in the form of "multiple heads for a given branch", but this approach is not as flexible as named private branches.</li><li>Monotone is able to export a repository to Git, so the transition is easy for ATF. I have actually been doing this periodically so that Ohloh can gather stats for ATF.</li><li>Lutok and ATF are hosted in Google Code, and this hosting platform now supports Git out of the box.</li><li>No Mercurial? Mercurial looks a lot like Monotone, and it is indeed very tempting. However, the dependency on Python is not that appropriate in the NetBSD context. Git, without its documentation, builds very quickly and is lightweight enough. Plus, if I have to change my habits, I would rather go with Git given that the other open source projects I am interested in use Git.</li><li>No Bazaar? No, not that popular. And the fact that this is based on GNU arch makes me cringe.</li><li>No Fossil? This tool looks awesome and provides much more than DVCS functionality: think about distributed wiki and bug tracking; cool, huh? It also appears to be a strong contender in the current discussions of what system should NetBSD choose to replace CVS. <i>However</i>, it is a one-man effort, much like Monotone was. And few people are familiar with it, so Fossil wouldn't solve the issue of lowering the entry barrier. Choosing Fossil would mean repeating the same mistake as choosing Monotone.</li></ul><div>So, while Git has its own deficiencies — e.g. I still don't like the fact that it is unable to record file moves (heuristics are not the same) — it seems like a very good choice. The truth is, it will ease development by a factor of a million (OK, maybe not that much) and, because the only person (right?) that currently cares about the upstream sources for any of these projects is me, nobody should be affected by the change.<br><br>The decision may seem a bit arbitrary given that the points above don't provide too much rationale to compare Git against the other alternatives. But if I want to migrate, I have to make a choice and this is the one that seems most reasonable.<br><br>Comments? Encouragements? Criticisms?</div></div></p><p class=text-muted>February 11, 2012
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/git>git</a>, <a href=/tags/kyua>kyua</a>, <a href=/tags/lutok>lutok</a>, <a href=/tags/monotone>monotone</a>, <a href=/tags/vcs>vcs</a><br><a class=text-reset href=/2012/02/switching-projects-to-git.html>Continue reading (about
8 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2010/03/new-version-of-monotone-server-package.html>New version of the monotone-server package in pkgsrc</a></h2><p>Wow, it has been a long time... 5 years ago, I created the <a href="http://cvsweb.netbsd.org/bsdweb.cgi/pkgsrc/devel/monotone-server/?only_with_tag=MAIN">monotone-server</a> package in pkgsrc, a package that provided an interactive script to set up a <a href=http://monotone.ca/>monotone</a> server from scratch with, what I though, minimal hassle.<br><br>My package did the job just fine, but past year I was blown away by the simplicity of the same package in <a href=http://www.fedoraproject.org/>Fedora</a>: their <tt>init.d</tt> script provides a set of extra commands to initialize the server before starting it up, and that is it. No need to mess with a separate interactive script; no need to create and memorize passphrases that you will never use; and, what's more, all integrated in the only single place that makes sense: in the init.d "service management" script.<br><br>It has been a while since I became jealous of their approach, but I've finally got to it: I've spent the last few days rewriting the monotone-server package in pkgsrc and came up with a similar scheme. And this <a href=http://mail-index.netbsd.org/pkgsrc-changes/2010/03/12/msg038844.html>new package</a> just made its way <a href=http://mail-index.netbsd.org/pkgsrc-changes/2010/03/12/msg038844.html></a>to pkgsrc-HEAD! The new package comes with what I think is a detailed manual page that explains how to configure the server from scratch. Take a look and, if you find any mistakes, inconsistencies or improvements to be done, let me know!<br><br>In the meantime, I will log into my home server, rebuild the updated package and put it in production :-)</p><p class=text-muted>March 12, 2010
&#183;
Tags:
<a href=/tags/monotone>monotone</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/pkgsrc>pkgsrc</a><br><a class=text-reset href=/2010/03/new-version-of-monotone-server-package.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2008/04/back-to-stone-age.html>Back to Stone Age</a></h2><p>For a rather long while I had been able to avoid the use of the <a href=http://subversion.tigris.org/>Subversion</a> services offered by my research group even if they were omnipresent. But today, this lucky trend vanished. I have been "forced" to use one of these devilish repositories to add some of my stuff. Using this goes against my "principles", as a colleague said.<div><br></div><div>If you don't know it, Subversion is a <span class=Apple-style-span style=font-style:italic>centralized</span> version control system.  Linear history, the non-transparent way to back up the master server, primitive merging interfaces and, the worst thing of all, <span class=Apple-style-span style=font-style:italic>the need to access the network for </span><span class=Apple-style-span style=font-style:italic>every single operation</span> are unbearable facts.</div><div><br></div><div>Using a centralized VCS is like going back in time a million years. (Oh, excuse me, a million is too few.) I <span class=Apple-style-span style=font-style:italic>hate</span> it!  I recently went on a <a href=http://julipedia.blogspot.com/2008/04/netbsd-talk-at-isla-cristina.html>trip</a> and didn't have Internet access neither on the plane nor on the hotel; do you know how cool it was to still have full access (not just the working copy, that is) to my code, documents and everything else?  And even if you have Internet access, can you imagine how fast you can work without having to wait for the network?</div><div><br></div><div>Well, I can't really blame the administrators. As far as I can tell, they are not too familiar with VCSs and, when making a decision, they just went for what was everywhere, which unfortunately is Subversion is everywhere. Everybody is making that mistake in this department and university.</div><div><br></div><div>Let's see when I will have some free time to prepare a presentation about DVCSs (including <a href=http://monotone.ca/>Monotone</a> as a case study) and give it to the whole department.  Given today facts, I should do this as soon as possible.</div><div><br></div><div></end-of-rant></div><div><br></div><div>Administrators, I know you are reading me.  Don't take this the wrong way! ;-)</div></p><p class=text-muted>April 12, 2008
&#183;
Tags:
<a href=/tags/monotone>monotone</a>, <a href=/tags/vcs>vcs</a><br><a class=text-reset href=/2008/04/back-to-stone-age.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/daggy-fixes-in-monotone.html>Daggy fixes (in Monotone)</a></h2><p>If you inspect the <a href=http://mtn-host.prjek.net/viewmtn/atf/branch/changes/org.NetBSD.atf.src>ATF's source code history</a>, you'll see a lot of merges. But why is that, if I'm the <i>only</i> developer working in the project? Shouldn't the revision history be <i>linear</i>?<br><br>Well, the thing is it <i>needn't</i> and it <i>shouldn't</i>; the subtle difference is important here :-) It <i>needn't</i> be linear because <a href=http://monotone.ca/>Monotone</a> is a VCS that stores history in a <a href=http://en.wikipedia.org/wiki/Directed_acyclic_graph>DAG</a>, so it is completely natural to have a non-linear history. In fact, distributed development requires such a model if you want to preserve the original history (instead of stacking changes on top of revisions different than the original ones).<br><br>On the other hand, it <i>shouldn't</i> be linear because there are better ways to organize the history. As the <a href=http://www.venge.net/mtn-wiki/DaggyFixes>DaggyFixes</a> page in the <a href=http://www.venge.net/mtn-wiki/>Monotone Wiki</a> mentions:<br><blockquote>All software has bugs, and not all changes that you commit to a source tree are entirely good. Therefore, some commits can be considered "development" (new features), and others can be considered "bugfixes" (redoing or sometimes undoing previous changes). It can often be advantageous to separate the two: it is common practice to try and avoid mixing new code and bugfixes together in the same commit, often as a matter of project policy. This is because the fix can be important on its own, such as for applying critical bugfixes to stable releases without carrying along other unrelated changes.</blockquote>The key idea here is that you should group bug fixes alongside the original change that introduced them, if it is clear which commit is that and you can easily locate it. And if you do that, you end up with a non-linear history that requires a merge per each bug-fix to resolve the divergences inside a single branch.<br><br>I certainly recommend you to read the <a href=http://www.venge.net/mtn-wiki/DaggyFixes>DaggyFixes</a> page. One more reason to do the switch to Monotone (or any other DAG-based VCS system, of course)? ;-) Oh, I now notice I once <a href=http://julipedia.blogspot.com/2005/10/monotone-using-mini-branches-to-apply.html>blogged about this same idea</a>, but that page is far more clear than my explanation.<br><br>That is why you'll notice lots of merges in the ATF source tree: I've started applying this methodology to see how well it behaves and I find it very interesting so far. I'd now hate switching to CVS and losing all the history for the project (because attempting to convert it to CVS's model could be painful), even if it is that not interesting.</p><p class=text-muted>July 17, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2007/07/daggy-fixes-in-monotone.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/05/monotones-help-rewrite-merged.html>Monotone's help rewrite merged</a></h2><p>I have just merged my <tt>net.venge.monotone.help-rewrite</tt> branch into the mainline <a href=http://monotone.ca/>Monotone</a>'s source code. I already explained its purpose <a href=http://julipedia.blogspot.com/2007/04/monotones-help-rewrite.html>in a past post</a>, so please refer to it to see what has changed.<br><br>There is still some work to do on the "help rewrite" area, but I won't have the time to do it in the near future. Hence I added some items to the ROADMAP file explaining what needs to be done, hoping that someone else can pick them up and do the work. They are not difficult but they can introduce you to Monotone's development if you are interested! ;-)</p><p class=text-muted>May 20, 2007
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2007/05/monotones-help-rewrite-merged.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/05/talk-about-git.html>Talk about Git</a></h2><p>I've been using <a href=http://git.or.cz/>Git</a> (or better said <a href=http://git.or.cz/cogito/>Cogito</a>) recently as part of my PFC and, although I don't like the way Git was started, I must confess I like it a lot. In some ways it is very similar to <a href=http://monotone.ca/>Monotone</a> (the version control system I prefer now) but it has its own features that make it very interesting. One of these is the difference between local and remote branches, something I'll talk about in a future post.<br><br>For now I would just like to point you to <a href="http://www.youtube.com/watch?v=4XpnKHJAok8">a talk about Git by Linus given at Google</a>. He focuses more on general concepts of distributed version systems than on Git itself, so most of the ideas given there apply to many other systems as well. If you still don't see the advantages of distributed VCSs over centralized ones, you must watch this. Really. Oh, and it is quite "funny" too ;-)</p><p class=text-muted>May 19, 2007
&#183;
Tags:
<a href=/tags/cogito>cogito</a>, <a href=/tags/dvcs>dvcs</a>, <a href=/tags/git>git</a>, <a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2007/05/talk-about-git.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/04/monotones-help-rewrite.html>Monotone's help rewrite</a></h2><p>A couple of weeks ago, I updated <a href=http://monotone.ca/>Monotone</a> to 0.34 and noticed a small style problem in the help output: the line wrapping was not working properly, so some words got cut on the terminal's boundary. After <a href=http://viewmtn.angrygoats.net/revision/info/7c164c4ba32563a1e781e55c89352c04e5019348>resolving this minor issue</a>, I realized that I didn't know what most of the commands shown in the main help screen did. Virtually all other command-line utilities that have integrated help show some form of an abstract description for each command which allows the novice to quickly see what they are about. So why wouldn't Monotone?<br><br>I started extending the internal commands interface to accept a little abstract for each command and command group, to be later shown in the help output. This was rather easy, and I posted some preliminary changes in <a href=http://lists.gnu.org/archive/html/monotone-devel/2007-04/msg00039.html>to the mailing list</a>. But you know what happens when proposing trivial changes...<br><br>People complained that the new output was too long to be useful, which I agreed on and fixed by only showing commands in a given group at a time. But... there was also an interesting request: allow the documentation of subcommands (e.g. <tt>list keys</tt>) in a consistent way with how primary commands (e.g. <tt>checkout</tt>) are defined. There is even a bug (<a href=https://savannah.nongnu.org/bugs/?18281>#18281</a>) about this issue.<br><br>And... that has kept me busy for way longer than I expected. I've ended up rewriting the way commands are defined internally by constructing a <i>tree of commands</i> instead of a <i>plain list</i>. This allows the generic command lookup algorithm to locate commands at any level in the tree, thus being able to standarize the way to define help and options on them.<br><br>The work is almost done and can be seen in the <a href=http://viewmtn.angrygoats.net/branch/changes/net.venge.monotone.help-rewrite>net.venge.monotone.help-rewrite</a> branch.<br><br>I've also been messing with <a href=http://git.or.cz/cogito/>Cogito</a> recently and found some of its user interface features to be very convenient. These include automatic paging of long output and colored diffs straight on the console. Something to borrow from them if I ever have the time for it, I guess ;-)</p><p class=text-muted>April 23, 2007
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2007/04/monotones-help-rewrite.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/12/monotone-got-t-shirt.html>Monotone: Got T-Shirt</a></h2><p>The last weekend of past November, <a href=http://www.venge.net/>Monotone</a>'s main author, Graydon Hoare, proposed a "bugathon": a time frame in which all efforts could be focused on fixing existing bugs in the code. The price for solving a bug was a T-Shirt (or any other object from its <a href=http://www.cafepress.com/monotone_vcs>CafePress shop</a>), so I decided to help a bit by fixing some portability bugs to <a href=http://www.NetBSD.org/>NetBSD</a>. And today, I received the long sleeved T-Shirt I ordered in exchange for the fixes :-) (Will post a photo of this one too when I learn how to do it.)</p><p class=text-muted>December 23, 2005
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2005/12/monotone-got-t-shirt.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/10/monotone-using-mini-branches-to-apply.html>Monotone: Using mini-branches to apply patches</a></h2><p><p>The <a href=http://www.venge.net/monotone/>Monotone</a> VCS provides the concept of mini-branches. A mini-branch is a lightweight branch created inside a formal branch whenever a commit causes "conflicts" with the actual contents of the repository. For example, if your working copy is not up to date and you commit something, you will create a new head within the branch (that is, a mini-branch), that you will later need to (possibly manually) merge with the other head to remove the divergence.</p></p><p class=text-muted>October 8, 2005
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2005/10/monotone-using-mini-branches-to-apply.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/08/manual-changelogs-thing-of-past.html>Manual ChangeLogs; a thing of the past?</a></h2><p><p>If you have ever examined the source distribution of an open source project, you'll probably have noticed a ChangeLog file. This file lists, in good detail, all changes done to the source code in reverse order, giving their description, the name of the affected files and the name of the author who did the change. So far, so good. But I really think that these files, or better said, the way they are written and managed, is flawed. Let's see why:</p></p><p class=text-muted>August 21, 2005
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2005/08/manual-changelogs-thing-of-past.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/07/monotones-cvs-gateway-part-2.html>Monotone's CVS gateway, part 2</a></h2><p><p>After explaining what is the <a href=http://www.venge.net/monotone/>Monotone's CVS gateway</a>, I've been asked to post a little step by step tutorial about it. I'll focus the example towards <a href=http://www.pkgsrc.org/>pkgsrc</a>. Here it goes:</p><p>The first step is to create a local database for Monotone and a key for personal use:</p><pre>$ monotone --db=~/pkgsrc.db db init<br>$ monotone --db=~/pkgsrc.db genkey user@example.com</pre><p></p><p>Once this is done, we can proceed to import the CVS repository into the database. We can do this in two different ways:</p></p><p class=text-muted>July 6, 2005
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2005/07/monotones-cvs-gateway-part-2.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/06/monotones-cvs-gateway.html>Monotone's CVS gateway</a></h2><p><p>After a long time, I've finally decided to give <a href=http://www.venge.net/monotone/>Monotone</a>'s <tt>net.venge.monotone.cvssync</tt> branch a try. The code in it implements a bidirectional gateway between Monotone and <a href=http://www.gnu.org/software/cvs/>CVS</a>. What this means is that Monotone can be used for private development while working on a project that already uses CVS (doing the inverse could be... stupid?).</p><p>The way it works is basically the following: first of all, you synchronize your local Monotone database with a remote CVS repository, importing the whole revision tree into it using <tt>cvs_pull</tt>. Secondly, you commit to your local Monotone tree as much as you want. At last, when you want to publish your changes, you push them against the CVS repository and they get integrated nicely (each revision in your local database is translated into a single CVS commit) using <tt>cvs_push</tt>. There are some small problems, though: during a push, all the new CVS revisions get the same date, but I think this is unsolvable.</p></p><p class=text-muted>June 28, 2005
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2005/06/monotones-cvs-gateway.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/01/monotone-dedicated-server.html>Monotone dedicated server</a></h2><p><p>Some weeks ago, I installed <a href=http://www.venge.net/monotone/>Monotone</a> on my main machine to act as a dedicated server for <a href=http://vigipac.sourceforge.net/>Vigipac</a>'s source code. During the process, I had to write a <tt>rc.d</tt> script and configure multiple things to get everything working safely. The overall process is not difficult once you know how Monotone works, but it is quite time consuming and error prone (due to concrete file permissions, for example). So I thought I could share my work to make this process easier to other people and love <a href=http://www.pkgsrc.org/>pkgsrc</a> even more ;-)</p></p><p class=text-muted>January 12, 2005
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2005/01/monotone-dedicated-server.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2004/11/impressions-on-monotone.html>Impressions on Monotone</a></h2><p><p>I'm amazed after having played with <a href=http://www.venge.net/monotone/>Monotone</a> during the whole evening. Simply put, it is a <i>distributed version control system</i>, similar to <a href=http://www.gnu.org/software/CVS/>CVS</a> in the sense that it keeps track of changes across files and lets multiple people work at the same time with them. But, unlike CVS, it has many other cool features. The front page of its website contains a nice paragraph summarizing all available features, so I'm not repeating them here. But let me discuss here what has taken my attention.</p></p><p class=text-muted>November 28, 2004
&#183;
Tags:
<a href=/tags/monotone>monotone</a><br><a class=text-reset href=/2004/11/impressions-on-monotone.html>Continue reading (about
2 minutes)</a></p></div></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon">
</a><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter">
</a><a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2025
Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.0de73782e9e0fbcb4184fb5793949b3b0d0ada16455df89320415b4dcc052f88.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src="https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi90YWdzL21vbm90b25lL2luZGV4Lmh0bWw=/stamp.gif" style=display:none></noscript></body></html>