<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Programming - Julio Merino (jmmv.dev)</title>
<meta property="og:title" content="Programming - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Programming - Julio Merino (jmmv.dev)"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.145.0"><meta property="og:url" content="https://jmmv.dev/tags/programming/index.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/tags/programming/index.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Posts: Programming</h1><p>Showing 44 posts</p></div></div><div class=container><div class=row><div class=col-md-9><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2024/08/glibc-versions-runtime.html>Picking glibc versions at runtime</a></h2><p><p>In a recent work discussion, I came across an argument that didn&rsquo;t sound quite right. The claim was that we needed to set up containers in our developer machines in order to run tests against a modern glibc. The justifications were that using <code>LD_LIBRARY_PATH</code> to load a different glibc didn&rsquo;t work and statically linking glibc wasn&rsquo;t possible either.</p><p>But&mldr; running a program against a version of glibc that&rsquo;s different from the one installed on the system seems like a pretty standard requirement, doesn&rsquo;t it? Consider this: how do the developers of glibc test their changes? glibc has existed for much longer than containers have. And before containers existed, they surely weren&rsquo;t testing glibc changes by installing modified versions of the library over the system-wide one and YOLOing it.</p></p><p class=text-muted>August 11, 2024
&#183;
Tags:
<a href=/tags/blogsystem5>blogsystem5</a>, <a href=/tags/programming>programming</a>, <a href=/tags/unix>unix</a><br><a class=text-reset href=/2024/08/glibc-versions-runtime.html>Continue reading (about
11 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2024/02/to-c-or-not-to-c.html>To C or not to C</a></h2><p><p>Over the last few days, there has been this&mldr; debate over at Twitter sparked by a claim that you cannot be a good programmer without knowing C. You obviously can be one, but there is some nuance in what &ldquo;knowing&rdquo; C is truly about. Here is my take on the matter.</p><p>Let me repeat this first: of course you can be a perfectly good programmer without knowing C. Knowing <em>a language</em> doesn&rsquo;t make or break a programmer, and there are great programmers out there that don&rsquo;t touch C. <em>However</em>, knowing C says something about your <em>journey</em>.</p></p><p class=text-muted>February 21, 2024
&#183;
Tags:
<a href=/tags/blogsystem5>blogsystem5</a>, <a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a>, <a href=/tags/twitter-thread>twitter-thread</a><br><a class=text-reset href=/2024/02/to-c-or-not-to-c.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/11/code-reviews-a-success-story.html>Code reviews: A success story</a></h2><p><p>Code reviews have a bad rep: they are antagonistic in nature and, sometimes, pure red tape. Some argue that they are bad practice; others say that peer programming is better. And while these <em>may</em> be true, I want to tell you a story about a case where code reviews worked well!</p><p>Meet X: a junior engineer in the Bazel team circa 2018, tasked to implement two features: A and B. As you may know, Google is big into code reviews&mdash;and their tooling for this is awesome; believe me&mdash;so this was the standard process for X to get his code checked in.</p></p><p class=text-muted>November 21, 2023
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/twitter-thread>twitter-thread</a><br><a class=text-reset href=/2023/11/code-reviews-a-success-story.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/10/rust-test-structs.html>5 ways to instantiate Rust structs in tests</a></h2><p><p>I&rsquo;m a big fan of static typing and I&rsquo;ve found that using narrow types for each entity in the object model of my programs reduces errors. Rust is particularly well-suited at this task: its lack of implicit type conversions eliminates surprises, and its ownership semantics allow type transformations with zero cost.</p><p>Unfortunately, (ab)using narrow types in an app&rsquo;s domain is <em>really</em> annoying when writing tests. While non-test code rarely instantiates new objects&mdash;in the case of a REST service, this would only happen at the service&rsquo;s boundaries&mdash;tests instantiate objects infinitely more times than non-test code. Code patterns that may seem reasonable in non-test code can become unbearable in tests.</p><p>In this post, I want to look into the various ways in which you can instantiate strongly-typed objects. For each, I show examples and describe their pros and cons. And yes, as a matter of fact, I have tried them all before&mldr; and I can&rsquo;t yet make my mind as to which one is best.</p></p><p class=text-muted>October 6, 2023
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/readability>readability</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2023/10/rust-test-structs.html>Continue reading (about
10 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/09/performance-is-not-big-o.html>Good performance is not just big O</a></h2><p><p>Having a fast and responsive app is orthogonal to &ldquo;knowing your big <i>O</i>s&rdquo;. Unfortunately, most tech companies over-emphasize algorithms in interviews and downplay systems knowledge, and I believe that&rsquo;s one reason behind sluggish apps and bloated systems.</p><p>I&rsquo;ve seen this play out repeatedly. Interviewers ask a LeetCode-style coding question, which is then followed by the ritual of discussing time and memory complexity. Candidates ace the answers. But then&mldr; their &ldquo;real&rdquo; code suffers from subtle yet impactful performance problems.</p><p>Focusing on big <em>O</em> complexity rarely matters in most apps. Sure, it&rsquo;s important to think about your algorithmic choices, but there are so many more details to worry about that have a direct impact on app performance and responsiveness. Let&rsquo;s look at a bunch of them!</p></p><p class=text-muted>September 8, 2023
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/sre>sre</a>, <a href=/tags/twitter-thread>twitter-thread</a><br><a class=text-reset href=/2023/09/performance-is-not-big-o.html>Continue reading (about
6 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/08/costs-exposed-frameworks.html>Costs exposed: Frameworks</a></h2><p><p><a href=/2023/06/fast-machines-slow-machines.html>&ldquo;Fast machines, slow machines&rdquo;</a>&mldr; ah, the post that spawned these series. As I frantically typed that article while replying to angry tweets, the thought came to mind: software engineering as a whole is hyper-focused on lowering the costs to write new code, yet there is a disregard for the costs that these improvements bring to other disciplines in a company on even to end users.</p><p>So, in this series finale, I want to compare how some choices that apparently lower development costs actually increase costs elsewhere. I also want to highlight how, if we made different decisions during development, we could possibly expose those extra costs early on. This is beneficial because exposing costs upfront allows us to make tough choices when there is still a chance of changing course.</p><p>To make things specific, I will look at how the use of modern frameworks that facilitate development can end up hurting performance, reliability, and usability. So let&rsquo;s start with a three-part rant first (sorry) and then let&rsquo;s look at what we might do.</p></p><p class=text-muted>August 31, 2023
&#183;
Tags:
<a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a>, <a href=/tags/sre>sre</a><br><a class=text-reset href=/2023/08/costs-exposed-frameworks.html>Continue reading (about
7 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/08/costs-exposed-on-call-ticket-handling.html>Costs exposed: On-call ticket handling</a></h2><p><p>In the previous post, I proposed that certain engineering practices expose systemic costs and help with planning while other practices hide those same costs and disturb ongoing plans.</p><p>The idea I&rsquo;m trying to convey is hard to communicate in the abstract so, in that post, I used the differences between a monorepo and a multirepo setup as an example. Today, I&rsquo;ll expore a different scenario to support the same idea. I&rsquo;m going to talk about how certain ticket assignment practices during on-call operations can expose service support costs vs. how other practices hide them.</p><p>Keep in mind that, just like in the previous post, I do not want to compare the general merits of one approach vs. the other. The <em>only</em> thing I want to compare is whether one approach centralizes toil and allows management to quantify its cost vs. how another approach hides toil by smearing it over the whole team in hard-to-quantify ways. Whether management <em>actually does something</em> to correct the situation once the costs are exposed is a different story.</p></p><p class=text-muted>August 26, 2023
&#183;
Tags:
<a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a>, <a href=/tags/sre>sre</a><br><a class=text-reset href=/2023/08/costs-exposed-on-call-ticket-handling.html>Continue reading (about
7 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/08/costs-exposed-monorepo-multirepo.html>Costs exposed: Monorepo vs. multirepo</a></h2><p><p>In software engineering organizations, there are certain practices that keep costs under control even if those <em>seem</em> more expensive at first. Unfortunately, because such practices <em>feel</em> more expensive, teams choose to keep their status quo even when they know it is suboptimal. This choice ends up hurting productivity and morale because planned work is continuously interrupted, which in turn drags project completion.</p><p>The reason I say <em>seem</em> and not <em>are</em> is because the alternatives to these cost-exposing practices also suffer from costs. The difference is that, while the former surface costs, leading to the need to allocate time and people to infrastructure work, the latter keeps the costs smeared over teams and individuals in ways that are difficult to account and plan for.</p><p>To illustrate what I&rsquo;m trying to say, I&rsquo;ll present three different scenarios in which this opinion applies. All of these case studies come from past personal experiences while working in different teams and projects. The first one covered in this post is about the adoption of a monorepo vs. the use of multiple different repositories. The other two will come in follow-up articles.</p></p><p class=text-muted>August 23, 2023
&#183;
Tags:
<a href=/tags/monorepo>monorepo</a>, <a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a><br><a class=text-reset href=/2023/08/costs-exposed-monorepo-multirepo.html>Continue reading (about
6 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/08/rust-static-dispatch-failed-experiment.html>A failed experiment with Rust static dispatch</a></h2><p><p>Initial versions of the EndBASIC Service, and therefore initial versions of EndTRACKER, used dynamic dispatch to support abstract definitions of system services such as the database they talk to and the clock they use. This looked like a bunch of <tt>Arc<dyn foo></tt> objects passed around and was done to support extremely fast unit testing.</p><p>When I generalized the core logic of these services into the III-IV framework, I decided to experiment with a switch to static dispatch. The rationale was that using static dispatch better aligns with the design of well-regarded crates in the Rust ecosystem, and also because I wanted to avoid unnecessary runtime costs in the foundational pieces of my web services.</p><p>Let me tell you that this decision was a huge mistake and that the experiment has utterly failed. Using static dispatch has been a constant source of frustration due to the difficulty in passing types around and reasoning about trait bounds. The situation had gotten so bad that I dreaded adding new functionality to my services whenever a change to a statically-typed <tt>struct</tt> was needed, because that meant adding yet another type parameter and plumbing it through tens of source files.</p><p>In lieu of the difficulties, which eventually turned into blockers to implementing new features, I made the choice of going back to dynamic dispatch. The goal was to gain ergonomics at the expense of a supposedly-negligible runtime cost. Let me tell you about the problems I faced, the refactoring journey, and some measurements I gathered after the rewrite.</p></p><p class=text-muted>August 6, 2023
&#183;
Tags:
<a href=/tags/endtracker>endtracker</a>, <a href=/tags/iii-iv>iii-iv</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2023/08/rust-static-dispatch-failed-experiment.html>Continue reading (about
13 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2023/07/unit-testing-a-web-service.html>Unit-testing a web service in Rust</a></h2><p><p>One of the things I'm most proud of the Rust web services I have written is how I can run their tests with zero setup and within milliseconds, all while making me confident that "main" can always be shipped to production. I've previously touched upon how this all works in other articles, but it's time for a deep dive.</p><p>To make things specific, I'll be describing the testing infrastructure of EndTRACKER, the EndBASIC Service, and the sample key/value store app of III-IV. These services are all structured in three separate layers, and I'll be covering the testing strategy for each of them.</p></p><p class=text-muted>July 7, 2023
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/endtracker>endtracker</a>, <a href=/tags/iii-iv>iii-iv</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2023/07/unit-testing-a-web-service.html>Continue reading (about
19 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2021/08/useless-use-of-gnu.html>Useless use of GNU</a></h2><p>The GNU project is the source of the Unix userland utilities used on most Linux distributions. Its compatibility with standards and other Unix systems, or lack thereof, directly impacts the overall portability of any piece of software developed from GNU/Linux installations. Unfortunately, the GNU userland does not closely adhere to standards, and its widespread usage causes little incompatibilities to creep into any software created on GNU/Linux systems. Read on for why this is a problem and the pitfalls you will encounter.</p><p class=text-muted>August 25, 2021
&#183;
Tags:
<a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a>, <a href=/tags/shell>shell</a>, <a href=/tags/unix>unix</a><br><a class=text-reset href=/2021/08/useless-use-of-gnu.html>Continue reading (about
12 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2021/08/using-all-memory-as-a-cache.html>Should the browser use all available memory?</a></h2><p>We have all seen discussions go like this: someone first complains that an application like Google Chrome is wasteful because it uses multiple GBs of memory. Someone else comes along and says that memory is there to be used for speed and therefore this is the correct behavior: if the computer has multiple GBs of free memory, an application such as Chrome should make use of all the available memory in the form of a cache to be as responsive as possible. Makes sense, right? Yes, it does makes sense&mdash;as long as Chrome is the only application running. Let&rsquo;s explore why this is not a great idea.</p><p class=text-muted>August 12, 2021
&#183;
Tags:
<a href=/tags/opinion>opinion</a>, <a href=/tags/programming>programming</a><br><a class=text-reset href=/2021/08/using-all-memory-as-a-cache.html>Continue reading (about
13 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2021/02/endbasic-0.6.html>EndBASIC 0.6 release announcement</a></h2><p><p>After a very active month of development since the <a href=/2021/01/endbasic-0.5.html>0.5 announcement</a>, it is time to welcome EndBASIC 0.6!</p><p>This new 0.6 release is super-exciting for three reasons:</p><ul><li>preliminary GPIO support in the standard library specifically tailored to the Raspberry Pi;</li><li>multidimensional array support in the language; and</li><li>availability of binary releases for the most common platforms.</li></ul><p>You can dive right in by:</p><ul><li>visiting <a href=https://repl.endbasic.dev/>https://repl.endbasic.dev/</a> for an interactive session,</li><li>reading more about the project at <a href=https://www.endbasic.dev/>https://www.endbasic.dev/</a>, or</li><li>downloading and installing any of the new <a href=https://github.com/endbasic/endbasic/releases/tag/endbasic-0.6.0>prebuilt binaries</a>.</li></ul><p>But stick around and continue reading if you are interested in many more details about these major changes üòâ</p></p><p class=text-muted>February 19, 2021
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/release>release</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2021/02/endbasic-0.6.html>Continue reading (about
8 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2021/01/embedding-endbasic.html>Embedding EndBASIC into a (Rust) program</a></h2><p>One thing that bothers me quite a lot about various language implementations is that the core of their interpreter isn&rsquo;t clearly separate from their standard library. This makes it hard to embed those interpreters into other programs because it&rsquo;s not obvious how to limit their side-effects and because the interpreter dependency can be heavy. In this post, we will see how EndBASIC&rsquo;s design tries hard to keep the core as small as possible, and we will see some examples on how to use EndBASIC from Rust and vice versa.</p><p class=text-muted>January 26, 2021
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2021/01/embedding-endbasic.html>Continue reading (about
7 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2021/01/endbasic-0.5.html>EndBASIC 0.5 release announcement</a></h2><p>A month has passed since the 0.4.0 announcement so it is about time to say hello to yet another EndBASIC release because 0.5.0 is here! So, what&rsquo;s new? Not much&mldr; unless you look under the covers, in which case a <em>ton</em> has changed. About 30% of the codebase has been affected in one way or another to improve general quality, so read on to see how.</p><p class=text-muted>January 24, 2021
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/release>release</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2021/01/endbasic-0.5.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/12/endbasic-0.4.html>EndBASIC 0.4 release announcement</a></h2><p><p>About a month ago and after a long hiatus, I <a href=/2020/11/endbasic-0.3.html>published EndBASIC 0.3</a> and the adrenaline rush that came with it got my wheels spinning again full-steam ahead. So here I am today, ready to announce the 0.4 release. But&mldr; &ldquo;what could have possibly changed in just a month of someone&rsquo;s free time&rdquo;, you wonder? Enough, actually!</p><p>EndBASIC 0.4 is the release that fulfills my original goal of being able to run a &ldquo;guess the number&rdquo; game. The &ldquo;only&rdquo; change needed after 0.3 to make this possible was the addition of random numbers, but these in turn required adding function calls to back <code>RND()</code> and also supporting floating point numbers because that&rsquo;s what this function is supposed to return.</p></p><p class=text-muted>December 25, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/release>release</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/12/endbasic-0.4.html>Continue reading (about
13 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></h2><p>The most notable feature in EndBASIC 0.3 is its new full-screen console-based text editor. In this post, I describe why it is important and useful to unit-test a console app like this, and I will dive into how to implement unit tests that catch regressions and inefficiencies. Code samples are in Rust, but the concepts presented here are applicable to any language with minimal data abstraction facilities.</p><p class=text-muted>December 8, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/featured>featured</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/12/unit-testing-a-console-app.html>Continue reading (about
16 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/12/builder-pattern-for-tests.html>Using the builder pattern to define test scenarios</a></h2><p><p>I&rsquo;ve been playing with the builder patter to express test scenarios in a succinct and declarative manner. I&rsquo;ve liked the outcome and feel that this design can yield to pretty good test code, so I&rsquo;ll dig through this idea here. Note that, while this post and the associated code talk about Rust, <strong>the ideas presented here apply to any language</strong>. So don&rsquo;t leave just because I said Rust!</p></p><p class=text-muted>December 4, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/12/builder-pattern-for-tests.html>Continue reading (about
6 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/11/endbasic-0.3.html>EndBASIC 0.3 is here</a></h2><p><p>After a 6-month long hiatus caused by me <a href=/2020/10/bye-google-hi-microsoft.html>hunting and changing jobs and cities</a>, I am pleased to announce the release of EndBASIC 0.3! The Thanksgiving break has been as fruitful as I had hoped üòÅ</p><p>There are two major changes in this release.</p><ol><li><p>The first is the official debut of the <strong>web-based interface</strong>. I <a href=/2020/05/bridging-the-web-gap-endbasic.html>introduced this months ago</a> and have had it running on a &ldquo;push on green&rdquo; model, which means that the web deployment of EndBASIC is always tracking Git <code>HEAD</code>. This has made formal releases irrelevant which is, in part, why 0.3 is so far behind 0.2. But&mldr; I do believe in formal releases so I&rsquo;m hoping to put some effort and make the web UI track releases instead and then use the &ldquo;push on green&rdquo; flow only for a preview site.</p></p><p class=text-muted>November 29, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/release>release</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/11/endbasic-0.3.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/05/bridging-the-web-gap-endbasic.html>Bridging the web gap in EndBASIC</a></h2><p><p>After a ton of work, a lot of which was unexpected, I am ecstatic to announce that EndBASIC is now a reality on the web! The whole language interpreter can now run as a fully client-side web app on a computer, on a tablet&mldr; and even on a phone. Yes: the whole thing, which is written in Rust (94%), works in a modern browser with just a tiny bit of JavaScript glue (1%).</p></p><p class=text-muted>May 30, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/05/bridging-the-web-gap-endbasic.html>Continue reading (about
7 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/05/endbasic-0.2.0.html>EndBASIC 0.2.0 is here</a></h2><p><p>A couple of weeks ago, I <a href=/2020/04/hello-endbasic.html>announced EndBASIC</a>: a simple BASIC language interpreter written in Rust with a goal to provide an environment for teaching my kids how to code. That first release provided what-I-think-is a robust interpreter, but that was about it: the language features were still minimal and the interactive features were non-existent.</p><p>Well, <a href=https://github.com/endbasic/endbasic/releases/tag/endbasic-0.2.0>EndBASIC 0.2.0</a> is here and things are changing! It&rsquo;s still far from the vision I want to reach, but it&rsquo;s slowly moving towards that direction. I&rsquo;m a bit less satisfied about the robustness of these new features compared to those in the core language, but that&rsquo;s OK: they will have to change significantly or maybe even be dropped entirely, so no harm done.</p></p><p class=text-muted>May 7, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/programming>programming</a>, <a href=/tags/release>release</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/05/endbasic-0.2.0.html>Continue reading (about
6 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/04/rust-into-trait.html>What is Rust's Into&lt;T> for?</a></h2><p><p>Rust provides a bunch of traits that you may use or implement in your code, but unless you have experienced them first-hand, it can be hard to imagine what their real utility is. For example, if you go read <a href=https://doc.rust-lang.org/std/convert/trait.Into.html>Into&rsquo;s documentation</a>, all you find is:</p><blockquote><p>Trait <code>std::convert::Into</code></p><p>A value-to-value conversion that consumes the input value. The opposite of <code>From</code>. [&mldr;]</p></blockquote><p>Yay, very useful. This text tells me what this trait does, which is fine for a reference manual, but not when I could find it useful. Mind you, during the initial code reviews for <a href=https://github.com/bazelbuild/sandboxfs/>sandboxfs</a>, my reviewer pointed out a few times that I should be using <code>into()</code> or <code>into_iter()</code> in a few places but I never quite figured out why.</p></p><p class=text-muted>April 27, 2020
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a>, <a href=/tags/sandboxfs>sandboxfs</a><br><a class=text-reset href=/2020/04/rust-into-trait.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/04/hello-endbasic.html>Hello, EndBASIC!</a></h2><p>Introducing EndBASIC, a new interpreter for a BASIC-like language that is inspired by Amstrad&rsquo;s Locomotive BASIC 1.1 and Microsoft&rsquo;s QuickBASIC 4.5. Like the former, EndBASIC intends to provide an interactive environment that seamlessly merges coding with immediate visual feedback. Like the latter, EndBASIC offers higher-level programming constructs and strong typing. The main idea behind EndBASIC is to provide a playground for learning the foundations of programming in a simplified environment.</p><p class=text-muted>April 22, 2020
&#183;
Tags:
<a href=/tags/endbasic>endbasic</a>, <a href=/tags/featured>featured</a>, <a href=/tags/programming>programming</a>, <a href=/tags/release>release</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2020/04/hello-endbasic.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2020/01/osxfuse-hardlinks-dladdr.html>The OSXFUSE, hard links, and dladdr puzzle</a></h2><p><p>Hello everyone and welcome to this new decade!</p><p>It&rsquo;s already 2020 and I&rsquo;m only 17 days late in writing a first post. I was planning to start with an opinion article, but as its draft is taking longer than I wanted&mldr; I&rsquo;ll present you the story of a recent crazy bug that has <a href=https://twitter.com/jmmv/status/1217276457648521216>kept me busy</a> for the last couple of days.</p><h1 id=java-crashes-with-bazel-and-sandboxfs>Java crashes with Bazel and sandboxfs</h1><p>On a machine running macOS Catalina, install <a href=https://github.com/bazelbuild/sandboxfs>sandboxfs</a> and build Bazel with sandboxfs enabled, like this:</p></p><p class=text-muted>January 17, 2020
&#183;
Tags:
<a href=/tags/bazel>bazel</a>, <a href=/tags/fuse>fuse</a>, <a href=/tags/internals>internals</a>, <a href=/tags/programming>programming</a>, <a href=/tags/sandboxfs>sandboxfs</a><br><a class=text-reset href=/2020/01/osxfuse-hardlinks-dladdr.html>Continue reading (about
13 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2019/10/onlamp-articles.html>Resurrected ONLamp.com articles</a></h2><p><p>Quite some time ago, I wrote a handful of guest posts for O&rsquo;Reilly&rsquo;s ONLamp.com online publication. Unfortunately, that site seems now gone from the interwebs and I only noticed by chance upon realizing that some of my links to those articles were now broken.</p><p>Fortunately, I was able to find copies of those articles via <a href=https://archive.org/>archive.org&rsquo;s WayBack Machine</a>. So I have now taken the chance to import those articles into this site. As part of the process, I made the formatting fit this site and fixed a bunch of dead links, but otherwise the content is pretty much a verbatim reproduction of what was published years ago.</p></p><p class=text-muted>October 11, 2019
&#183;
Tags:
<a href=/tags/articles>articles</a>, <a href=/tags/programming>programming</a><br><a class=text-reset href=/2019/10/onlamp-articles.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2019/09/rest-api-rust-go.html>Sample REST interface in Rust and Go</a></h2><p><p>Over the summer, I prototyped a bunch of web apps whose ideas had been floating in my mind for a long time. I spent some time reading through REST API documentation pages and, as part of these exercises, implemented sample RESTful web services in both Go and Rust. (Just for context, the last time I wrote a web app was in high school&mldr; and it involved PHP, MySQL, and I think IE6? Times have changed.)</p></p><p class=text-muted>September 27, 2019
&#183;
Tags:
<a href=/tags/featured>featured</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a>, <a href=/tags/webapp>webapp</a><br><a class=text-reset href=/2019/09/rest-api-rust-go.html>Continue reading (about
16 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2019/09/safe-chdir-to-previous.html>Safely restoring the previous working directory</a></h2><p><p>The <strong>current working directory</strong>, or CWD for short, is a process-wide property. It is good practice to treat the CWD as read-only because it is essentially global state: if you change the CWD of your process at any point, any relative paths you might have stored in memory<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> will stop working. I learned this first many years ago when using the Boost.Filesystem library: I could not find a function to change the CWD and that was very much intentional for this reason.</p></p><p class=text-muted>September 21, 2019
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/unix>unix</a><br><a class=text-reset href=/2019/09/safe-chdir-to-previous.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/07/forbidden-assertions-fallacy.html>The fallacy of forbidding assertions</a></h2><p><p>There are two ways to handle abnormal conditions in a program: errors and assertions.</p><p><strong>Errors are a controlled mechanism by which the program propagates details about a <em>faulty condition</em> up the call chain</strong>‚Äîbe it with explicit error return statements or with exceptions. Errors must be used to validate all <em>conditions that might be possible but aren&rsquo;t valid</em> given the context. Examples include: sanitizing any kind of input (as provided by the user or incoming from the network), and handling error codes from system calls or libraries.</p></p><p class=text-muted>July 24, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/reliability>reliability</a>, <a href=/tags/sre>sre</a><br><a class=text-reset href=/2018/07/forbidden-assertions-fallacy.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/07/rust-vs-go.html>Rust vs. Go</a></h2><p>There is no good answer to this question: people tend to put Go and Rust in the same bucket because they were released at around the same time, because Rust&rsquo;s release felt like a response to Go&rsquo;s, and because they are marketed to similar audiences. They are, however, vastly different. So let&rsquo;s give in and compare them anyway.</p><p class=text-muted>July 13, 2018
&#183;
Tags:
<a href=/tags/featured>featured</a>, <a href=/tags/go>go</a>, <a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a>, <a href=/tags/sandboxfs>sandboxfs</a><br><a class=text-reset href=/2018/07/rust-vs-go.html>Continue reading (about
13 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/07/rust-review-closing-thoughts.html>Rust review: Closing thoughts</a></h2><p><p>Thought that the Rust review was over? Think again; I was just on vacation! I&rsquo;m back now to conclude the series with a bunch of random thoughts and a surprise follow-up post.</p><hr><p>The series is coming to an end. It&rsquo;s time to summarize everything we have discussed so far and to cover a few more items that didn&rsquo;t really deserve full posts of their own. Most of these miscellaneous items were thoughts that I jotted down <a href=/2018/06/rust-review-book.html>while reading TRPL book</a>. I will follow the same good/bad/ugly structure I used for <a href=/2016/03/golang-review.html>the Go review</a> a couple of years ago.</p></p><p class=text-muted>July 10, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/07/rust-review-closing-thoughts.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-ecosystem.html>Rust review: The ecosystem</a></h2><p><p>In this part of the review, I would like to focus on Rust&rsquo;s ecosystem: in other words, how Rust plays with other parts of a functioning system and how Rust&rsquo;s standard library vs. external libraries interact with each other. There are a lot of pieces to cover in these areas and they have left me with mixed feelings. Let&rsquo;s look at some.</p><h1 id=the-standard-library>The standard library</h1><p>The <a href=https://doc.rust-lang.org/std/><code>std</code></a> library feels generally well-thought out and full of features.</p></p><p class=text-muted>June 22, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/06/rust-review-ecosystem.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-book.html>Rust review: The book</a></h2><p><p>&ldquo;<a href=https://doc.rust-lang.org/book/second-edition/>The Rust Programming Language</a>&rdquo; is one of the free books that the community has put together to teach the language. The book does a good job in general, but there are some things that could be better. Let&rsquo;s cover these, but first, some background.</p><p>A couple of years ago, right after getting started with Rust, I tried to go through the book&rsquo;s first few chapters. It all sounded cool&mldr; but <a href=https://doc.rust-lang.org/beta/book/first-edition/README.html><em>the first edition</em></a> of the book moved at a glacially slow pace because it covered things in excruciating detail. E.g. the first chapter I remember was about string formatting, which detailed pretty much all there is on this topic. &ldquo;<em>Who cares? You don&rsquo;t need to know all these details upfront to get started.</em>&rdquo; I thought. So I gave up.</p></p><p class=text-muted>June 19, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/06/rust-review-book.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-match-keyword.html>Rust review: The match keyword</a></h2><p><p>A commonly-acclaimed feature of Rust is its <strong><code>match</code> keyword: a &ldquo;conditional on steroids&rdquo;</strong>. <code>match</code> lets you take the value of an expression and compare it against a bunch of values‚Äîor, more generally, <em>patterns</em>.</p><p>As you write and read Rust, you will notice that this keyword is used everywhere because it&rsquo;s <em>the</em> way to access certain types, like <code>Option</code> values or error codes.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>match</span><span class=w> </span><span class=n>node</span><span class=p>.</span><span class=n>get_parent</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// node is an Option&lt;Something&gt;.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=nb>Some</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Do something with &#34;parent&#34;, which we know points to a node.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nb>None</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// There is no parent so do something else.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>In the snippet above, we have a <code>match</code> statement with two <em>arms</em>. One key detail to observe is how the <code>parent</code> variable, which was used as a pattern to peek inside the <code>Some</code> value, is only available in the first arm. The <code>None</code> arm has no access to the <code>parent</code> variable, which is obvious because there is no parent in this case.</p></p><p class=text-muted>June 15, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/06/rust-review-match-keyword.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-expressions.html>Rust review: Expressions, expressions, expressions</a></h2><p><p>Rust resembles a functional language in many ways although it <a href=http://rust-lang.org/>does not claim</a> to be one. In fact, <strong>I have been thinking of Rust as a &ldquo;<em>pragmatic Haskell</em>&rdquo; or as a &ldquo;<em>well-balanced mixture between C++ and Haskell</em>&rdquo;</strong>.</p><p>One of the ways the functional aspects show up is via expressions and how pretty much any construct in Rust can be treated as an expression. But before we begin, a little warning: the examples below are, by no means, idiomatic Rust‚ÄîI just hope they are simple enough to illustrate what I want to show.</p></p><p class=text-muted>June 12, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/06/rust-review-expressions.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-learning-curve.html>Rust review: Learning curve</a></h2><p><p>Writing Rust code is not restricted to programming gurus‚Äîbut there is no denying that the learning curve is steeper than that of other languages. Or is it? In this post, I&rsquo;ll try to convince you that the curve does <em>feel</em> steep, but it isn&rsquo;t when taken into perspective.</p><p>Let&rsquo;s first start by stating that <strong>learning a <em>language</em> is <em>not</em> the same as learning <em>its syntax</em></strong>. Learning a language involves learning the syntax, of course, but it also involves familiarizing oneself with its common idioms and grabbing a good sense of what the standard libraries provide. Picking up the syntax can be easy as is the case for Go and Python‚Äîboth of which can be learned in a single day‚Äîbut the idioms and libraries require weeks, if not months, of frequent practice.</p></p><p class=text-muted>June 8, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/06/rust-review-learning-curve.html>Continue reading (about
4 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-protect-the-data.html>Rust review: Protect the data</a></h2><p><p><em>The one thing</em> that blew my mind about Rust is its approach to data sharing in concurrent situations.</p><p>I had always thought of mutexes as something that is easy to get wrong and was convinced that the use of a RAII pattern to prevent lock leaks never happen (like with <a href=https://github.com/abseil/abseil-cpp/blob/59ae4d5a0e833bedd9d7cc059ac15a9dc130e3f7/absl/synchronization/mutex.h#L499>Abseil&rsquo;s <code>MutexLock</code></a>) was the panacea. (I&rsquo;m a fan of RAII in C++ by the way, in case you haven&rsquo;t noticed.)</p><p>As Rust has taught me, that&rsquo;s far from the truth: <strong>in Rust, you protect the <em>data</em>, not the <em>code</em>.</strong> What this means is that, e.g. a mutex is not an object to control access to a piece of data: <strong>a mutex is a <em>container</em> for a piece of data</strong>. It is impossible to access the data without going through the mutex.</p></p><p class=text-muted>June 5, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a>, <a href=/tags/sandboxfs>sandboxfs</a><br><a class=text-reset href=/2018/06/rust-review-protect-the-data.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/06/rust-review-borrow-checker.html>Rust review: The borrow checker</a></h2><p><p>Aaaah, the borrow checker: the dreaded enemy lurking within the Rust compiler, ready to make its move to bring pain to your life by preventing your code from compiling. Or that&rsquo;s what everyone seems to say, which is one of the reasons I put off learning Rust for so long. In reality&mldr; the borrow checker is a blessing, but it is true that getting past its gates is difficult at first.</p></p><p class=text-muted>June 1, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a>, <a href=/tags/sandboxfs>sandboxfs</a><br><a class=text-reset href=/2018/06/rust-review-borrow-checker.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/05/rust-review-immutable-by-default.html>Rust review: Immutable by default</a></h2><p><p>Let&rsquo;s start the deep dive by looking into a powerful feature of Rust: <strong>all variables and references are immutable by default unless qualified with <code>mut</code></strong>.</p><p>To understand why this is important, let&rsquo;s cover some context first. One of my pet peeves when reviewing C++ code is to ask authors to sprinkle the <code>const</code> qualifier <em>everywhere</em>: if something ain&rsquo;t mutated, say so explicitly. This includes marking local variables, function arguments, function return values, class attributes, etc. Unfortunately, there are plenty of people that argue that doing so is stupid: <a href=http://www.gotw.ca/gotw/081.htm><code>const</code> doesn&rsquo;t help the compiler apply optimizations</a> and it makes the code harder to <em>write</em>. So why should everything be marked immutable?</p></p><p class=text-muted>May 29, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a><br><a class=text-reset href=/2018/05/rust-review-immutable-by-default.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2018/05/rust-review-introduction.html>Rust review: Introduction</a></h2><p><p>I had been meaning to learn <a href=https://www.rust-lang.org/en-US/>Rust</a> since <a href=/2016/03/golang-review.html>I first toyed with Go</a> a couple of years ago. During this period, I&rsquo;ve written a non-trivial amount of Go code both inside and <a href=/2017/08/introducing-sandboxfs.html>outside Google</a>, but never found the chance to sit back and learn Rust.</p><p>This changed a month ago during my yearly family trip to Korea. This time around, I decided upfront that I would <em>not</em> work on any personal or work projects for the 2-week long vacation. Instead, I would focus all spare time in reading. And I would read <a href=https://doc.rust-lang.org/book/second-edition/>&ldquo;The Rust Programming Language&rdquo;, second edition</a>. The plan worked: getting through the book took the two weeks and I barely wrote any code.</p></p><p class=text-muted>May 25, 2018
&#183;
Tags:
<a href=/tags/programming>programming</a>, <a href=/tags/rust>rust</a>, <a href=/tags/sandboxfs>sandboxfs</a><br><a class=text-reset href=/2018/05/rust-review-introduction.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2016/09/env-considered-harmful.html>#! /usr/bin/env considered harmful</a></h2><p><p>Many programming guides recommend to begin scripts with the <code>#! /usr/bin/env</code> <a href=https://en.wikipedia.org/wiki/Shebang_(Unix)>shebang</a> in order to to automatically locate the necessary interpreter. For example, for a Python script you would use <code>#! /usr/bin/env python</code>, and then the saying goes, the script would &ldquo;just work&rdquo; on any machine with Python installed.</p><p>The reason for this recommendation is that <code>/usr/bin/env python</code> will search the <code>PATH</code> for a program called <code>python</code> and execute the first one found&mldr; and that usually works fine <em>on one&rsquo;s own machine</em>.</p></p><p class=text-muted>September 14, 2016
&#183;
Tags:
<a href=/tags/featured>featured</a>, <a href=/tags/portability>portability</a>, <a href=/tags/programming>programming</a>, <a href=/tags/scripts>scripts</a>, <a href=/tags/unix>unix</a><br><a class=text-reset href=/2016/09/env-considered-harmful.html>Continue reading (about
5 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/03/making-netbsd-multiboot-compatible.html>Making NetBSD Multiboot-Compatible</a></h2><p><p><em>This article first appeared on this date in O&rsquo;Reilly&rsquo;s ONLamp.com online publication. The content was deleted sometime in 2019 but I was lucky enough to <a href=https://web.archive.org/web/20070303102352/http://www.onlamp.com/pub/a/bsd/2007/03/01/inside-multiboot.html>find a copy</a> in the WayBack Machine. I reformatted the text to fit the style of this site and fixed broken links, but otherwise the content is a verbatim reproduction of what was originally published.</em></p><hr><p>The i386 architecture is full of cruft required to maintain compatibility with old machines that go back as far as the 8086 series. Technically speaking, these features aren&rsquo;t necessary anymore because any recent computer based on this architecture uses a full 32-bit operating system that could work perfectly fine without the legacy code. Unfortunately, the compatibility hacks remain in place and hurt the development of new software.</p></p><p class=text-muted>March 1, 2007
&#183;
Tags:
<a href=/tags/featured>featured</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/onlamp>onlamp</a>, <a href=/tags/os>os</a>, <a href=/tags/programming>programming</a><br><a class=text-reset href=/2007/03/making-netbsd-multiboot-compatible.html>Continue reading (about
13 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2006/05/smart-pointers-in-cxx.html>Smart Pointers in C++</a></h2><p><p><em>This article first appeared on this date in O&rsquo;Reilly&rsquo;s ONLamp.com online publication. The content was deleted sometime in 2019 but I was lucky enough to <a href=https://web.archive.org/web/20060615153924/http://www.onlamp.com/pub/a/onlamp/2006/05/04/smart-pointers.html>find a copy</a> in the WayBack Machine. I reformatted the text to fit the style of this site and fixed broken links, but otherwise the content is a verbatim reproduction of what was originally published.</em></p><hr><p>C++, with its complex and complete syntax, is a very versatile language. Because it supports object-oriented capabilities and has powerful object libraries&mdash;such as the STL or Boost&mdash;one can quickly implement robust, high-level systems. On the other hand, thanks to its C roots, C++ allows the implementation of very low-level code. This has advantages but also carries some disadvantages, especially when one attempts to write high-level applications.</p></p><p class=text-muted>May 4, 2006
&#183;
Tags:
<a href=/tags/cxx>cxx</a>, <a href=/tags/featured>featured</a>, <a href=/tags/onlamp>onlamp</a>, <a href=/tags/programming>programming</a><br><a class=text-reset href=/2006/05/smart-pointers-in-cxx.html>Continue reading (about
17 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/04/making-packager-friendly-software-2.html>Making Packager-Friendly Software (part 2)</a></h2><p><p><em>This article first appeared on this date in O&rsquo;Reilly&rsquo;s ONLamp.com online publication. The content was deleted sometime in 2019 but I was lucky enough to <a href=https://web.archive.org/web/20150910045605/http://www.linuxdevcenter.com/pub/a/onlamp/2005/04/28/packaging2.html>find a copy</a> in the WayBack Machine. I reformatted the text to fit the style of this site and fixed broken links, but otherwise the content is a verbatim reproduction of what was originally published.</em></p><hr><p>My previous article, <a href=/2005/03/making-packager-friendly-software-1.html>Making Packager-Friendly Software (part 1)</a>, explains why software packaging is sometimes problematic due to real problems in the mainstream sources. It also discusses many issues that affect the distribution files and the configuration scripts (the most visible items when trying out a new program). This part explores the problems found in the build infrastructure and the code itself.</p></p><p class=text-muted>April 28, 2005
&#183;
Tags:
<a href=/tags/featured>featured</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/onlamp>onlamp</a>, <a href=/tags/programming>programming</a>, <a href=/tags/unix>unix</a><br><a class=text-reset href=/2005/04/making-packager-friendly-software-2.html>Continue reading (about
15 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/star.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2005/03/making-packager-friendly-software-1.html>Making Packager-Friendly Software (part 1)</a></h2><p><p><em>This article first appeared on this date in O&rsquo;Reilly&rsquo;s ONLamp.com online publication. The content was deleted sometime in 2019 but I was lucky enough to <a href=https://web.archive.org/web/20150910045646/http://www.linuxdevcenter.com/pub/a/onlamp/2005/03/31/packaging.html>find a copy</a> in the WayBack Machine. I reformatted the text to fit the style of this site and fixed broken links, but otherwise the content is a verbatim reproduction of what was originally published.</em></p><hr><p>A package maintainer, or packager, is a person who creates packages for software projects. He eventually finds common problems in these projects, resulting in a complex packaging process and a final package that is a nightmare to maintain. These little flaws exist because in most cases the original developers are not packagers, so they are not aware of them. In other words, if you do not know something is wrong, you cannot fix it.</p></p><p class=text-muted>March 31, 2005
&#183;
Tags:
<a href=/tags/featured>featured</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/onlamp>onlamp</a>, <a href=/tags/programming>programming</a>, <a href=/tags/unix>unix</a><br><a class=text-reset href=/2005/03/making-packager-friendly-software-1.html>Continue reading (about
20 minutes)</a></p></div></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon">
</a><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter">
</a><a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.jmmv.dev/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2025
Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.0de73782e9e0fbcb4184fb5793949b3b0d0ada16455df89320415b4dcc052f88.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src="https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi90YWdzL3Byb2dyYW1taW5nL2luZGV4Lmh0bWw=/stamp.gif" style=display:none></noscript></body></html>