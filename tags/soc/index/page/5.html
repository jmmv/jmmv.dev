<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Soc - Julio Merino (jmmv.dev)</title>
<meta property="og:title" content="Soc - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Soc - Julio Merino (jmmv.dev)"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.145.0"><meta property="og:url" content="https://jmmv.dev/tags/soc/index.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/tags/soc/index.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/favicons/favicon-1200x1200.png"><meta property="twitter:image" content="https://jmmv.dev/images/favicons/favicon-1200x1200.png"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Posts: Soc</h1><p>Showing 30 posts</p></div></div><div class=container><div class=row><div class=col-md-9><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2014/03/gsoc-2014-idea-port-freebsds-old-style.html>GSoC 2014 idea: Port FreeBSD's old-style tests to ATF</a></h2><p><p>Are you a student interested in contributing to a production-quality operating system by increasing its overall quality? If so, you have come to the right place!</p><p>As you may already know, the <a href=https://www.google-melange.com/gsoc/homepage/google/gsoc2014>Google Summer of Code 2014 program</a> is on and <a href=https://www.google-melange.com/gsoc/org2/google/gsoc2014/freebsd>FreeBSD has been accepted as a mentoring organization</a>. As it so happens, I have a project idea that may sound interesting to you.</p><p>During the last few months, we have been hard at work adding a standardized test suite to the FreeBSD upstream source tree as described in the <a href=http://wiki.freebsd.org/TestSuite>TestSuite project page</a>. However, a test suite is of no use if it lacks a comprehensive collection of tests!</p></p><p class=text-muted>March 12, 2014
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/freebsd>freebsd</a>, <a href=/tags/soc>soc</a>, <a href=/tags/testing>testing</a><br><a class=text-reset href=/2014/03/gsoc-2014-idea-port-freebsds-old-style.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2010/03/netbsd-in-google-summer-of-code-2010.html>NetBSD in Google Summer of Code 2010</a></h2><p>For the 6th year in a row, <a href=http://www.netbsd.org/>NetBSD</a> is a mentoring organization for <a href=http://code.google.com/soc/>Google Summer of Code</a> 2010!<br><br>If you are a bright student willing to develop full-time for an open source project during this coming summer, consider applying with us! You will have a chance to work with very smart people and, most likely, in the area that you are most passionate about. NetBSD, being an operating system project, has offers for project ideas at all levels: from the kernel to the packaging system, passing by drivers, networking tools, user-space utilities, the system installer, automation tools and more!<br><br>I would like to point you at the 3 project proposals I'm willing to directly mentor:<br><ul><li><a href=http://www.netbsd.org/contrib/soc-projects.html#optimize-atf>Optimize and speed-up ATF</a>: Make the testing framework blazing fast so that running the NetBSD automated tests does not take ages on slow platforms.<br></li><li><a href=http://www.netbsd.org/contrib/soc-projects.html#reorganize-atf>Reorganize ATF to improve modularity</a>: Refactor pieces of the testing framework so that it is easier to redistribute, has cleaner interfaces and is easier to depend on from third-party projects.<br></li><li><a href=http://www.netbsd.org/contrib/soc-projects.html#rewrite-pkg_comp>Rewrite pkg_comp with portability as a major goal</a>: Use Python to create a tool to automatically build binary packages from within a sandbox.</li></ul>If you find any of the above projects interesting, or if you have any other project proposal that you think I could mentor, do not hesitate to <a href=mailto:jmmv%20at%20netbsd%20dot%20org>contact me</a>. Feel free to send me a draft of <a href=http://www.netbsd.org/contrib/soc-application.html>your application</a>, together with a bit of information about you, so that we can discuss your proposal and make sure it gets selected!<br><br>Or, if none of the projects above interests you, please do check out the <a href=http://www.netbsd.org/contrib/soc-projects.html>full list of NetBSD project proposals</a>. I'm sure you will find something that suits your interests :-)</p><p class=text-muted>March 19, 2010
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/pkgsrc>pkgsrc</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2010/03/netbsd-in-google-summer-of-code-2010.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2009/04/netbsd-soc-needs-your-application.html>NetBSD-SoC needs your application!</a></h2><p>The Google Summer of Code 2009 application deadline for students is tomorrow and NetBSD has got very few applications so far. If you have the interest in working on a cool operating system project, where almost any project idea can fit, take the time to read <a href=http://www.netbsd.org/contrib/soc-projects.html>our proposals</a> and apply! New, original ideas not listed there will also be considered.<br><br>It'd be a pity if the number of assigned slots to NetBSD was small due to the low number of applications! We did much better past year.<br><br>Note that there are a couple of <a href=http://www.NetBSD.org/~jmmv/atf/>ATF</a>-related proposals in there. Help will be certainly welcome (by me ;-) in those areas!</p><p class=text-muted>April 2, 2009
&#183;
Tags:
<a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2009/04/netbsd-soc-needs-your-application.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2009/01/atf-06-released.html>ATF 0.6 released</a></h2><p>I am very happy to announce the availability of the <a href=http://www.netbsd.org/~jmmv/atf/news.html#20090118-atf-0-6-released>0.6 release</a> of <a href=http://www.netbsd.org/~jmmv/atf/>ATF</a>. I have to apologize for this taking so long because the code has been mostly-ready for a while. However, doing the actual release procedure is painful. Testing the code in many different configurations to make sure it works, preparing the release files, uploading them, announcing the new release on multiple sites... not something I like doing often.<br><br>Doing some late reviews, I have to admit that the code has some rough edges, but these could not delay 0.6 any more. The reason is that this release will unblock the <a href=http://netbsd-soc.sourceforge.net/projects/atfify/>NetBSD-SoC atfify</a> project, making it possible to finally integrate all the work done in it into the main NetBSD source tree.<br><br>Explicit thanks go to Lukasz Strzygowski. He was not supposed to contribute to ATF during his Summer of Code 2008 project, but he did, and he actually provided very valuable code.<br><br>The next step is to update the NetBSD source tree to ATF 0.6. I have extensive local changes for this in my working copy, but I'm very tired at the moment. I think I'll postpone their commit until tomorrow so that I don't screw up something badly.<br><br>Enjoy it and I'm looking for your feedback on the new stuff!</p><p class=text-muted>January 18, 2009
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2009/01/atf-06-released.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2008/10/soc-2008-mentor-summit.html>SoC 2008 Mentor Summit</a></h2><p>The Google SoC 2008 Mentor Summit is now officially over. The summit has taken place during the whole weekend and has been pretty intensive. The organization of the whole event has been excellent thanks to the hard work of Leslie Hawthorn among others; sorry, can't remember your names... I'm very bad at this.<div><br><a href=http://2.bp.blogspot.com/_xLbGV919cEE/SQU3jIfORjI/AAAAAAAABJg/C51qMYoli28/s1600-h/IMG_2194.JPG><img style="display:block;margin:0 auto 10px;text-align:center;cursor:pointer;cursor:hand;width:400px;height:300px" src=/images/2008-10-26-IMG_2194.JPG></a><br><div>We have had multiple sessions, ranging from technical ones such as distributed version control systems to more political ones such as how to deal with assholes in open source projects. There were lots of passionate people in these talks, and it was quite interesting to see it all. The cool thing, though, as opposed to other conferences, is that everyone here comes from a different project and background, so you get to see lots of different opinions and points of views for each topic.</div><div><br></div><div>As regards the Google HQ campus, it is great. I thought the NYC offices were good, but these are spectacular to see. Unfortunately, there is not much to do out of them... so I'm not sure if it could be so good to work here for a long time.</div><div><br><a href=http://3.bp.blogspot.com/_xLbGV919cEE/SQU3o5aEhgI/AAAAAAAABJo/rDsws46ht00/s1600-h/IMG_2216.JPG><img style="display:block;margin:0 auto 10px;text-align:center;cursor:pointer;cursor:hand;width:400px;height:300px" src=/images/2008-10-26-IMG_2216.JPG></a><br></div><div>Now, I'm sitting in the San Jose airport (SJC) waiting for the flight back to NYC. Amazingly, there is free internet wireless connection and electrical plugs! Very, very nice detail. And there is few people around, which makes it very quiet and relaxed.</div><div><br></div><div>Oh, and to those who will decipher this: some more mini golf training during the summit :P</div></div></p><p class=text-muted>October 26, 2008
&#183;
Tags:
<a href=/tags/google>google</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2008/10/soc-2008-mentor-summit.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2008/10/livenyc-or-not-now-in-mtv.html>Live@NYC: ... or not; now in MTV!</a></h2><p>I've landed this morning in San Francisco at 9.00am (which means I left NYC at 6.00am!) and went straight down to the Google Headquarters in Mountain View. No sleep at all except for a little bit of pseudo-sleep in the plane. The Google campus is really nice. It puts the NYC offices in an inferior level than I thought :P But the only problem is that the area surrounding the campus is basically empty. Very small houses and lots of space between them, which is not bad per se... but means that there really is not much to do.<br><br>Anyway. What am I doing here? I am attending the Google Summer of Code 2008 Mentors Summit this weekend, but came a bit earlier to be able to do a couple of meetings with coworkers in the Mountain View office. Pretty exhausting day, and it is not close to over yet!<br><br>Just enjoy the <a href=http://picasaweb.google.com/jmmv84/VisitToGoogleHQMTV#>few photos I've taken so far</a>.<br><br>PS: Been playing mini-golf on-board until I got an unasked segmentation fault.</p><p class=text-muted>October 24, 2008
&#183;
Tags:
<a href=/tags/google>google</a>, <a href=/tags/nyc>nyc</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2008/10/livenyc-or-not-now-in-mtv.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2008/03/google-summer-of-code-2008-and-netbsd.html>Google Summer of Code 2008 and NetBSD</a></h2><p>Google has launched the <a href=http://code.google.com/soc/2008/>Summer of Code</a> program once again this year, and <a href=http://www.netbsd.org/>NetBSD</a> is a mentoring organization for the fourth time as <a href=http://mail-index.netbsd.org/netbsd-announce/2008/03/18/msg000014.html>announced in a netbsd-announce post</a>. Unless things go very wrong in the following days, I will not take part this year as a <i>student</i> because I will be intering at Google SRE during the Summer!<br><br>However, I will try to become a mentor for the "<a href=http://www.netbsd.org/contrib/soc-projects.html#convert-regress-to-atf>Convert all remaining regression tests to ATF</a>" project. If you are looking for some interesting idea to apply for, this is a good one! Why?<br><ul><li>It will let you get into NetBSD internals in almost all areas of the system: you'll need to understand how the source tree is organized, how to add new components to it (because tests are almost in all aspects regular programs), how the current pieces of the system interact with each other...<br></li><li>You will need to gain knowledge in some areas (such as the kernel or the libraries) to be able to port tests from the old framework (if it deserves that name ;-) to the new one and, if you are really up to it, even add new tests for functionality that is currently uncovered by the test suite. But adding new tests is something you will not be required to do, because the sole task of migrating the existing ones is a huge task already.<br></li><li>Get involved in <a href=http://www.netbsd.org/%7Ejmmv/atf/>ATF</a>'s development because, as you study the existing test cases and their requirements, you will most likely find that it lacks some important functionality to make things really straightforward.</li><li>And, of course, make a unvaluable contribution to the NetBSD operating system. Having a public test suite with high coverage means that the system will gain quality. Yes, you will most likely uncover bugs in many areas of the system and give them enough exposure so that someone else may fix them.</li></ul>Note that this project is really a Summer of <i>Code</i> project. It does not have a long design phase on its own so, once you have got used to the system and ATF, you'll just code and immediately make useful contributions. In the past, projects that had a heavy design phase involved were not good because, in the end, the student did not finish the code on time.<br><br>So... don't hesitate to apply! I'm looking forward to see your applications for this project :-)</p><p class=text-muted>March 19, 2008
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2008/03/google-summer-of-code-2008-and-netbsd.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/08/soc-second-preview-of-netbsd-with-atf.html>SoC: Second preview of NetBSD with ATF</a></h2><p>Reposting from the <a href=http://www.netbsd.org/%7Ejmmv/atf/news.html#20070820-second-preview-of-netbsd-with-atf>original ATF news entry</a>:<br><blockquote></blockquote><p></p><p></p><blockquote><p>I have just updated the <a href=http://www.netbsd.org/%7Ejmmv/atf/news.html#20070808-first-preview-of-netbsd-with-atf>first preview of NetBSD-current</a> release builds with ATF merged in to match the ATF 0.1 release published today. As already stated in the old news item: These will ease testing to the casual user who is interested in this project because he will not need to mess with patches to the NetBSD source tree nor rebuild a full release, which is a delicate and slow process. For the best experience, these releases are meant to be installed from scratch even though you can also do an upgrade of a current installation. They will give you a preview of how a NetBSD installation will look like once ATF is imported into it; we are not sure when that will happen, though.</p></p><p class=text-muted>August 20, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/08/soc-second-preview-of-netbsd-with-atf.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/08/soc-some-statistics.html>SoC: Some statistics</a></h2><p>Here go some statistics about what has been done during the SoC 2007 program as regards ATF:<br><br>The <a href=http://www.netbsd.org/%7Ejmmv/atf/repository.html>repository</a> weights at 293 revisions, 1,174 certificates (typically 4 per revision, but some revisions have more) and 221 files. This includes ATF, the patches to merge it into the NetBSD build tree and the website sources. (<tt>mtn db info</tt> will give you some more interesting details.)<br><br>The <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/info/b5177db1b525d850f0df932506cf6a0910eb1696>clean sources of ATF 0.1</a> (not counting the files generated by the GNU autotools) take 948Kb and are 20,607 lines long (wow!). This includes the source code, the manual pages, the tests and all other files included in the distribution.<br><br>The <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/info/e1be38c471d5e70bf00c38563cbd5fb6f925cb93>patches to merge ATF into NetBSD</a>, according to diffstat, change 209 files, do 6,299 line insertions and 4,583 line deletions. Aside merging ATF into NetBSD, these changes also convert multiple existing regression tests to the new framework.<br><br>As regards the time I have spent on it... I don't know, but it has been a lot. It should have been more as I had to postpone the start of coding some weeks due to university work, but I think the results are quite successful and according to the expectations. I have been able to cover all the requirements listed in the <a href=http://netbsd-soc.sourceforge.net/projects/atf/>NetBSD-SoC project page</a> and done some work on the would-be-nice ones.<br><br>I am eager to see the results of the other NetBSD-SoC 2007 projects as there was very interesting stuff in them :-)</p><p class=text-muted>August 20, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/08/soc-some-statistics.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/08/soc-atf-01-released.html>SoC: ATF 0.1 released</a></h2><p>To conclude the development of ATF as part of SoC, I've released a 0.1 version coinciding with the coding deadline (later today). This clearly draws a line between what has been done during the SoC program and what will be done afterwards.<br><br>See the <a href=http://www.netbsd.org/%7Ejmmv/atf/news.html#20070820-atf-0-1-released>official announcement</a> for more details!<br><br>I hope you enjoy it as much as I did working on it.</p><p class=text-muted>August 20, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/08/soc-atf-01-released.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/08/soc-status-report_15.html>SoC: Status report</a></h2><p>SoC's deadline is just five days away! I'm quite happy with the status of my project, <a href=http://netbsd-soc.sourceforge.net/projects/atf/>ATF</a>, but it will require a lot more work to be in a decent shape — i.e. ready to be imported into NetBSD — and there really is no time to get it done in five days. Furthermore, it is still to unstable (in the sense that it changes a lot) so importing it right now could cause a lot of grief to end users. However, after a couple of important changes, it may be ready for a 0.1 release, and that's what I'm aiming for.<br><br>I have to confess again that some parts of the code are horrible. That's basically because it has been gaining features in an iterative way, all which were not planned beforehand... so it has ended up being hack over hack. But, don't worry: as long as there is good test coverage for all the expected features, this can easily be fixed. With a decent test suite, I'll be able to later rewrite any piece of code and be pretty sure that I have not broken anything important. (In fact, I've already been doing that for the most inner code with nice results.)<br><br>So what has changed since the <a href=http://julipedia.blogspot.com/2007/08/soc-first-preview-of-netbsd-with-atf.html>preview</a>?<br><ul><li>All files read by ATF as well as all data formats used for serialization of data have now a header that specifies their format (a type and a version). This is very important to have from the very beginning so that the data formats can easily be changed in the future (which will certainly happen).</li><li>Rewrote how test programs and <tt>atf-run</tt> print their execution status. Now, the two print a format that is machine-parseable and which is "sequential": reading the output from top to bottom, you can immediately know what the program is doing at the moment without having to wait for future data.</li><li>Added the <tt>atf-report</tt> tool, which gathers the output of <tt>atf-run</tt> and generates a user-friendly report. At the moment it outputs plain text only, but XML (and maybe HTML) are planned. The previous point was a pre-requisite for this one.</li><li>Merged multiple implementation files into more generic modules.</li><li>Merged the libatf and libatfprivate libraries into a single one. The simpler the better.</li><li>Added build-time tests for all public headers, to ensure that they can be included without errors.</li><li>Implemented run-time configuration variables for test programs and configuration files.</li></ul>Wow, that's a lot of stuff :-)<br><br>And talking with my mentor five days ago, we got to the following list of pending work to get done before the deadline:<br><ol><li>Configuration files. Already done as of an hour ago!</li><li>A plain text format that clearly describes the results of the test cases (similar to what <tt>src/regress/README</tt> explains). I haven't looked at that yet, but this will be trivial with the new <tt>atf-report</tt> tool.</li><li>Would be nice: HTML output. Rather easy. But I'm unsure about this point: it may be better to define a XML format only and then use xsltproc to transform it.</li><li>Manual pages: A must for 0.1 (even if they are not too detailed), but not really required for the evaluation.</li><li>Code cleanups: Can be done after SoC, but I personally dislike showing ugly code. Unfortunately there is not enough time to spend on this. Cleaning up a module means: rewriting most of it, documenting each function/class and adding exhaustive unit tests for it. It is painful, really, but the results are rewarding.<br></li><li>Keep the NetBSD patches in sync with development: I'm continuously doing that!</li></ol>Let's get back to work.</p><p class=text-muted>August 15, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/08/soc-status-report_15.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/08/soc-first-preview-of-netbsd-with-atf.html>SoC: First preview of NetBSD with ATF</a></h2><p>Reposting from the <a href=http://www.netbsd.org/%7Ejmmv/atf/news.html#20070808-first-preview-of-netbsd-with-atf>original ATF news entry</a>:<br><blockquote>I have just uploaded some NetBSD-current release builds with ATF merged in. These will ease testing to the casual user who is interested in this project because he will not need to mess with patches to the NetBSD source tree nor rebuild a full release, which is a delicate and slow process. For the best experience, these releases are meant to be installed from scratch even though you can also do an upgrade of a current installation. They will give you a preview of how a NetBSD installation will look like once ATF 0.1 is made public, which should happen later this month.<br><br>For more details see my <a href=http://mail-index.netbsd.org/current-users/2007/08/08/0000.html>post to the NetBSD's current-users</a> mailing list.</blockquote>Waiting for your feedback :-)<br><br><b>Edit (Aug 20th)</b>: Fixed a link.</p><p class=text-muted>August 8, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/08/soc-first-preview-of-netbsd-with-atf.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/soc-status-report_28.html>SoC: Status report</a></h2><p>It has already been a week since the <a href=http://julipedia.blogspot.com/2007/07/soc-atf-self-testing.html>last SoC-related post</a>, so I owe you an status report.<br><br>Development has continued at a constant rate and, despite I work a lot on the project, it may seem to advance slowly from an external point of view. The thing is that getting the ATF core components complete and right is a tough job! Just look at the <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/file/1e5eacfc5e17dffcf1c5c64cb781c770b68d1d35/TODO>current and incomplete TODO list </a>to see what I mean.<br><br>Some things worth to note:<br><ul><li>The NetBSD cross-build tool-chain no longer requires a C++ compiler to build the atf-compile host tool. I wrote a simplified version in POSIX shell to be used as the host tool alone (not to be installed). This is also used by the ATF's distfile to allow "cross-building" its own test programs.<br></li><li>Improved the cleanup procedure of the test case's work directories by handling mount points in them. This is done through a new tool called atf-cleanup.</li><li>Added a property to allow test cases specify if they require root privileges or not.<br></li><li>Many bug fixes, cleanups and new test cases; these are driving development right now.</li></ul>On the NetBSD front, there have also been several cosmetic improvements and bug fixes, but most importantly I've converted the <a href=http://cvsweb.netbsd.org/bsdweb.cgi/src/regress/sys/fs/tmpfs/>tmpfs' test suite</a> to ATF. This conversion is what has spotted many bugs and missing features in ATF's code. The TODO file has grown basically due to this.<br><br>So, at the moment, both the <tt>regress/bin</tt> and <tt>regress/sys/fs/tmpfs</tt> trees in NetBSD have been converted to ATF. I think that's enough for now and that I should focus on adding the necessary features to ATF to improve these tests. One of these is to add support for a configuration file to let the user specify how certain tests should behave; e.g. how to become root or which specific file system to use for certain tests.<br><br>I also have a partial implementation to add a "fork" property to test cases to execute them in subprocesses. This way they will be able to mess all they want with the open file descriptors without disturbing the main test program. But to get here, I first need to clean up the reporting of test case's results.<br><br>On the other hand, I also started preparing manual pages for the user tools as some of them should remain fairly stable at this point.</p><p class=text-muted>July 28, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a>, <a href=/tags/tmpfs>tmpfs</a><br><a class=text-reset href=/2007/07/soc-status-report_28.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/soc-atf-self-testing.html>SoC: ATF self-testing</a></h2><p><a href=http://www.netbsd.org/%7Ejmmv/atf/>ATF</a> is a program, and as happens with any application, it must be (automatically) tested to ensure it works according to its specifications. But as you already know, ATF is a testing framework so... is it possible to automatically test it? Can it test itself? Should it do it? The thing is: it can and it should, but things are not so simple.<br><br>ATF <i>can</i> test itself because it is possible to define test programs through ATF to check the ATF tools and libraries. ATF <i>should</i> test itself because the resulting test suite will be a great source of example code and because its execution will be on its own a good stress test for the framework. See the <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/browse/afd5e705f02e7c57495b3a7f346c80d9592a19f3/tests/atf>tests/atf</a> directory to check what I mean; specially, the <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/file/afd5e705f02e7c57495b3a7f346c80d9592a19f3/tests/atf/units/t_fs.cpp>unit tests for the fs module</a>, which I've just committed, are quite nice :-) (For the record: there currently are 14 test programs in that directory, which account for a total of 60 test cases.)<br><br>However, ATF should <i>not</i> be tested <i>exclusively</i> by means of itself. If it did so, any failure (even the most trivial one) in the ATF's code could result in false positives or false negatives during the execution of the test suite, leading to wrong results hard to discover and diagnose. Imagine, for example, that a subtle bug made the reporting of test failures to appear as test passes. All tests could start to succeed immediately and nobody could easily notice, surely leading to errors in further modifications.<br><br>This is why a bootstrapping test suite is required: one that ensures that the most basic functionality of ATF works as expected, but which does not use ATF to run itself. This additional test suite is already present in the source tree, and is written using GNU Autotest, given that I'm using the GNU Autotools as the build system. Check the <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/browse/afd5e705f02e7c57495b3a7f346c80d9592a19f3/tests/bootstrap>tests/bootstrap</a> directory to see what all this is about.<br><br>ATF's self-testing is, probably, the hardest thing I've encountered in this project so far. It is quite tricky and complex to get right, but it's cool! Despite being hard, having a complete test suite for ATF is a <i>must</i> so it cannot be left aside. Would you trust a testing framework if you could not quickly check that it worked as advertised? I couldn't ;-)</p><p class=text-muted>July 20, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/07/soc-atf-self-testing.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/soc-web-site-for-atf.html>SoC: Web site for ATF</a></h2><p>While waiting for a NetBSD release build to finish, I've prepared the <a href=http://www.netbsd.org/%7Ejmmv/atf/>web site for ATF</a>. It currently lacks information in a lot of areas, but the most important ones for now &mdash; the <a href=http://www.netbsd.org/%7Ejmmv/atf/rss-news.xml>RSS feed for news</a> and the <a href=http://www.netbsd.org/%7Ejmmv/atf/repository.html>Repository page</a> &mdash; are quite complete.<br><br>Hope you like it! Comments welcome, of course :-)</p><p class=text-muted>July 16, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/07/soc-web-site-for-atf.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/soc-converting-netbsd-regress-tests.html>SoC: Converting NetBSD 'regress' tests</a></h2><p>I've finally got at a point where I can start converting some of the current regression tests in the NetBSD tree to use the new ATF system. To prove this point, I've migrated all the tests that currently live in <tt>regress/bin</tt> to the new framework. They all now live in <tt>/usr/tests/util/</tt>. This has not been a trivial task &mdash; and it is not completely done yet, as there still are some rough edges &mdash; but I'm quite happy with the results. They show me that I'm on the right track :-) and, more importantly, they show outsiders how things are supposed to work.<br><br>If you want more information on this specific change you can <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/info/10141303206198c0d1e39907ad980e24a11b8b34>look at the revision</a> that implements it or simply inspect the <a href=http://mtn-host.prjek.net/viewmtn/atf/revision/file/10141303206198c0d1e39907ad980e24a11b8b34/patches/convert-regress-bin.diff>corresponding patch file</a>. By the way, some of the tests already fail! That's because they were not run often enough in the past, something that ATF is supposed to resolve.<br><br>While waiting for a NetBSD release build to complete, I have started working on a real web site for ATF. Don't know if I'll keep working on it now because it's a tough job and there is still <i>a lot</i> of coding to do. Really! But, on the other hand, having a nice project page is very good marketing.</p><p class=text-muted>July 15, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/07/soc-converting-netbsd-regress-tests.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/book-producing-open-source-software.html>Book: Producing Open Source Software</a></h2><p>This year, Google sent all the Summer of Code students the <span style=font-style:italic>Producing Open Source Software: How to run a successful free software project</span> book by Karl Fogel (ISBN 0-596-00759-0) as a welcome present.<br><br>I've just finished reading it and I can say that it was a very nice read. The book is very easy to follow and is very complete: it covers areas such as the project's start-up, how to set things up for promoting it, how to behave in mailing lists, how to prepare releases, how to deal with volunteers or with paid developers, etc. Everything you need to drive your project correctly and without gaining much enemies.<br><br>While many of the things stated in the book are obvious to anyone who has been in the open source world for a while (and already started a project on its own or contributed to an existing one), it is still a worthy read. I wish all the people involved in NetBSD (some more than others) read it and applied the suggestions given there. We'd certainly improve in many key areas and reduce pointless (or better said, unpleasant) discussions!<br><br>Oh, and by the way: you can read the book online at its <a href=http://producingoss.com/>web page</a>, as it is licensed under a Creative Commons Attribution-ShareAlike license. Kudos to Karl Fogel.</p><p class=text-muted>July 14, 2007
&#183;
Tags:
<a href=/tags/books>books</a>, <a href=/tags/oss>oss</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/07/book-producing-open-source-software.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/soc-code-is-public-now.html>SoC: Code is public now</a></h2><p>Just in time for the mid-term evaluation (well, with one day of delay), I've made the atf's source code public. This is possible thanks to the <a href=http://mtn-host.prjek.net/>public and free monotone server</a> run by Timothy Brownawell. It's nice to stay away from CVS ;-)<br><br>See the <i>How to get it</i> section at the <a href=http://netbsd-soc.sourceforge.net/projects/atf/>atf's page</a> for more details on how to download the code from that server and how to trust it (it may take an hour or two for the section to appear). You can also go straight to the <a href=http://mtn-host.prjek.net/viewmtn/atf/>source code browser</a>. If, by any chance, you decide to download the code, be sure to read the <tt>README</tt> files as they contain very important information.<br><br>And... don't start nitpicking yet! I haven't had a chance to clean up the code yet, and some parts of it really suck. Cleaning it up is the next thing I'll be doing, and I already started with the shell library :-)</p><p class=text-muted>July 10, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/07/soc-code-is-public-now.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/07/soc-short-term-planning.html>SoC: Short-term planning</a></h2><p>SoC 2007's mid-term evaluation is around the corner. I have to present some code on June 9th. In fact, it'd be already public if we used a decent VCS instead of CVS, but for now I'll keep the sources in a local monotone database. We'll see how they'll be made public later on.<br><br>Summarizing what has been done so far: I've already got a working prototype of the atf core functionality. I have to confess that the code is still very ugly (and with that I mean you really don't want to see it!) and that it is incomplete in many areas, but it is good enough as a "proof of concept" and a base for further incremental improvement.<br><br>What it currently allows me to do is:<br><ul><li>Write test programs (a collection of test cases) in C. In reality it is C++ as <a href=http://julipedia.blogspot.com/2007/06/soc-getting-started.html>we already saw</a>, but I've added several macros to hide the internals of the library and simplify the definition of test cases. So basically the test writer will not need to know that he's using C++ under the hood. (This is also to mimic as much as possible the shell-based interface.)</li><li>Write test programs in POSIX shell. Similar as above, but for tests written using shell scripts. (Which I think will be the majority.)</li><li>Define a "tree of tests" in the file system and recursively run them all, collecting the results in a single log. This can be done without the source tree nor the build tools (in special make), and by the end user.</li><li>Wrote many tests to test atf itself. More on this on tomorrow's post.<br></li></ul>What I'm planning to do now, before the mid-term evaluation deadline, is to integrate the current code into the NetBSD's build tree (not talking about adding it to the official CVS yet though) to show how all these ideas are applicable to NetBSD testing, and to ensure everything can work with <tt>build.sh</tt> and cross-compilation.<br><br>Once this is done, which shouldn't take very long I hope, I will start polishing the current atf's core implementation. This means rewriting several parts of the code (in special to make it more error-safe), adding more tests, adding manual pages for the tools and the interfaces, etc. This is something I'm willing to do, even though it'll be a hard and long job.</p><p class=text-muted>July 2, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/07/soc-short-term-planning.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/06/soc-atf-run-tool.html>SoC: The atf-run tool</a></h2><p>One of the key goals of <a href=http://netbsd-soc.sourceforge.net/projects/atf/>atf</a> is to let the <i>end user</i> — not <span style=font-style:italic>only</span> the <i>developer</i> — to easily run the tests after their corresponding application is installed. (In our case, application = NetBSD, but remember that atf also aims to be independent from NetBSD.) This also means, among other things, that the user must not need to have any development tool installed (the <tt>comp.tgz</tt> set) to run the tests, which rules out using make(1)... how glad I'm of that! :-)<br><br>Based on this idea, each application using atf will install its tests alongside its binaries, being the currently location <tt>/usr/tests/&lt;application></tt>. These tests will be accompanied by a control file — an <tt>Atffile</tt> — that lists which tests have to be run and in which order. (In the future this may also include configuration or some other settings.) Later on, the user will be able to launch the <b>atf-run</b> tool inside any of these directories to automatically run all the provided tests, and the tool will generate a pretty report while the tests are run.<br><br>Given that atf is an application, it has to be tested. After some work today, it is finally possible for atf to test itself! :-) Of course, it also comes with several bootstrap tests, written using GNU Autotest, to ensure that atf's core functionality works before one can run the tests written using atf itself. Otherwise one could get unexpected passes due to bugs in the atf code.<br><br>This is what atf installs:<pre>$ find /tmp/local/tests<br>/tmp/local/tests<br>/tmp/local/tests/atf<br>/tmp/local/tests/atf/Atffile<br>/tmp/local/tests/atf/units<br>/tmp/local/tests/atf/units/Atffile<br>/tmp/local/tests/atf/units/t_file_handle<br>/tmp/local/tests/atf/units/t_filesystem<br>/tmp/local/tests/atf/units/t_pipe<br>/tmp/local/tests/atf/units/t_pistream<br>/tmp/local/tests/atf/units/t_postream<br>/tmp/local/tests/atf/units/t_systembuf<br>$</pre>All the <tt>t_*</tt> files are <i>test programs</i> written using the features provided by libatf. As you can see, each directory provides an <tt>Atffile</tt> which lists the tests to run and the directories to descend into.<br><br>The atf-run tool already works (*cough* it's code is ugly, really ugly) and returns an appropriate error code depending on the outcomes of the tests. However, the report it generates is completely un-understandable. This will be the next thing to attack: I want to be able to generate plain-text reports to be seen as the text progresses, but also to generate pretty HTML files. To do the latter, the plan is to use some intermediate format such as XML and have another tool to do the formatting.</p><p class=text-muted>June 30, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/06/soc-atf-run-tool.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/06/soc-prototypes-for-basename-and-dirname.html>SoC: Prototypes for basename and dirname</a></h2><p>Today, I've attempted to build atf on a NetBSD 4.0_BETA2 system I've been setting up in a spare box I had around, as opposed to the Mac OS X system I'm using for daily development. The build failed due to some well-understood problems, but there was an annoying one with respect to some calls to the standard XPG basename(3) and dirname(3) functions.<br><br>According to the Mac OS X manual pages for those functions, they are supposed to take a <tt>const char *</tt> argument. However, the NetBSD versions of these functions take a plain <tt>char *</tt> parameter instead &mdash; i.e., <i>not</i> a <i>constant</i> pointer.<br><br>After Googling for some references and with advice from joerg@, I got the answer: it turns out that the XPG versions<sup>1</sup> of basename and dirname <i>can</i> modify the input string by trimming trailing directory separators (even though the current implementation in NetBSD does not do that). This makes no sense to me, but it's what the XPG4.2 and POSIX.1 standards specify.<br><br>I've resolved this issue by simply re-implementing basename and dirname (which I wanted to do anyway), making my own versions take and return constant strings. And to make things safer, I've added a check to the configure script that verifies if the basename and dirname implementations take a constant pointer and, in that (incorrect) case, use the standard functions to sanity-check the results of my own by means of an assertion.<br><br><sup>1</sup> How not, the GNU libc library provides its own variations of basename and dirname. However, including <tt>libgen.h</tt> forces the usage of the XPG versions.</p><p class=text-muted>June 28, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/portability>portability</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/06/soc-prototypes-for-basename-and-dirname.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/06/soc-start-of-atf-tools.html>SoC: Start of the atf tools</a></h2><p>Aside from the libraries I already mentioned in a <a href=http://julipedia.blogspot.com/2007/06/soc-getting-started.html>past post</a>, atf<sup>1</sup> will also provide several tools to run the tests. An interesting part of the problem, though, is that many tests will be written in the POSIX shell language as that will be <span style=font-style:italic>much</span> easier than writing them in C or C++: the ability to rapidly prototype tests is a fundamental design goal; otherwise nobody could write them!<br><br>However, providing two interfaces to the same framework (one in POSIX shell and one in C++) means that there could be a lot of code duplication in the two if not done properly. Not to mention that sanely and safely implementing some of these features in shell scripting could be painful.<br><br>In order to resolve the above problem, the atf will also provide several binary tools that will be helpers for the shell scripts. Most of these tools will be installed in the <tt>libexec</tt> directory as they should not be exposed to the user, yet the shell scripts will need to be able to reach them. The key idea will be to later build the shell interface on top of the binary one, reusing as much code as possible.<br><br>So far I have the following tools:<br><ul><li>atf-config: Used to dynamically query information about atf's installation. This is needed to let the shell scripts locate where the tools in <tt>libexec</tt> can be found (because they are not in the path!).</li><li>atf-format: Pretty-prints a message (single- or multi-paragraph), wrapping it on terminal boundaries.<br></li><li>atf-identify: Calculates a test program's identifier based on where it is placed in the file system. Tests programs will be organized in a directory hierarchy, and each of them has to have a unique identifier.</li></ul>The next one to write, hopefully, will be atf-run: the tool to effectively execute multiple test programs in a row and collect their results.<br><br>Oh, and in case you are wondering. Yes, I have decided to provide each tool as an independent binary instead of a big one that wraps them all (such as cvs(1)). This is to keep them as small as possible — so that shell scripts can load them quickly — and because this seems to be more in the traditional Unix philosophy of having tools for doing very specific things :-)<br><br><sup>1</sup> Should I spell it atf, ATF or Atf?</p><p class=text-muted>June 27, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/06/soc-start-of-atf-tools.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/06/soc-quote.html>SoC: A quote</a></h2><p>I've already spent a bunch of time working on the packaging (as in what will end up in the .tar.gz distribution files) of <a href=http://netbsd-soc.sourceforge.net/projects/atf/>atf</a> even though it is still in very preliminary stages of development. This involved:<br><ul><li>Preparing a clean and nice build framework, which due to the tools I'm using meant writing the <tt>configure.ac</tt> and <tt>Makefile.am</tt> files. This involved adding some useful comments and, despite I'm familiar with these tools, <i>re-reading</i> part of the <a href=http://sources.redhat.com/automake/automake.html>GNU Automake</a> and <a href=http://www.gnu.org/software/autoconf/manual/>GNU Autoconf</a> manuals; this last step is something that many, many developers bypass and therefore end up with really messy scripts as if they weren't important. (Read: if the package used some other tools, there'd be no reason to not write pretty and clean build files.)<br></li><li>Preparing the package's documentation, or at least placeholders for it: I'm referring to the typical <tt>AUTHORS</tt>, <tt>COPYING</tt>, <tt>NEWS</tt>, <tt>README</tt> and <tt>TODO</tt> documents that many developers seem to treat as garbage and fill them up at the last minute before flushing out a release, ending with badly formatted texts full of typos. Come on, that's the very first thing a user will see after unpacking a distribution file, so these ought to be pretty!</li></ul>Having spent a lot of time packaging software for <a href=http://www.pkgsrc.org/>pkgsrc</a> and dealing with source code from other projects, I have to say that I've found dozens of packages that do not have the minimum quality one can expect in the above points. I don't like to pinpoint, but I have to: this includes several GNOME packages and the libspe. This last one is fairly "interesting" because the user documentation for it is high-quality, but all the credibility slips away when you look at the source code packaging...<br><br>To all those authors:<br><blockquote>“Programs should be written and polished until they acquire publication quality.” &mdash; Niklaus Wirth</blockquote></p><p class=text-muted>June 26, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/packaging>packaging</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/06/soc-quote.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/06/soc-project-name.html>SoC: Project name</a></h2><p>The automated testing framework I'm working on is a project idea that has been around for a very long time. Back in SoC 2005, this project <a href=http://www.netbsd.org/foundation/press/soc.html>was selected</a> but, unfortunately, it was not developed. A that time, the project was named <span style=font-style:italic>regress</span>, a name that was derived from the current name used in the NetBSD's source tree to group all available tests: the <tt>src/regress</tt> directory.<br><br>In my opinion, the "regress" name was not very adequate because <span style=font-style:italic>regression tests</span> are just a kind of all possible tests: those that detect whether a feature that was supposed to be working has started to malfunction. There are other kinds of tests, such as <span style=font-style:italic>unit tests</span>, <span style=font-style:italic>integration tests</span> and <span style=font-style:italic>stress tests</span>, all of which seemed to be excluded from the project just because of its name.<br><br>When I wrote my project proposal this year, I tried to avoid the "regression testing" name wherever possible and, instead, simply used the "testing" word to emphasize that the project was not focusing on any specific test type. Based on that, the <a href=http://netbsd-soc.sourceforge.net/>NetBSD-SoC</a> administrators chose the <i>atf</i> name for my project, which stands for <i><a href=http://netbsd-soc.sourceforge.net/projects/atf/>Automated Testing Framework</a></i>. This is a very simple name,and, even though it cannot be easily pronounced, I don't dislike it: it is short, feels serious and clearly represents what the project is about.<br><br>And for the sake of completion, let me mention another idea I had for the project's name. Back when I proposed it, I thought it could be named "NetBSD Automated Testing Framework", which could then be shortened to nbatf or natf (very similar to the current name, eh?). Based on the latter name, I thought... the "f" makes it hard to pronounce, so it'd be reduced to "nat", and then, it could be translated to the obvious (to me) person name that derives from it: Natalie. That name stuck on my head for a short while, but it doesn't look too serious for a project name I guess ;-) But now, as the atf won't be tied to NetBSD, that doesn't make much sense anyway.</p><p class=text-muted>June 25, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/06/soc-project-name.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/06/soc-getting-started.html>SoC: Getting started</a></h2><p>This weekend I have finally been able to start coding for my SoC project: the <a href=http://netbsd-soc.sourceforge.net/projects/atf/>Automated Testing Framework</a> for NetBSD. To my disliking, this has been delayed too much... but I was so busy with my PFC that I couldn't find any other chance to get my hands on it.<br><br>I've started by working on two core components:<br><ul><li><span style=font-style:italic>libatf</span>: The C/C++ library that will provide the interface to easily write test cases and test suites. Among its features will be the ability to report the results of each test, a way to define meta-data for each test, etc.<br></li><li><span style=font-style:italic>libatfmain</span>: A library that provides a default entry point for test programs that takes care to run the test cases in a controlled environment &mdash; e.g. it captures all signals and deals with them gracefully &mdash; and provides a standard command-line interface for them.</li></ul>Soon after I started coding, I realized that I could need to write my own C code to deal with data collections and safe strings. I hate that, because that's a very boring task &mdash; it is not related to the problem at hand at all &mdash; and because it involves reinventing the wheel: virtually all other languages provide these two features for-free. But wait! NetBSD has a C++ compiler, and atf won't be a host tool<sup>1</sup>. So... I can take advantage of C++, and I'll try to. Calm down! I'll try to avoid some of the "complex" C++ features as much as possible to keep the executables' size small enough. You know how the binaries' size blows up when using templates... Oh, and by the way: keep in mind that test cases will be typically written in POSIX shell script, so in general you won't need to deal with the C++ interface.<br><br>Furthermore, I see no reason for atf to be tied to NetBSD. The test cases will surely be, but the framework needn't. Thus I'm thinking of creating a standalone package for atf itself and distributing it as a completely independent project (under the TNF<sup>2</sup> umbrella), which will later be imported into the NetBSD source tree as we currently do for other third-party projects such as Postfix. In fact, I've already started work on this direction by creating the typical infrastructure to use the GNU auto-tools. Of course this separation could always be done at a later step in the development, but doing it from the very beginning ensures the code is free of NetBSD-isms, emphasizes the portability desire and keeps the framework self-contained.<br><br>I'd like to hear your comments about these "decisions" :-)<br><br><sup>1</sup> A <span style=font-style:italic>host tool</span> is a utility that is built with the operating system's native tools instead of with the NetBSD's tool-chain: i.e. host tools are what <tt>build.sh tools</tt> builds. Such tools need to be highly portable because they have to be accepted by old compilers and bizarre build environments.<br><br><sup>2</sup> TNF = The NetBSD Foundation.</p><p class=text-muted>June 24, 2007
&#183;
Tags:
<a href=/tags/atf>atf</a>, <a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/06/soc-getting-started.html>Continue reading (about
3 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/04/soc-selected-again.html>SoC: Selected again!</a></h2><p>Yes, Google <a href=http://code.google.com/soc/>Summer of Code (SoC)</a> 2007 is back and I'm in once again! This means I'll be able to spend another summer working on free software and deliver some useful contributions by the end of it.<br><br>This time I sent just one proposal, choosing NetBSD as the mentoring organization. The project is entitled <a href="http://code.google.com/soc/netbsd/appinfo.html?csaid=DC7A98568FA401AA">Automated testing framework</a> and is mentored by Martin Husemann. This framework is something I've had in mind for a long time already; in fact, I also applied for this in SoC 2006 and attempted to develop this project as <a href=http://julipedia.blogspot.com/2006/12/subject-for-my-undergraduate-thesis.html>my undergraduate thesis</a>.<br><br>For more details on what the project is about, check out <a href=http://www2.blogger.com/www.netbsd.org/%7Ejmmv/soc/2007/testing.pdf>these notes</a>.<br><br>At last, take a look at the full <a href=http://code.google.com/soc/netbsd/about.html>list of accepted projects</a> for NetBSD. It is rather short unfortunately, but they all look very promising. It is a pity ext3 support is not in them, but getting ZFS instead will be good too.<br><br><b>Edit (April 19th)</b>: Fixed a link.</p><p class=text-muted>April 12, 2007
&#183;
Tags:
<a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/04/soc-selected-again.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2007/03/netbsd-and-soc-2007.html>NetBSD and SoC 2007</a></h2><p>Yes, ladies and gentlemen: Google <a href=http://www.netbsd.org/Changes/#soc200707>Summer of Code</a> 2007 is here and <a href=http://www.NetBSD.org/>NetBSD</a> is going to become a mentoring organization again (unless Google rejected the application, that is)!<br><br>We are preparing a list of <a href=http://www.netbsd.org/contrib/soc-projects.html>projects suitable for SoC</a>; spend some time looking for one that interests you (I'm sure there is something) and get ready to send your proposal between the 14th and 24th of this same month. I've already made my choice :-)<br><br>See the <a href=http://www.netbsd.org/Changes/#soc200707>official announcement</a> for more details.</p><p class=text-muted>March 8, 2007
&#183;
Tags:
<a href=/tags/netbsd>netbsd</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2007/03/netbsd-and-soc-2007.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2006/08/what-have-i-learned-during-soc.html>What have I learned during SoC?</a></h2><p>One of SoC's most important goals is the introduction of students to the free software world; this way there are high chances that they will keep contributing even when SoC is over. Students already familiar with FOSS (as was my case both years) are also allowed to participate because they can seize the Summer to learn new stuff and improve their skills.<br><br>As I expected, the development of Boost.Process has taught me multiple new things. First of all, I wanted to get familiar with the Win32 API because I knew nothing about it. I have achieved this objective by learning the details about process and file management and making Boost.Process work under this platform. Sincerely, Win32 is overly complex but has some interesting features.<br><br>Secondly, I have got a lot more fluent with C++ templates and have learned some curious coding techniques that I never thought about in the past. The most impressive one in my opinion is that templates can be used to achieve build time specialization, avoiding expensive virtual tables at run time and inheritance when these are not really needed. (I only considered them for polimorphic containers before.)<br><br>At last, I have also got into several utilities used for Boost development. Among them are Quickbook for easy document writing, Boost.Build v2 for portable software building and the Boost Unit Test library for painlessly creating automated test suites.<br><br>All in all I'm happy with the outcome of the project and the new knowledge. If SoC happens again, you should really consider joining if you have the chance!</p><p class=text-muted>August 22, 2006
&#183;
Tags:
<a href=/tags/boost-process>boost-process</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2006/08/what-have-i-learned-during-soc.html>Continue reading (about
2 minutes)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2006/08/boostprocess-01-published.html>Boost.Process 0.1 published</a></h2><p>SoC 2006 is officially over &mdash; at least for me in my timezone. Given that the Subversion repository has some problems with public access, I've tagged the current sources as the first public version and uploaded a couple of tarballs to the <a href=http://boost-consulting.com/vault/index.php?>Boost Vault</a>. Both the tag and the tarballs will also serve historical purposes, specially when newer ones come ;-)<br><br>You can download the archives from the <a href="http://boost-consulting.com/vault/index.php?&direction=0&amp;order=&directory=Process">Process</a> directory in <a href="http://boost-consulting.com/vault/index.php?action=downloadfile&amp;filename=process-0.1.tar.gz&directory=Process&amp;">tar.gz</a> and <a href="http://boost-consulting.com/vault/index.php?action=downloadfile&filename=process-0.1.zip&amp;directory=Process&">ZIP</a> formats. Enjoy!</p><p class=text-muted>August 21, 2006
&#183;
Tags:
<a href=/tags/boost-process>boost-process</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2006/08/boostprocess-01-published.html>Continue reading (about
1 minute)</a></p></div></div><div class="media my-4"><img class=mr-3 src=/octicons/note.svg width=32px height=32px><div class=media-body><h2 class=mt-0><a href=/2006/08/boostprocess-tarballs-posted.html>Boost.Process tarballs posted</a></h2><p>As everybody is not comfortable accessing Subversion repositories to download source code, I've posted two tarballs with Boost.Process' sources. They include an exported copy of the repository contents as well as prebuilt documentation in the <tt>libs/process/doc/html</tt> subdirectory.<br><br>You can download the compressed archive either in <a href=http://www.netbsd.org/%7Ejmmv/process.tar.gz>tar.gz</a> format or in <a href=http://www.netbsd.org/%7Ejmmv/process.zip>ZIP</a>. Keep in mind that these will be updated very frequently so please do not use them to prepackage the library.<br><br>Changes from yesterday's announcement are minor at this point. For the curious ones: there is now a list of <a href=http://www.netbsd.org/%7Ejmmv/process/boost_process/pending_work.html>pending work</a> and the <i>Last revised</i> item in the main page has been fixed. As a side effect of this last change, Boostbook will support SVN's <tt>$Date$</tt> tags if <a href=http://lists.boost.org/Archives/boost/2006/08/109248.php>my patch</a> is integrated :-)</p><p class=text-muted>August 17, 2006
&#183;
Tags:
<a href=/tags/boost-process>boost-process</a>, <a href=/tags/soc>soc</a><br><a class=text-reset href=/2006/08/boostprocess-tarballs-posted.html>Continue reading (about
1 minute)</a></p></div></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon">
</a><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter">
</a><a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2025
Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.0de73782e9e0fbcb4184fb5793949b3b0d0ada16455df89320415b4dcc052f88.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script><noscript><img src=https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi90YWdzL3NvYy9pbmRleC5odG1s/stamp.gif style=display:none></noscript></body></html>