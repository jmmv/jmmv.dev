<!doctype html><html lang=en xmlns=http://www.w3.org/1999/xhtml xmlns:fb=http://ogp.me/ns/fb#><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:site_name" content="Julio Merino (jmmv.dev)"><meta property="twitter:site" content="@jmmv"><title>Kyua graduates - Julio Merino (jmmv.dev)</title><meta property="og:title" content="Kyua graduates - Julio Merino (jmmv.dev)"><meta property="twitter:title" content="Kyua graduates - Julio Merino (jmmv.dev)"><meta name=description content="After years of inactivity, the Kyua project has graduated as an open source citizen and has a new home under the FreeBSD umbrella!
But uh&amp;hellip; wait, what is Kyua and why is this exciting? To resolve confusion and celebrate this milestone, I&amp;rsquo;d like to revisit what Kyua is, how it came to be, why I stopped working on it for a while, why that was a problem for FreeBSD&amp;mdash;and, indirectly, NetBSD&amp;mdash;and how Kyua being free software has helped keep it alive.
"><meta property="og:description" content="After years of inactivity, the Kyua project has graduated as an open source citizen and has a new home under the FreeBSD umbrella!
But uh&amp;hellip; wait, what is Kyua and why is this exciting? To resolve confusion and celebrate this milestone, I&amp;rsquo;d like to revisit what Kyua is, how it came to be, why I stopped working on it for a while, why that was a problem for FreeBSD&amp;mdash;and, indirectly, NetBSD&amp;mdash;and how Kyua being free software has helped keep it alive.
"><meta property="twitter:description" content="After years of inactivity, the Kyua project has graduated as an open source citizen and has a new home under the FreeBSD umbrella!
But uh&amp;hellip; wait, what is Kyua and why is this exciting? To ‚Ä¶"><meta name=author content="Julio Merino"><meta property="twitter:creator" content="@jmmv"><meta name=generator content="Hugo 0.111.3"><meta property="og:url" content="https://jmmv.dev/2024/08/kyua-graduates.html"><meta property="og:type" content="blog"><meta property="twitter:card" content="summary"><link rel=canonical href=https://jmmv.dev/2024/08/kyua-graduates.html><link rel=alternate type=application/rss+xml title="Julio Merino (jmmv.dev)" href=/feed.xml><link rel=stylesheet href=/sass/main.min.cb91349cd93211a37e7d5dc131c35a170fc795721c03373cd05571327eea206b.css><link rel=stylesheet href=/css/chroma.css><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><meta property="og:image" content="/images/2024-08-02-kyua-graduates.jpg"><meta property="twitter:image" content="https://jmmv.dev/images/2024-08-02-kyua-graduates.jpg"><script>const SITE_ID="e8da9f62-b7ac-4fe9-bf20-7c527199a376",BASE_URL="https://jmmv.dev/"</script></head><body><img src="https://hugo-dynamic.jmmv.dev/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/pages/aHR0cHM6Ly9qbW12LmRldi8yMDI0LzA4L2t5dWEtZ3JhZHVhdGVzLmh0bWw=/stamp.gif" style=display:none>
<script>window.location.replace("https://blogsystem5.substack.com/p/kyua-graduates")</script><header class=site-header><nav class="navbar navbar-expand-md fixed-top navbar-dark bg-primary"><a class=navbar-brand href=/><img src=/images/favicons/favicon-30x30.png width=30 height=30 class="d-inline-block align-top" alt>
&nbsp;jmmv.dev</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about.html>About</a></li><li class=nav-item><a class=nav-link href=/blog.html>Blog</a></li><li class=nav-item><a class=nav-link href=/resume.html>Resume</a></li><li class=nav-item><a class=nav-link href=/software.html>Software</a></li></ul><ul class="navbar-nav mr-4"><li class=nav-item><a class=nav-link href=/archive.html>Archive</a></li><li class=nav-item><a class=nav-link href=/series.html>Series</a></li><li class=nav-item><a class=nav-link href=/tags.html>Tags</a></li></ul><form class=form-inline method=get role=search action=https://www.google.com/search><div class=input-group><input type=search name=query class=form-control placeholder=Search aria-label=Search><div class=input-group-append><button type=submit value=Search class="btn btn-light">
<img src=/octicons/search.svg></button></div></div><input type=hidden name=sitesearch value=https://jmmv.dev/></form></div></nav></header><div class=page-header><div class=container><h1>Kyua graduates</h1><p>August 2, 2024 &#183;
About 14 minutes
&#183;
Tags:
<a href=/tags/blogsystem5>blogsystem5</a>, <a href=/tags/freebsd>freebsd</a>, <a href=/tags/kyua>kyua</a>, <a href=/tags/netbsd>netbsd</a></p><p class=post-meta-p>This article was
<a href=https://blogsystem5.substack.com/p/kyua-graduates>originally published
on Substack</a>
in the <a href=https://blogsystem5.substack.com/>Blog System/5 newsletter</a>
and is replicated here for archival purposes.</p><figure class=cover-image><img src=/images/2024-08-02-kyua-graduates.jpg style=max-width:100%></figure></div></div><div class="container post-body"><div class=row><div class=col-md-9><div class=row><div class=col><article><p>After years of inactivity, the Kyua project has graduated as an open source citizen and has <a href=https://github.com/freebsd/kyua/>a new home</a> under the FreeBSD umbrella!</p><p>But uh&mldr; wait, what is Kyua and why is this exciting? To resolve confusion and celebrate this milestone, I&rsquo;d like to revisit what Kyua is, how it came to be, why I stopped working on it for a while, why that was a problem for FreeBSD&mdash;and, indirectly, NetBSD&mdash;and how Kyua being free software has helped keep it alive.</p><h1 id=the-birth-of-atf>The birth of ATF</h1><p>Let&rsquo;s begin by talking about Kyua&rsquo;s predecessor: the Automated Testing Framework (ATF).</p><p>In 2005, I was <a href=/2005/06/soc-accepted.html>one of the lucky pioneers</a> of the Google Summer of Code (GSoC) program. During that summer, I wrote <a href=http://web.archive.org/web/20071214080206/http://netbsd-soc.sourceforge.net/projects/tmpfs/>the tmpfs file system for NetBSD</a> and my development process went something like this on an iBook G3:</p><ol><li>Modify the kernel.</li><li>Build and install the updated kernel.</li><li>Reboot the laptop.</li><li><strong>Mount the file system.</strong></li><li><strong>Manually validate new functionality and bug fixes.</strong></li><li>Witness the machine crash.</li><li>Force-reboot.</li><li>Rinse and repeat.</li></ol><p>Needless to say, this was a painful process. Using kernel modules lowered the pain a tiny little when the changes I made didn&rsquo;t crash but, in general, they <em>did</em> crash. Documentation was scarce and I didn&rsquo;t know what I was doing!</p><p>In an attempt to make the validation step less painful and to ensure that each change I made was a &ldquo;net positive&rdquo; instead of regressing functionality, I got what-I-think-was my first real exposure to automated testing. I <em>had</em> to automate steps 4 and 5 in the flow above, and so I wrote ad-hoc scripts to do so.</p><p>My GSoC mentors, Luke Mewburn and Bill Studenmund, pointed me at the <code>src/tests</code> directory of the NetBSD source tree which contained a bunch of tests for the system. Some of these were for user space tools and others exercised portions of the kernel. The existing machinery could probably be reused to automate my manual regression testing steps, so I had to try to integrate with it.</p><p><em>Machinery</em> is&mldr; a strong word given how rudimentary <code>src/tests</code> was. The main issue with this infrastructure was that the tests didn&rsquo;t have a real runner: they were all small programs with unique command-line interfaces glued together by a collection of <code>Makefile</code>s. There was no guarantee that these tests built nor that running a <code>make test</code> would run them all because many tests were known to be broken. And what&rsquo;s worse: some of the existing tests <em>crashed</em> the kernel due to known bugs.</p><p>I started envisioning the need for a principled test framework and wanted to create one, but I needed the time to do so and school didn&rsquo;t give me much of that. So, in 2006, I applied once again to GSoC but, while I got in, I chose to take a detour and help write the beginnings of the Boost.Process library. The reason for this choice was primarily to learn Win32 internals but a good side-effect was that I got to experience a more advanced test framework.</p><p>And then, in 2007, I wanted to create this automation project as my bachelor&rsquo;s degree graduation project&mldr; but I couldn&rsquo;t find a professor that would back the idea. (A pity because I believe it would have been a great fit for the operating systems group.) So I did what I knew how to do: I applied and got into GSoC once again&mdash;this time <a href=http://web.archive.org/web/20071225031924/http://netbsd-soc.sourceforge.net/projects/atf/>to develop a testing framework for NetBSD</a>.</p><p>The idea was to create libraries to write tests with a unified CLI interface in either C, C++, or shell, and then provide a unified runner that would execute these tests in an isolated manner <em>and</em> without access to the source tree. And thus the <em>Automated Testing Framework (ATF)</em> was born.</p><h1 id=problems-with-atf>Problems with ATF</h1><p>ATF was fine for a while. We got a large portion of the old tests in NetBSD resurrected, fixed, and hooked into the ATF infrastructure. A major contribution was Andreas Gustafsson&rsquo;s <a href=https://www.gson.org/netbsd/anita/>Anita</a>: an automation system to create a VM, install NetBSD on it via the interactive installer, and run the whole battery of tests inside of it.</p><p>Anita and ATF were the beginnings of something akin to a CI system for a full operating system in the open source world. As far as I know, Linux did <em>not</em> have anything similar&mdash;and it <em>couldn&rsquo;t</em> have had anything similar due to the distributed nature of its development&mdash;nor did the other BSDs. Windows <em>did</em> have this, of course, as I could glance from the many articles in <a href=https://devblogs.microsoft.com/oldnewthing/>The Old New Thing</a> describing backwards compatibility testing.</p><p>This was great but, over time, ATF showed signs of suboptimal design. It had at least two problems that were really hard to fix, namely:</p><ul><li><p>Its design (remember running <code>atf-run | atf-report</code>?) prevented the execution of tests in parallel, and concurrent test execution is crucial for performance. The Anita test runs took just too long for a good CI turnaround.</p></li><li><p>ATF expected tests to be written using the <code>atf-c</code>, <code>atf-c++</code>, and <code>atf-sh</code> libraries&mdash;but developers wanted to implement and reuse tests without porting them to these libraries. In particular, people wanted to create simpler test programs and wanted to support programs that emitted the more-widespread <a href=https://testanything.org/>Test Anything Protocol (TAP)</a> popularized by Perl test harnesses.</p></li></ul><p>Aside from these problems, ATF also lacked a critical feature that Anita had to supply on its own: a data store to track historical test reports and an interface to browse through them. This feature was a necessity for a CI system so, ideally, it had to live within ATF to not be stuck inside a web server. (&ldquo;Web apps everywhere&rdquo; was not a thing pre-2010.) To compound the problem, I got an internship at Google in 2008 and joined full-time in 2009, which let me experience <a href=https://bazel.build/>Blaze</a> and its ecosystem for test results tracking and reporting first-hand&mdash;and I wanted those features for NetBSD.</p><p>I concluded, <a href=https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/>maybe wrongly</a>, that ATF needed a rewrite.</p><h1 id=kyua-arrives>Kyua arrives</h1><p>So, in 2010, I set to create a brand new execution engine. At that point, the target was to rewrite just the portion of ATF that executed tests: that is, the <code>atf-run | atf-report</code> pipeline. I did not want to recreate the ATF <em>libraries</em>. The idea was to:</p><ul><li><p>Create a generic test runner that could integrate multiple test protocols, with the ATF-based tests being the first use case. The unwritten goal was to let the ATF libraries dwindle at some point in the future in favor of better libraries (like <a href=https://github.com/google/googletest>GoogleTest</a> for C++ tests or my own <a href=/2023/10/unit-testing-with-shtk.html>shtk for shell tests</a>).</p></li><li><p>Support a &ldquo;tests database&rdquo; to store the results of all test executions. This database was going to allow generating reports in multiple formats and permit running queries to look at historical trends.</p></li><li><p>Support parallel test execution via a more modular runner design. (If you know the history behind Kyua, you&rsquo;ll notice that this feature only appeared very late in the game. It was a mistake to delay it and I&rsquo;m not sure why I did that.)</p></li></ul><p>Thus, in November of 2010, Kyua was born as a &ldquo;testing framework for infrastructure software&rdquo;. It took some work to get to the point where Kyua could run most of the NetBSD test suite unmodified, but by July 2011, I reached this milestone and launched Kyua 0.1.</p><p>Which led to frustration: ATF was deeply ingrained in NetBSD and Kyua wasn&rsquo;t well-received for various reasons. One was that Kyua was a larger C++ project than ATF and C++ was (and still is) frowned upon in that community. Another was the fact that Kyua&rsquo;s reports were harder to manage and required significantly more disk space, and Andreas wasn&rsquo;t ready to bubble up his CI hardware costs. There were other concerns, all pretty reasonable.</p><p>I kept working on Kyua to try to resolve most of the concerns raised and I believe I addressed all of those that could be addressed. Unfortunately, this took time, and I had grown demotivated to pursue another &ldquo;sell&rdquo; of the project. But then&mldr;</p><h1 id=kyua-meets-freebsd>Kyua meets FreeBSD</h1><p>The FreeBSD community had been paying attention. They needed to improve their CI story as well, and they did have much more interest in building a test suite due to the needs of a few corporate-backed projects. I&rsquo;m not exactly sure who I talked to other than Enji Cooper, George N. Neville, and Ed Maste, but by 2013, I had <a href=/2013/11/joining-freebsd-committer-ranks.html>gotten a FreeBSD commit bit</a> and I was set to integrate Kyua&mdash;not ATF!&mdash;into FreeBSD.</p><p>One thing I remember was how the FreeBSD project offered me three dedicated beast machines in a colo so that I could set them up for CI runs. This felt very different from the NetBSD approach: FreeBSD had resources&mdash;understandably so, as NetBSD has always been underrated&mdash;and they were ready to invest them into the shiny-new thing. I took the bait and worked on that for a while. (Fun fact: I used a PowerMac G5 for this work.)</p><p>By December of 2013, I shipped <a href=/2013/12/introducing-freebsd-test-suite.html>the initial CI system</a> for FreeBSD. This was a really exciting moment because all efforts I had put behind Kyua finally paid off: Kyua was <em>the</em> driver for what I think is the most important operating system project in the open source community outside the Linux monoculture.</p><p>The future of the project was tainted though: I was still employed by Google&mldr; which made me keep experiencing Blaze and its ecosystem day after day. You see: Blaze is often touted as a <em>build</em> system, but its secret sauce lies in it being a <em>test</em> system. Blaze is a test runner that knows how to precisely build and run <em>the minimum set of tests impacted by a code change</em>. And this matters.</p><p>Precise test selection doesn&rsquo;t make a big difference for the run-off-the-mill projects you see in GitHub, but for monorepo-style projects&mdash;and the BSDs are such projects&mdash;this becomes a requirement to run a CI system with quick turnaround times. By this point, I saw Kyua as a &ldquo;local maximum&rdquo; because I did not see how to make this possible in combination with the native BSDs&rsquo; build systems.</p><h1 id=stagnation>Stagnation</h1><p>No matter what I secretly thought, FreeBSD was bought into ATF and Kyua, and they&mdash;Enji in particular&mdash;had larger plans for the system. The FreeBSD developers really wanted to integrate TAP-style tests, needed to set up a full CI system with many more configurations and architectures than I had set up, and needed better reporting capabilities for failures.</p><p>The problem was that I owned the critical software pieces of this infrastructure, and this was a problem for various reasons: I was too busy with work and two little kids; I had stopped using any BSD on a daily basis; I did not see a bright future for Kyua as it was designed nor implemented; and to make things worse, contributing to Kyua required signing the Google CLA because I still worked for Google (which never made any sense to me but I didn&rsquo;t have a say in the matter).</p><p>So, for years, Kyua went pretty much unmaintained. FreeBSD kept building local patches and occasionally sent PRs to my upstream project, but I dreaded dealing with them. Maintaining open source projects is stressful if only because of this guilt that you end up with when you don&rsquo;t have the time to deal with contributions in a timely manner. The more time the situation lasts, the worse it gets.</p><p>It took until 2020 to convince myself that ATF and Kyua needed attention and that I was not fit to support them. I had to let go off these projects and I needed to clear my mind <a href=https://www.endbasic.dev/2020/04/hello-endbasic.html>for other cool stuff</a>. So&mldr; I emailed the FreeBSD project owners and offered them to take ownership. If they forked the project and owned it, any FreeBSD committer could easily gain access to the project to do what was best for FreeBSD. And if they owned the fork, they wouldn&rsquo;t have to worry about the CLA part of the situation because I wouldn&rsquo;t be involved any longer.</p><p>Things didn&rsquo;t make the progress I desired though. The FreeBSD project owners had concerns about officially forking these projects into FreeBSD because it cloud give the wrong impression and alienate other consumers like NetBSD. Kyua and ATF were not FreeBSD-only projects so it was probably better for them to stand alone. The discussions died off and stayed like that&mldr;</p><h1 id=rebirth>Rebirth</h1><p>&mldr; until the end of 2023 when Li-Wen Hsu resurrected the email thread I had started. Kyua had become a critical piece of the FreeBSD quality infrastructure and it being almost-abandoned was starting to be problematic. He asked if we could move forward with the project ownership transfer idea&mdash;and I was at the ready.</p><p>And so that&rsquo;s what happened!</p><p>On January 17th, 2024, the right buttons were pushed and&mldr; <a href=https://github.com/freebsd/kyua/>Kyua</a> (along with <a href=https://github.com/freebsd/atf/>ATF</a> and <a href=https://github.com/freebsd/lutok/>Lutok</a>) all became owned by the <a href=https://github.com/freebsd/>FreeBSD GitHub organization</a>. Since then, I&rsquo;ve seen a flurry of PRs reviewed and merged into the project, which makes me happy, really, because the people that care now have the chance to do what&rsquo;s best for the project.</p><p>Plus, you know what? Even if Kyua has some &ldquo;design flaws&rdquo; because it was not designed to be exactly like Blaze, it does have some <em>other</em> interesting ideas that make it a good-enough fit for FreeBSD. In particular, one design principle behind ATF and Kyua was to allow running a test suite <em>without</em> having access to the source code.</p><p>Actually, I think this was a killer idea in the original design of ATF. The motivation for &ldquo;running tests without the source&rdquo; was to allow installing a system from scratch and then let <em>the end user</em> run the tests to verify that the system worked correctly <em>on their specific software/hardware combination</em>. The BSDs have limited resources and cannot do the sorts of testing that e.g. Microsoft does with Windows so, by pushing the tests &ldquo;to the edge&rdquo;, users could fill that gap.</p><p>And to illustrate this novel-at-the-time idea, let&rsquo;s take a tour.</p><h1 id=kyua-in-freebsd-14>Kyua in FreeBSD 14</h1><p>Kyua is part of the FreeBSD base system and, as such, it is installed under <code>/usr/bin/kyua</code> and is available out of the box.</p><p>Similarly, the test suite is available under <code>/usr/tests</code> if you choose to unpack <code>tests.txz</code> during the system installation. Peeking under it, we find:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>/usr/tests$ ls -F
</span></span><span class=line><span class=cl>Kyuafile     conftest.py  lib/         sys/
</span></span><span class=line><span class=cl>README       etc/         libexec/     usr.bin/
</span></span><span class=line><span class=cl>__init__.py  examples/    local@       usr.sbin/
</span></span><span class=line><span class=cl>atf_python/  games/       sbin/
</span></span><span class=line><span class=cl>bin/         gnu/         secure/
</span></span><span class=line><span class=cl>cddl/        include/     share/
</span></span><span class=line><span class=cl>/usr/tests$ ‚ñà
</span></span></code></pre></div><p>We can use <code>kyua list</code> to see what kind of test coverage we have. This command prints one test case name per line in its default output format, so we can easily count how many tests there are:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>/usr/tests$ kyua list | wc -l
</span></span><span class=line><span class=cl>    8246
</span></span><span class=line><span class=cl>/usr/tests$ ‚ñà
</span></span></code></pre></div><p>8000+ tests. Not bad! Let&rsquo;s peek into a tiny sample by focusing on the tests for <code>dd(1)</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>/usr/tests$ kyua list bin/dd
</span></span><span class=line><span class=cl>bin/dd/dd2_test:max_seek
</span></span><span class=line><span class=cl>bin/dd/dd2_test:seek_overflow
</span></span><span class=line><span class=cl>bin/dd/dd2_test:sigint_open
</span></span><span class=line><span class=cl>bin/dd/dd2_test:sigint_read
</span></span><span class=line><span class=cl>bin/dd/dd_test:io
</span></span><span class=line><span class=cl>bin/dd/dd_test:length
</span></span><span class=line><span class=cl>bin/dd/dd_test:seek
</span></span><span class=line><span class=cl>/usr/tests$ ‚ñà
</span></span></code></pre></div><p>And let&rsquo;s run those!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>/usr/tests$ time kyua -v parallelism=$(nproc) test bin/dd
</span></span><span class=line><span class=cl>bin/dd/dd2_test:seek_overflow  -&gt;  passed  [0.042s]
</span></span><span class=line><span class=cl>bin/dd/dd2_test:max_seek  -&gt;  skipped: tmpfs can&#39;t create arbitrarily large sparse files  [0.044s]
</span></span><span class=line><span class=cl>bin/dd/dd_test:length  -&gt;  skipped: fdescfs is not mounted on /dev/fd  [0.024s]
</span></span><span class=line><span class=cl>bin/dd/dd_test:seek  -&gt;  passed  [0.048s]
</span></span><span class=line><span class=cl>bin/dd/dd_test:io  -&gt;  passed  [0.071s]
</span></span><span class=line><span class=cl>bin/dd/dd2_test:sigint_read  -&gt;  passed  [3.077s]
</span></span><span class=line><span class=cl>bin/dd/dd2_test:sigint_open  -&gt;  passed  [3.079s]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Results file id is usr_tests.20240728-161942-793100
</span></span><span class=line><span class=cl>Results saved to /home/jmmv/.kyua/store/results.usr_tests.20240728-161942-793100.db
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>7/7 passed (0 failed)
</span></span><span class=line><span class=cl>kyua -v parallelism=$(nproc) test bin/dd  0.17s user 0.33s system 15% cpu 3.198 total
</span></span><span class=line><span class=cl>/usr/tests$ ‚ñà
</span></span></code></pre></div><p>Easy peasy. We can run tests for any part of the system right from the <code>/usr/tests</code> hierarchy without having had to build anything nor needing access to the source tree. As mentioned earlier, you can use this feature to validate that FreeBSD works on your specific machine given that device drivers are of varying quality (something that&rsquo;s true on <em>any</em> operating system) and may result in different behavior. And you can use this feature to validate that the system <em>continues to work</em> as you perform upgrades over time.</p><p>Outside of your machine, though, we can also look at the CI system based on Jenkins. For that, head to <a href=https://ci.freebsd.org/>https://ci.freebsd.org/</a> and peek around. Notice the tens of different jobs configured to build and test FreeBSD under various architectures, releases, and build settings.</p><p>As an example, look at the recent <a href=https://ci.freebsd.org/job/FreeBSD-main-amd64-test/25361/testReport/>run 25361 of <code>FreeBSD-main-amd64-test</code></a>, and notice how we can inspect the same test results we saw on the command line. Do so by clicking on <a href=https://ci.freebsd.org/job/FreeBSD-main-amd64-test/25361/testReport/bin.dd/><code>bin.dd</code></a> and finding the results for the same tests we ran earlier. This showcases Kyua&rsquo;s ability to generate a <code>junit.xml</code> test report&mdash;an output format that was precisely written to integrate with Jenkins for the FreeBSD CI system.</p><hr><p>And that&rsquo;s it.</p><p>The morale of the story is two-fold. First, free software can remain alive and kicking even if the original authors lose interest. And second&mldr; do you see how powerful it is to have a CI system for <em>a whole OS</em>? This is something Linux can only dream of because of its inherent distributed development nature. Yes, there is the <a href=https://github.com/linux-test-project/ltp>Linux Test Project</a>, but because Linux is &ldquo;just a kernel&rdquo;, this is what this project can test. There is nothing that can validate that the kernel works in combination with all other pieces that form a Linux distribution in a uniform and cohesive manner.</p><p>In any case, congrats grads. Kyua has a bright future ahead.</p></article></div></div><div class="container post-links"><div class=row><div class="col mr-auto text-left"><span><a href=https://jmmv.dev/2024/07/crowdstrike-and-rust.html>&#171; Previous</a></span></div><div class="col text-center"><span><a href=/archive.html>All posts</a></span></div><div class="col ml-auto text-right"><span></span></div></div></div><div class="container post-votes"><div class=row><div class="col-lg-4 my-2"><div class=row><div class=col><a onclick=voteThumbsUp() class="btn btn-block btn-outline-success" id=thumbs-up-btn>üëç
(<span id=thumbs-up-count>0</span>)</a></div><div class=col><a onclick=voteThumbsDown() class="btn btn-block btn-outline-danger" id=thumbs-down-btn>üëé
(<span id=thumbs-down-count>0</span>)</a></div></div></div><div class="col-lg-8 my-2 d-none d-sm-block"><div class=row><div class="col-md-4 text-center"><a href="https://www.reddit.com/submit?title=Kyua+graduates&amp;url=https%3A%2F%2Fjmmv.dev%2F2024%2F08%2Fkyua-graduates.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/reddit.png alt=Reddit width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://news.ycombinator.com/submitlink?t=Kyua+graduates&amp;u=https%3A%2F%2Fjmmv.dev%2F2024%2F08%2Fkyua-graduates.html" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/ycombinator.png alt="Hacker News" width=24 height=24></a></div><div class="col-md-4 text-center"><a href="https://twitter.com/intent/tweet?status=Kyua+graduates+%E2%80%94+https%3A%2F%2Fjmmv.dev%2F2024%2F08%2Fkyua-graduates.html+%E2%80%94+cc+%40jmmv" class="btn btn-block btn-outline-primary">Share on
<img src=/images/badges/Twitter_Social_Icon_Circle_Color.png alt=Twitter width=24 height=24></a></div></div></div></div><div class="row my-4" id=postCommentRow><div class=col><div class=media><img class=mr-3 src=/octicons/pencil.svg width=32px height=32px><div class="media-body container"><form method=post id=newPost><div class=row><div class="col my-1"><textarea class=form-control rows=1 id=postCommentContent onclick=showPostComment() placeholder="Leave a comment"></textarea></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentAuthor>Your name (optional):</label>
<input type=text class=form-control id=postCommentAuthor></div></div><div class="row newPostControls" style=display:none><div class="col my-1 form-group"><label for=postCommentEmail>Your email (optional):</label>
<input type=text class=form-control type=email id=postCommentEmail>
<small class="form-text text-muted">Invisible to all readers; if provided, you will receive notifications when replied to (not implemented yet)</small></div></div><div class=row id=postCommentError style=display:none><div class="col mt-1 alert-danger"><p></p></div></div><div class="row newPostControls" style=display:none><button class="col-md-3 my-1 btn btn-primary" type=submit id=submitCommentButton>Post</button>
<small class="col-md-9 my-1 text-muted">Comments are subject to moderation. This feature is experimental and is powered by <a href=/software/endtracker.html>EndTRACKER</a>. If you experience any issues, please <a href=/about.html#contact>contact me off-band</a>.</small></div></form></div></div></div></div><script>function hidePostComment(){var t,e=document.getElementById("postCommentContent");e.rows=1,e.value="",t=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(t,function(e){e.style.display="none"})}function showPostComment(){var e,t=document.getElementById("postCommentContent");t.rows=5,e=document.getElementsByClassName("newPostControls"),Array.prototype.forEach.call(e,function(e){e.style.display=""})}const form=document.querySelector("#newPost");form.onsubmit=function(e){e.preventDefault();let t=document.getElementById("postCommentAuthor").value,n=document.getElementById("postCommentEmail").value,s=document.getElementById("postCommentContent").value;postComment(t,n,s,hidePostComment)}</script></div></div><div class="col-md-3 sidebar d-none d-md-block"><div class=row><div class="col text-center p-2"><p><a href=/about.html class=clear-link><img src=/images/avatars/20181124-snow.jpg class="rounded-circle shadow my-2" style=width:100px><br><b>Julio Merino</b><br>A blog on operating systems, programming languages, testing, build systems, my own software
projects and even personal productivity. Specifics include FreeBSD, Linux, Rust, Bazel and
EndBASIC.</a></p><div class=row><div class=col><div class=form-group><form action=https://endtracker.azurewebsites.net/api/sites/e8da9f62-b7ac-4fe9-bf20-7c527199a376/subscribers/add method=post><input type=text name=email placeholder="Enter your email" class="form-control input-sm text-center my-1">
<button type=submit class="btn btn-primary btn-block my-1">Subscribe</button></form></div></div></div><div class="row px-2"><div class="col-sm-5 text-left"><small><span class=subscriber-count>0</span> subscribers</small></div><div class="col-sm-7 text-right"><p><a rel=me href=https://mastodon.online/@jmmv><img src=/images/badges/mastodon-logo.svg width=32px height=32px alt="Follow @jmmv on Mastodon"></a>
<a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv"><img src=/images/badges/Twitter_logo_blue.svg width=32px height=32px alt="Follow @jmmv on Twitter"></a>
<a href=/feed.xml><img src=/images/badges/feed-icon-28x28.png alt="RSS feed"></a></p></div></div></div></div><div class=row><div class=col><h2>Featured software</h2><ul><li class=overflow-ellipsis><a href=https://www.endbasic.dev/ target=_blank>EndBASIC: Online BASIC+DOS env</a></li><li class=overflow-ellipsis><a href=https://endtracker.azurewebsites.net/ target=_blank>EndTRACKER: Services for static sites</a></li></ul></div></div><div class=row><div class=col><h2>Featured posts</h2><ul><li class=overflow-ellipsis><a href=/2023/06/fast-machines-slow-machines.html>Fast machines, slow machines</a></li><li class=overflow-ellipsis><a href=/2022/12/endbasic-0.10.html>EndBASIC 0.10: Core language, evolved</a></li><li class=overflow-ellipsis><a href=/2022/10/bye-microsoft-hi-snowflake.html>Farewell, Microsoft; hello, Snowflake!</a></li><li class=overflow-ellipsis><a href=/2022/05/rust-is-hard-but-does-it-matter.html>Rust is hard, yes, but does it matter?</a></li><li class=overflow-ellipsis><a href=/2022/04/rust-traits-and-dependency-injection.html>Rust traits and dependency injection</a></li><li class=overflow-ellipsis><a href=/2022/03/a-year-on-windows-intro.html>A year on Windows: Introduction</a></li><li class=overflow-ellipsis><a href=/2021/04/always-be-quitting.html>Always be quitting</a></li><li class=overflow-ellipsis><a href=/2021/02/google-monorepos-and-caching.html>How does Google keep build times low?</a></li><li class=overflow-ellipsis><a href=/2020/12/google-no-clean-builds.html>How does Google avoid clean builds?</a></li><li class=overflow-ellipsis><a href=/2020/12/unit-testing-a-console-app.html>Unit-testing a console app (a text editor)</a></li><li class=overflow-ellipsis><a href=/essays.html#featured>More...</a></li></ul></div></div></div></div></div><footer class=container-fluid><div class=row><div class="col-4 order-2 text-right"><p class=float-right><a href=#>Back to top</a></p></div><div class="col-8 order-1 mr-auto"><p>Copyright 2004&ndash;2023 Julio Merino</p></div></div></footer><script type=module>
  import { addAnchorsToHeaders, addElementClasses, BatchClient } from "\/js\/main.d30f168b11d80082408f4a983af9a626c6e57d58f7846b2174bac40d43be33e3.js";

  var batchClient = new BatchClient(SITE_ID);
  batchClient.doAll({
    put_request: true, get_comments: true, get_subscriber_count: true, get_votes: true });

  window.voteThumbsUp = function() { batchClient.voteThumbsUp(); }
  window.voteThumbsDown = function() { batchClient.voteThumbsDown(); }

  window.postComment = function(...args) {
    batchClient.postComment(...args);
  };

  addAnchorsToHeaders();
  addElementClasses();
</script></body></html>